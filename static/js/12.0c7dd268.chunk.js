(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1071:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(5),o=t(67),s=t(33),c=t(160),i=t(161),m=t(173),p=t(44),d=t(397),u=t(10),g=t(24),h=t(14),b=t.n(h),_=t(389),E=t(393);const S=Object(d.createNumberMask)({prefix:"Rp. ",decimalPlaces:0,locale:"id-ID"});class k extends n.Component{constructor(e){super(e),this.state={listSupplier:[],columns:[{dataField:"kode_barcode",text:"Barcode"},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"merk",text:"Merk"},{dataField:"kwalitas",text:"Kualitas"},{dataField:"satuan",text:"Satuan"},{dataField:"qty",text:"Qty"},{dataField:"harga_satuan",text:"Harga Satuan",formatter:e=>parseFloat(e).toLocaleString("id-ID")},{dataField:"total",text:"Total",formatter:e=>parseFloat(e).toLocaleString("id-ID")},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a)=>(this.setState({}),l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{type:"button",onClick:()=>this.deleteBarang(a),className:"btn btn-danger"},"Hapus",l.a.createElement("i",{className:"fa fa-trash ml-2"})))))}]}}deleteBarang(e){b.a.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(a=>{a.isConfirmed&&(Object(p.j)("PenerimaanSupplier_temp_kirim",e.kode_barcode),Object(p.j)("PenerimaanSupplier_temp",e.kode_barcode),this.props.dispatch(Object(g.A)()))})}componentDidMount(){Object(u.b)("terima-barang-supplier/generate/no-trx").then(e=>localStorage.setItem("penerimaan_kode_terima",e.data[0].no_terima)),Object(u.b)("supplier/get/all").then(e=>this.setState({listSupplier:e.data}))}setTotal(){this.props.change("total",this.props.total)}setLocal(e,a){localStorage.setItem(e,a)}setCheckbox(e){let a=localStorage.getItem(e);if(a){let t="true"===a;localStorage.setItem(e,!t)}else localStorage.setItem(e,!0)}setSupplier(e){let a=e&&e.split("||");this.setLocal("penerimaan_kode_supplier",a[0]),this.setLocal("type_pembayaran",a[1])}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(c.a,{name:"kode_terima",component:p.c,type:"text",label:"Kode Terima",placeholder:"Masukan Kode Terima",readOnly:!0,validate:E.a})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(c.a,{name:"kode_supplier",component:p.e,options:this.state.listSupplier.map(e=>{return{value:"".concat(e.kode_supplier,"||").concat(e.pembayaran_cash),name:e.nama_supplier}}),type:"text",label:"Supplier",placeholder:"Masukan Supplier",onChange:e=>this.setSupplier(e),validate:E.a})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(c.a,{name:"tanggal_invoice",component:p.c,type:"date",label:"Tanggal Invoice",placeholder:"Masukan Tanggal Invoice",onChange:e=>this.setLocal("penerimaan_tanggal_invoice",e.target.value),validate:E.a})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(c.a,{name:"tanggal_barang",component:p.c,type:"date",label:"Tanggal Barang",placeholder:"Masukan Tanggal Barang",onChange:e=>this.setLocal("penerimaan_tanggal_barang",e.target.value),validate:E.a})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(c.a,{name:"keterangan",component:p.c,type:"text",label:"Keterangan",placeholder:"Masukan Keterangan",onChange:e=>this.setLocal("penerimaan_keterangan",e.target.value)})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(c.a,{name:"no_bon",component:p.c,type:"text",label:"Nomor Bon",placeholder:"Masukan Nomor Bon",onChange:e=>this.setLocal("penerimaan_no_bon",e.target.value),validate:E.a})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(c.a,{name:"type_pembayaran",component:p.c,type:"text",label:"Type Pembayaran",placeholder:"Masukan Type Pembayaran",readOnly:!0})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-warning",type:"button",onClick:this.props.showTambah},"Tambah Data ",l.a.createElement("i",{className:"fa fa-plus ml-3"})))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(_.a,{keyField:"kode_barcode",data:this.props.listterimasupplier||[],columns:this.state.columns,CSVExport:!0,textEmpty:"Silahkan klik Tombol Kuning Untuk Tambah Barang"})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(c.a,Object.assign({name:"sub_total",component:p.c,type:"text",label:"Sub Total",placeholder:"Masukan Sub Total",readOnly:!0},S))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(c.a,Object.assign({name:"discount",component:p.c,type:"text",label:"Discount",placeholder:"Masukan Discount"},S,{onChange:this.setTotal()}))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(c.a,Object.assign({name:"total",component:p.c,type:"text",label:"Total",placeholder:"Masukan Total"},S))))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary"},"Simpan ",l.a.createElement("i",{className:"fa fa-paper-plane ml-3"}))))))}}k=Object(i.a)({form:"HeadSupplierPenerimaan",enableReinitialize:!0})(k);const N=Object(m.a)("HeadSupplierPenerimaan");var y=Object(s.b)(e=>{const a=N(e,"sub_total","discount"),t=a.sub_total,n=a.discount;return localStorage.setItem("penerimaan_discount",n||0),{total:parseFloat(t||0)-parseFloat(n||0),initialValues:{sub_total:e.transaksi.sub_total,kode_terima:localStorage.getItem("penerimaan_kode_terima")||null,kode_supplier:"".concat(localStorage.getItem("penerimaan_kode_supplier"),"||").concat(localStorage.getItem("type_pembayaran"))||null,tanggal_invoice:localStorage.getItem("penerimaan_tanggal_invoice")||null,tanggal_barang:localStorage.getItem("penerimaan_tanggal_barang")||null,keterangan:localStorage.getItem("penerimaan_keterangan")||null,no_bon:localStorage.getItem("penerimaan_no_bon")||null,discount:localStorage.getItem("penerimaan_discount")||0,type_pembayaran:"true"===localStorage.getItem("type_pembayaran")?"CASH":"KREDIT"}}})(k),v=t(388),O=t(66),I=t(410),T=t(417),x=t(52),f=t(112),j=t.n(f),P=t(6),A=t(492);const w=Object(d.createNumberMask)({prefix:"Rp. ",locale:"id-ID"});class C extends n.Component{constructor(e){super(e),this.state={type_bayar:"row",cash:"col-lg-12 d-none",transfer:"col-lg-12 d-none",listBank:[],bayar:!0}}reRender(){this.setState({bayar:!this.state.bayar})}setTotal(){this.props.total>this.props.total_cash&&Object(p.a)("Jumlah Cash Melebihi Tagihan"),this.props.change("total_ref",this.props.total_cash),this.props.change("total",this.props.total),this.props.change("no_bon",this.props.no_terima),this.props.change("kode_supplier",this.props.kode_supplier),this.props.change("tanggal_terima",localStorage.getItem("tanggal"))}componentDidMount(){Object(u.b)("bank/get/all").then(e=>this.setState({listBank:e.data}))}render(){return l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("form",{onSubmit:this.props.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 text-center mb-3"},l.a.createElement("h4",null,"Total Hutang"),l.a.createElement("h1",null,"".concat(parseFloat(this.props.sisa_hutang).toLocaleString("id-ID")))),l.a.createElement("div",{className:"col-lg-6 text-center mb-3"},l.a.createElement("h4",null,"Total Retur"),l.a.createElement("h1",null,"".concat(parseFloat(this.props.retur_rp).toLocaleString("id-ID")))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h3",null,"Pembayaran Cash"),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(c.a,Object.assign({name:"cash",component:p.c,type:"text",label:"Cash",placeholder:"Masukan Cash"},w,{onChange:this.setTotal(),onBlur:this.setTotal()}))),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(c.a,{name:"kode_supplier",component:p.c,type:"text",label:"Kode Supplier",placeholder:"Masukan Kode Supplier"})),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(c.a,{name:"tanggal_terima",component:p.c,type:"text",label:"Tanggal Terima",placeholder:"Masukan Tanggal Terima"})),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(c.a,{name:"no_bon",component:p.c,type:"text",label:"Nomor Bon",placeholder:"Masukan Nomor Bon"}),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(c.a,{name:"retur_rp",component:p.c,type:"text",label:"Return Rp",placeholder:"Masukan Return Rp"})),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(c.a,{name:"sisa_hutang",component:p.c,type:"text",label:"Sisa Hutang",placeholder:"Masukan Sisa Hutang"}))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("p",null,"* Silahkan isi sesuai metode pembayaran, bisa menggunakan 2 metode sekaligus"))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h3",null,"Pembayaran Transfer"),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(c.a,Object.assign({name:"transfer",component:p.c,type:"text",label:"Transfer",placeholder:"Masukan Transfer"},w,{onChange:this.setTotal(),onBlur:this.setTotal()}))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(c.a,{name:"no_ac_asal",component:p.e,options:this.state.listBank.map(e=>{return{value:e.no_ac,name:"".concat(e.no_ac," - ( ").concat(e.atas_nama," )")}}),type:"text",label:"Nomor A/C Asal",placeholder:"Masukan Nomor A/C Asal"})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(c.a,{name:"no_ac_tujuan",component:p.c,type:"text",label:"Nomor A/C Tujuan",placeholder:"Masukan Nomor A/C Tujuan"}))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h3",null,"Pembayaran Return"),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(A.a,{reRender:()=>this.reRender()})))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(c.a,Object.assign({name:"total_ref",component:p.c,type:"text",label:"Total Harus Dibayar",placeholder:"Masukan Total Harus Dibayar",readOnly:!0},w))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(c.a,Object.assign({name:"total",component:p.c,type:"text",label:"Total",placeholder:"Masukan Total",readOnly:!0},w))))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary"},"Bayar"))))))}}C=Object(i.a)({form:"ModalBayarSupplierPenerimaan",enableReinitialize:!0})(C);const F=Object(m.a)("ModalBayarSupplierPenerimaan");var M=Object(s.b)(e=>{const a=F(e,"cash","transfer"),t=a.cash,n=a.transfer;let l=JSON.parse(localStorage.getItem("list_return"))||[],r=l&&l.map(e=>e.total_retur).reduce((e,a)=>e+a,0);return{total:parseFloat(t||0)+parseFloat(n||0),sisa_hutang:e.transaksi.sub_total,retur_rp:r,kode_supplier:e.transaksi.listPembayaran.kode_supplier,no_terima:e.transaksi.listPembayaran.no_terima,tanggal_terima:e.transaksi.listPembayaran.tanggal_terima,total_cash:parseFloat(e.transaksi.sub_total)-parseFloat(r)}})(C);const B=Object(n.lazy)(()=>t.e(125).then(t.bind(null,1046)));class R extends n.Component{constructor(e){super(e),this.state={bayar:!1}}componentDidMount(){this.props.dispatch(Object(g.A)()),this.getKodePenerimaan(),this.props.dispatch(Object(P.Ab)())}handleHead(e){if("true"===localStorage.getItem("type_pembayaran"))return this.setState({bayar:!0}),this.props.dispatch(Object(P.Wb)()),!1;if(null===localStorage.getItem("PenerimaanSupplier_temp_kirim"))return Object(p.a)("Data Barang Masih Kosong, Mohon isi barang dulu"),!1;{let a={no_terima:localStorage.getItem("penerimaan_kode_terima"),tanggal_terima:localStorage.getItem("penerimaan_tanggal_barang"),no_bon:localStorage.getItem("penerimaan_no_bon"),tanggal_bon:localStorage.getItem("penerimaan_tanggal_invoice"),kode_supplier:localStorage.getItem("penerimaan_kode_supplier"),pembayaran_cash:"true"===localStorage.getItem("type_pembayaran"),pembayaran_kredit:"true"!==localStorage.getItem("type_pembayaran"),keterangan:localStorage.getItem("penerimaan_keterangan"),diskon_rp:localStorage.getItem("penerimaan_discount")||0,detail_barang:JSON.parse(localStorage.getItem("PenerimaanSupplier_temp_kirim"))||[]};const t=[],n=[];let l=JSON.parse(localStorage.getItem("PenerimaanSupplier_temp"));l.forEach((e,a)=>{const n=[++a,e.kode_barcode,e.nama_barang,e.merk,e.kwalitas,e.type,e.satuan,e.qty,parseFloat(e.harga_satuan).toLocaleString("id-ID"),parseFloat(e.total).toLocaleString("id-ID")];t.push(n)});const r=["","","","","","","","","TOTAL TAGIHAN",parseFloat(l.map(e=>e.total).reduce((e,a)=>e+a,0)).toLocaleString("id-ID")];n.push(r);let o=["NO","BARCODE","JENIS BARANG","MERK","KW","TYPE","SATUAN","QTY","HARGA SATUAN","TOTAL"];Object(u.c)("terima-barang-supplier/post-transaksi",a).then(()=>Object(p.b)("Berhasil Melakukan Pembayaran Non-Tunai")).then(()=>Object(T.a)("NO TERIMA",e.kode_terima,"TANGGAL",e.tanggal_invoice,"NO BON",e.no_bon,"SUPP",localStorage.getItem("penerimaan_kode_supplier"),Object(p.k)().user_name,"01-28-2021",Object(p.k)().user_name,o,"BUKTI PENERIMAAN BARANG SUPPLIER",t,n,!0)).then(()=>Object(x.c)(["PenerimaanSupplier_temp","PenerimaanSupplier_temp_kirim","penerimaan_keterangan","penerimaan_kode_supplier","penerimaan_no_bon","penerimaan_kode_terima","penerimaan_tanggal_barang","penerimaan_tanggal_invoice"])).then(()=>this.props.dispatch(Object(O.a)("HeadSupplierPenerimaan"))).then(()=>this.getKodePenerimaan()).then(()=>this.props.dispatch(Object(g.A)())).then(()=>this.props.dispatch(Object(P.Tb)())).then(()=>this.props.dispatch(Object(P.Ab)())).then(()=>window.location.reload()).catch(e=>Object(p.a)(e.response.data))}}showTambah(){this.setState({bayar:!1}),this.props.dispatch(Object(P.Wb)())}getKodePenerimaan(){Object(u.b)("terima-barang-supplier/generate/no-trx").then(e=>localStorage.setItem("penerimaan_kode_terima",e.data[0].no_terima))}handleModal(e){let a=JSON.parse(localStorage.getItem("PenerimaanSupplier_temp_kirim"))||[],t=JSON.parse(localStorage.getItem("PenerimaanSupplier_temp"))||[],n=a.findIndex(a=>a.kode_barcode===e.kode_barcode),l=t.findIndex(a=>a.kode_barcode===e.kode_barcode);if(-1!==n){let r={kode_barcode:e.kode_barcode,qty:parseInt(e.qty)+parseFloat(a[n].qty),harga_satuan:parseFloat(e.harga_satuan),harga_total:parseFloat(e.total)+parseFloat(a[n].harga_total)},o={harga_satuan:e.harga_satuan,kode_barcode:e.kode_barcode,kwalitas:e.kwalitas,merk:e.merk,nama_barang:e.nama_barang,qty:parseFloat(e.qty)+parseFloat(t[l].qty),satuan:e.satuan,total:parseFloat(e.total)+parseFloat(t[l].total),type:e.type};a.splice(n,1),t.splice(l,1),a.push(r),t.push(o),localStorage.setItem("PenerimaanSupplier_temp",JSON.stringify(t)),localStorage.setItem("PenerimaanSupplier_temp_kirim",JSON.stringify(a)),Object(p.b)("Berhasil"),this.props.dispatch(Object(O.a)("ModalSupplierPenerimaan")),this.props.dispatch(Object(g.A)())}else{let a={kode_barcode:e.kode_barcode,qty:parseInt(e.qty),harga_satuan:parseFloat(e.harga_satuan),harga_total:parseFloat(e.total)},t={harga_satuan:e.harga_satuan,kode_barcode:e.kode_barcode,kwalitas:e.kwalitas,merk:e.merk,nama_barang:e.nama_barang,qty:e.qty,satuan:e.satuan,total:e.total,type:e.type};Object(I.a)("PenerimaanSupplier_temp",t).then(()=>this.props.dispatch(Object(O.a)("ModalSupplierPenerimaan"))).then(()=>this.props.dispatch(Object(g.A)())),Object(I.a)("PenerimaanSupplier_temp_kirim",a).then(()=>this.props.dispatch(Object(O.a)("ModalSupplierPenerimaan"))).then(()=>this.props.dispatch(Object(g.A)()))}}handleCash(e){if(null===localStorage.getItem("PenerimaanSupplier_temp_kirim"))return Object(p.a)("Data Barang Masih Kosong, Mohon isi barang dulu"),!1;{let a={no_terima:localStorage.getItem("penerimaan_kode_terima"),tanggal_terima:localStorage.getItem("penerimaan_tanggal_barang"),no_bon:localStorage.getItem("penerimaan_no_bon"),tanggal_bon:localStorage.getItem("penerimaan_tanggal_invoice"),kode_supplier:localStorage.getItem("penerimaan_kode_supplier"),no_ref:this.props.noFaktur,no_ref_cash:this.props.noFaktur,pembayaran_cash:"true"===localStorage.getItem("type_pembayaran"),pembayaran_kredit:"true"!==localStorage.getItem("type_pembayaran"),keterangan:localStorage.getItem("penerimaan_keterangan"),diskon_rp:localStorage.getItem("penerimaan_discount"),cash_rp:e.cash||0,transfer_rp:e.transfer||0,no_ac_asal:e.no_ac_asal&&e.no_ac_asal.toString()||"-",no_ac_tujuan:e.no_ac_tujuan||"-",detail_barang:JSON.parse(localStorage.getItem("PenerimaanSupplier_temp_kirim"))||[],detail_bayar_retur:JSON.parse(localStorage.getItem("list_return"))||[]};console.log(JSON.stringify(a));const t=[],n=[];let l=JSON.parse(localStorage.getItem("PenerimaanSupplier_temp"));l.forEach((e,a)=>{const n=[++a,e.kode_barcode,e.nama_barang,e.merk,e.kwalitas,e.type,e.satuan,e.qty,parseFloat(e.harga_satuan).toLocaleString("id-ID"),parseFloat(e.total).toLocaleString("id-ID")];t.push(n)});const r=["","","","","","","","","TOTAL TAGIHAN",parseFloat(l.map(e=>e.total).reduce((e,a)=>e+a,0)).toLocaleString("id-ID")];n.push(r);let o=["NO","BARCODE","JENIS BARANG","MERK","KW","TYPE","SATUAN","QTY","HARGA SATUAN","TOTAL"];Object(u.c)("terima-barang-supplier/post-transaksi-tunai",a).then(()=>Object(p.b)("Berhasil Melakukan Pembayaran Cash")).then(()=>Object(T.a)("NO TERIMA",localStorage.getItem("penerimaan_kode_terima"),"TANGGAL",localStorage.getItem("penerimaan_tanggal_invoice"),"NO BON",localStorage.getItem("penerimaan_no_bon"),"SUPPLIER",localStorage.getItem("penerimaan_kode_supplier"),Object(p.k)().user_name,"01-28-2021",Object(p.k)().user_name,o,"BUKTI PENERIMAAN BARANG SUPPLIER",t,n,!0)).then(()=>Object(x.c)(["PenerimaanSupplier_temp","PenerimaanSupplier_temp_kirim","penerimaan_keterangan","penerimaan_kode_supplier","penerimaan_no_bon","penerimaan_kode_terima","penerimaan_tanggal_barang","penerimaan_tanggal_invoice","penerimaan_discount","noFaktur"])).then(()=>this.props.dispatch(Object(O.a)("HeadSupplierPenerimaan"))).then(()=>this.getKodePenerimaan()).then(()=>this.props.dispatch(Object(P.Tb)())).then(()=>this.props.dispatch(Object(P.Ab)())).then(()=>this.props.dispatch(Object(g.A)())).catch(e=>Object(p.a)(e.response.data))}}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(r.b,{to:"#"},"Transaksi")),l.a.createElement("li",{className:"breadcrumb-item active"},"Penerimaan Supplier")),l.a.createElement("h1",{className:"page-header"},"Penerimaan Supplier "),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(o.a,null,l.a.createElement(o.c,null,"Penerimaan Supplier"),l.a.createElement(o.b,null,l.a.createElement("br",null),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(y,{onSubmit:e=>this.handleHead(e),listterimasupplier:this.props.listterimasupplier,sub_total:this.props.sub_total,showTambah:()=>this.showTambah()})),l.a.createElement("br",null))),l.a.createElement(v.a,{content:l.a.createElement(n.Suspense,{fallback:l.a.createElement(j.a,{width:"100%",height:300})},this.state.bayar?l.a.createElement(M,{onSubmit:e=>this.handleCash(e)}):l.a.createElement(B,{onSubmit:e=>this.handleModal(e)})),title:this.state.bayar?"Pembayaran Cash":"Tambah Barang Penerimaan Supplier"}))))}}R=Object(i.a)({form:"SupplierPenerimaan",enableReinitialize:!0})(R);a.default=Object(s.b)(e=>({listterimasupplier:e.transaksi.listterimasupplier,sub_total:e.transaksi.sub_total,noFaktur:e.datamaster.noFaktur}),null)(R)},388:function(e,a,t){"use strict";var n=t(0),l=t.n(n),r=t(33),o=t(403),s=t(401),c=t(402),i=t(6);a.a=Object(r.b)(e=>({isOpen:e.datamaster.modalDialog}),null)(class extends n.Component{constructor(e){super(e),this.state={}}render(){return l.a.createElement(o.a,{backdrop:"static",keyboard:!1,isOpen:this.props.isOpen,toggle:()=>this.props.dispatch(Object(i.Tb)()),size:this.props.size||"xl"},l.a.createElement(s.a,{toggle:()=>this.props.dispatch(Object(i.Tb)())},this.props.title),l.a.createElement(c.a,null,this.props.content))}})},389:function(e,a,t){"use strict";var n=t(0),l=t.n(n),r=t(395),o=t.n(r),s=t(398),c=t.n(s),i=t(399),m=t.n(i),p=t(390),d=t(112),u=t.n(d);const g=s.Search.SearchBar,h=s.CSVExport.ExportCSVButton;a.a=function(e){let a=e.textEmpty,t=e.handleClick,n=e.tambahData,r=e.expandRow,s=e.selectRow,i=e.exportCSV;return e.data?l.a.createElement(c.a,{keyField:e.keyField,data:e.data||[],columns:e.columns,search:!0},e=>l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"text-left"},l.a.createElement(g,e.searchProps))),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"text-right"},n&&l.a.createElement("button",{onClick:t,className:"btn btn-primary",type:"button"},"Tambah Data",l.a.createElement("i",{className:"fa fa-plus ml-3"})))),l.a.createElement("hr",null),l.a.createElement("div",{className:"col-12"},l.a.createElement(o.a,Object.assign({pagination:m()(),selectRow:s,expandRow:r},e.baseProps,{striped:!0,noDataIndication:l.a.createElement(p.a,{text:a||"Tidak Ada Data"})})),l.a.createElement("br",null),i&&l.a.createElement(h,e.csvProps,"Export CSV!!")))):e.empty?l.a.createElement(c.a,{keyField:e.keyField,data:e.data||[],columns:e.columns,search:!0},e=>l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"text-left"},l.a.createElement(g,e.searchProps))),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"text-right"},n&&l.a.createElement("button",{onClick:t,className:"btn btn-primary",type:"button"},"Tambah Data",l.a.createElement("i",{className:"fa fa-plus ml-3"})))),l.a.createElement("hr",null),l.a.createElement("div",{className:"col-12"},l.a.createElement(o.a,Object.assign({pagination:m()()},e.baseProps,{noDataIndication:l.a.createElement(p.a,{text:a||"Tidak Ada Data"})})),l.a.createElement("br",null),e.CSVExport&&l.a.createElement(h,e.csvProps,"Export CSV!!")))):l.a.createElement(u.a,{width:"100%",height:250})}},390:function(e,a,t){"use strict";var n=t(0),l=t.n(n),r=t(391),o=t.n(r);a.a=function(e){return l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-center"},l.a.createElement("img",{src:o.a,width:"250",height:"250",alt:"Empty"}),l.a.createElement("h5",null,e.text)))}},391:function(e,a,t){e.exports=t.p+"static/media/empty.02c14787.svg"},393:function(e,a,t){"use strict";t.d(a,"a",function(){return n});const n=e=>e?void 0:"Tidak Boleh Kosong"},410:function(e,a,t){"use strict";t.d(a,"a",function(){return r});var n=t(14),l=t.n(n);const r=(e,a)=>new Promise((t,n)=>{let r=JSON.parse(localStorage.getItem(e))||[];r.push(a),localStorage.setItem(e,JSON.stringify(r)),l.a.fire({position:"top-right",text:"Tambah Data Berhasil",timer:2e3,icon:"success",showConfirmButton:!1}).then(()=>t("Berhaisl")).catch(()=>n("GAGAL"))})},417:function(e,a,t){"use strict";var n=t(83);t(172);a.a=((e="",a="",t="",l="",r="",o="",s="",c="",i="",m="",p="",d=[],u="",g,h,b)=>{const _=new n.default;_.autoTable(d,g,{foot:h,startY:40,theme:"plain",bodyStyles:{lineWidth:.02,lineColor:"#000"},headStyles:{lineWidth:.02,lineColor:"#000",fillColor:[187,187,187]}});let E=_.lastAutoTable.finalY+10;_.text(u,14,15),_.setFontSize(10),_.text("".concat(e,"\t: ").concat(a),14,25),_.text("".concat(t,"\t: ").concat(l),120,25),_.text("".concat(r,"\t: ").concat(o),14,30),_.text("".concat(s,"\t: ").concat(c),120,30),b?(_.text("Mengetahui",27,E+5),_.text("(.................................)",20,E+25),_.text("Penerima",140,E+5),_.text("(.................................)",130,E+25)):(_.text("User\t: ".concat(i),14,E+10),_.text("Cetak\t: ".concat(m),14,E+16),_.text("Valid\t: ".concat(p),14,E+22));var S="<embed width='100%' height='100%' src='"+_.output("datauristring")+"'/>",k=window.open();k.document.open(),k.document.write(S),k.document.close()})},492:function(e,a,t){"use strict";var n=t(0),l=t.n(n),r=t(161),o=t(10),s=t(44);class c extends n.Component{constructor(e){super(e),this.state={nomor_return:"",deleted:!0}}tambahData(){if(""===this.state.nomor_return)return Object(s.g)("Silahkan isi nomor return"),!1;Object(o.b)("retur-barang-supplier/getDataReturSupplier/"+this.state.nomor_return).then(e=>{if(0===e.data.length)return console.log("NOL"),Object(s.g)("Nomor Return Tidak Ditemukan"),this.props.change(""),!1;console.log("TIDAK NOL"),this.saveLocal(e)}).catch(e=>"Error : ".concat(e&&e.response.data))}saveLocal(e){let a=JSON.parse(localStorage.getItem("list_return"))||[],t={no_faktur:e&&e.data.no_retur_supplier,total_retur:e&&e.data.jml_netto_rp},n=a.findIndex(a=>a.no_return===e.data.no_retur_supplier);~n?a[n]=t:a.push(t),localStorage.setItem("list_return",JSON.stringify(a)),this.setState({no_faktur:e&&e.data.no_retur_supplier,total_retur:e&&e.data.jml_netto_rp}),this.props.reRender()}delete(e){let a=JSON.parse(localStorage.getItem("list_return"))||[];a.splice(e,1),localStorage.setItem("list_return",JSON.stringify(a)),Object(s.h)("Berhasil Menghapus Data"),this.setState({deleted:!this.state.deleted}),this.props.reRender()}render(){let e=JSON.parse(localStorage.getItem("list_return"))||[],a="Rp. "+e.map(e=>e.total_retur).reduce((e,a)=>e+a,0).toLocaleString("id-ID");return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-9"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Nomor Return"),l.a.createElement("input",{type:"text",className:"form-control",onChange:e=>this.setState({nomor_return:e.target.value})}))),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("label",{htmlFor:""},"."),l.a.createElement("button",{type:"button",className:"btn btn-block btn-primary",onClick:()=>this.tambahData()},l.a.createElement("strong",null,"+")))),l.a.createElement("div",{className:"widget-list widget-list-rounded m-b-30"},e.map((e,a)=>l.a.createElement("div",{className:"widget-list-item"},l.a.createElement("div",{className:"widget-list-content"},l.a.createElement("h4",{className:"widget-list-title"},e.no_faktur),l.a.createElement("p",{className:"widget-list-desc"},parseFloat(e.total_retur).toLocaleString("id-ID"))),l.a.createElement("div",{className:"widget-list-action"},l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:()=>this.delete(a)},l.a.createElement("i",{className:"fa fa-times"})))))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("h5",null,"Total Return")),l.a.createElement("div",{className:"col-6"},l.a.createElement("h5",null,a)))))}}c=Object(r.a)({form:"ComponentReturn",enableReinitialize:!0})(c),a.a=c}}]);
//# sourceMappingURL=12.0c7dd268.chunk.js.map