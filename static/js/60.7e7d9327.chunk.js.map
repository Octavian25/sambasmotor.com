{"version":3,"sources":["pages/Transaksi/TerimaServiceLuar/HeadTerimaServiceLuar.jsx","pages/Transaksi/TerimaServiceLuar/ModalTerimaServiceLuar.jsx","pages/Transaksi/TerimaServiceLuar/TerimaServiceLuar.jsx","pages/Transaksi/PembayaranService/ModalCC.jsx"],"names":["HeadServiceLuar","Component","constructor","props","super","this","state","columns","dataField","text","csvExport","headerClasses","formatter","rowcontent","row","data","grand_total","no_bon","no_service_kirim","react_default","a","createElement","className","onClick","showBayar","dispatch","setGrandTotal","getServiceLuar","alert","componentDidMount","getListKirimServiceLuar","change","getToday","AxiosMasterGet","then","res","no_service_terima","render","Field","name","component","RenderFieldGroup","type","label","placeholder","handleClick","readOnly","ReanderField","tabel","keyField","listkirimserviceluar","empty","emptyText","reduxForm","form","enableReinitialize","connect","localStorage","getItem","transaksi","currencyMask","createNumberMask","prefix","locale","ModalTerimaServiceLuar","columnsListBayar","concat","parseFloat","toLocaleString","total","setBayar","e","setState","bayar","target","value","setItem","onSubmit","handleSubmit","onKeyPress","key","preventDefault","setBack","style","fontSize","fontWeight","grand_total_all","Object","assign","onChange","kembali","listPembayaran_temp","tambahData","showCC","disabled","onSend","Fragment","selector","formValueSelector","total_bayar","listpembayaran_temp","sum_pembayaran","datamaster","kunci_temp","stocking","noFaktur","no_bon_kirim","React","isEdit","modalDialog","isLoading","getFaktur","getListPembayaran","console","log","showModal","handleSimpanCC","hasil","no_ref","no_card","bayar_rp","fee_rp","fee_card","no_ac","bank","valid_until","expiry","nama_pemilik","no_ktp","alamat_ktp","kota_ktp","kota","telepon_ktp","handphone","jenis_trx","array","JSON","parse","push","stringify","ToastSucces","removeItem","sendData","onProgress","tanggal","margin_rp","margin","cash_rp","no_ref_cash","status_masuk_piutang","piutang","detail_non_tunai","AxiosMasterPost","NotifSucces","multipleDeleteLocal","reset","onFinish","catch","err","ToastError","response","react_router_dom","to","panel","TerimaServiceLuar_ModalTerimaServiceLuar","HeadTerimaServiceLuar","ModalGlobal","title","content","ModalCC","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_credit_cards__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_3__","redux_form__WEBPACK_IMPORTED_MODULE_4__","redux_form__WEBPACK_IMPORTED_MODULE_5__","redux_form__WEBPACK_IMPORTED_MODULE_6__","redux_form_input_masks__WEBPACK_IMPORTED_MODULE_7__","_axios__WEBPACK_IMPORTED_MODULE_8__","_components_notification_notification__WEBPACK_IMPORTED_MODULE_9__","handleInputFocus","focus","handleInputChange","_e$target","[object Object]","cvc","nav1","nav2","nav3","listBank","map","list","atas_nama","nama_bank","setTotal","focused","number","htmlFor","onFocus","ReanderSelect","options","validate","errors","sub_total","_selector","fee_card_percent","initialValues","totalTukar"],"mappings":"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","file":"static/js/60.7e7d9327.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport {\r\n  getListKirimServiceLuar,\r\n  setGrandTotal,\r\n} from \"../../../actions/transaksi_action\";\r\nimport { AxiosMasterGet } from \"../../../axios\";\r\nimport { getToday } from \"../../../components/notification/function\";\r\nimport {\r\n  ReanderField,\r\n  RenderFieldGroup,\r\n} from \"../../../components/notification/notification\";\r\nimport Tabel from \"../../../components/Tabel/tabel\";\r\n\r\nclass HeadServiceLuar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columns: [\r\n        {\r\n          dataField: \"no_service_kirim\",\r\n          text: \"Nomor\",\r\n        },\r\n        {\r\n          dataField: \"tgl_service_kirim\",\r\n          text: \"Tanggal Kirim\",\r\n        },\r\n        {\r\n          dataField: \"nopol_kendaraan\",\r\n          text: \"Nomor Polisi\",\r\n        },\r\n        {\r\n          dataField: \"kode_supplier\",\r\n          text: \"Supplier\",\r\n        },\r\n        {\r\n          dataField: \"nama_customer\",\r\n          text: \"Customer\",\r\n        },\r\n        {\r\n          dataField: \"sub_total\",\r\n          text: \"Sub Total\",\r\n        },\r\n        {\r\n          dataField: \"diskon_rp\",\r\n          text: \"Diskon\",\r\n        },\r\n        {\r\n          dataField: \"grand_total\",\r\n          text: \"Total\",\r\n        },\r\n        {\r\n          dataField: \"action\",\r\n          text: \"Action\",\r\n          csvExport: false,\r\n          headerClasses: \"text-center\",\r\n          formatter: (rowcontent, row) => {\r\n            let data = {\r\n              grand_total: row.grand_total,\r\n              no_bon: row.no_service_kirim,\r\n            };\r\n            return (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    onClick={() => {\r\n                      this.props.showBayar();\r\n                      this.props.dispatch(setGrandTotal(data));\r\n                    }}\r\n                    className=\"btn btn-primary mr-3\"\r\n                  >\r\n                    Simpan\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  getServiceLuar() {\r\n    alert(\"ITS WORKED\");\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getListKirimServiceLuar());\r\n    this.props.change(\"tanggal\", getToday());\r\n    AxiosMasterGet(\"terima-service-luar/generate/no-trx\").then((res) =>\r\n      this.props.change(\r\n        \"no_service_terima\",\r\n        res && res.data[0].no_service_terima\r\n      )\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-4\">\r\n          <Field\r\n            name=\"no_service_kirim\"\r\n            component={RenderFieldGroup}\r\n            type=\"text\"\r\n            label=\"Nomor Service Kirim\"\r\n            placeholder=\"Masukan Nomor Service Kirim\"\r\n            handleClick={(data) => this.getServiceLuar(data)}\r\n          />\r\n        </div>\r\n        <div className=\"col-lg-4 d-none\">\r\n          <Field\r\n            name=\"no_service_terima\"\r\n            component={RenderFieldGroup}\r\n            type=\"text\"\r\n            label=\"Nomor Service Kirim\"\r\n            placeholder=\"Masukan Nomor Service Kirim\"\r\n            handleClick={(data) => this.getServiceLuar(data)}\r\n            readOnly\r\n          />\r\n        </div>\r\n        <div className=\"col-lg-4\">\r\n          <Field\r\n            name=\"tanggal\"\r\n            component={ReanderField}\r\n            type=\"date\"\r\n            label=\"Tanggal\"\r\n            placeholder=\"Masukan Tanggal\"\r\n          />\r\n        </div>\r\n        <div className=\"col-lg-4\"></div>\r\n        <div className=\"col-lg-12\">\r\n          <Tabel\r\n            keyField=\"nama_supplier\"\r\n            data={this.props.listkirimserviceluar || []}\r\n            columns={this.state.columns}\r\n            empty={true}\r\n            emptyText=\"Silahkan Masukan Nomor Service dan klik cari\"\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nHeadServiceLuar = reduxForm({\r\n  form: \"HeadServiceLuar\",\r\n  enableReinitialize: true,\r\n})(HeadServiceLuar);\r\nexport default connect((state) => {\r\n  return {\r\n    no_service_kirim: localStorage.getItem(\"terima_service_luar_nomor\"),\r\n    listkirimserviceluar: state.transaksi.listkirimserviceluar,\r\n  };\r\n})(HeadServiceLuar);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport { ReanderField } from \"../../../components/notification/notification\";\r\nimport Tabel from \"../../../components/Tabel/tabel\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  locale: \"id-ID\",\r\n});\r\n\r\nclass ModalTerimaServiceLuar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columnsListBayar: [\r\n        {\r\n          dataField: \"jenis_trx\",\r\n          text: \"Jenis Bayar\",\r\n        },\r\n        {\r\n          dataField: \"no_card\",\r\n          text: \"Bank\",\r\n        },\r\n        {\r\n          dataField: \"nama_pemilik\",\r\n          text: \"Nama Pemilik\",\r\n        },\r\n        {\r\n          dataField: \"fee_rp\",\r\n          text: \"Fee Card\",\r\n        },\r\n        {\r\n          dataField: \"bayar_rp\",\r\n          text: \"Bayar\",\r\n          formatter: (data) =>\r\n            `Rp. ${parseFloat(data).toLocaleString(\"id-ID\")}`,\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.change(\"grand_total_all\", this.props.total);\r\n  }\r\n  setBayar(e) {\r\n    this.setState({\r\n      bayar: e.target.value,\r\n    });\r\n    localStorage.setItem(\"bayar_rp_rongsok\", e.target.value);\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-12 mb-3\">\r\n            <div className=\"col-lg-12\">\r\n              <div className=\"text-left\">\r\n                <button\r\n                  className=\"btn btn-black text-white\"\r\n                  onClick={this.props.setBack}\r\n                >\r\n                  <i className=\"fa fa-chevron-left mr-3\"></i> Back\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"col-lg-12\">\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-6 text-center\">\r\n                  <h3>Grand Total</h3>\r\n                  <p style={{ fontSize: 32, fontWeight: 700 }}>\r\n                    {parseFloat(this.props.grand_total_all).toLocaleString(\r\n                      \"id-ID\"\r\n                    )}\r\n                  </p>\r\n                  <h3>Margin</h3>\r\n                  <div className=\"col-lg-12\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-lg-3\"></div>\r\n                      <div className=\"col-lg-6 text-center\">\r\n                        <Field\r\n                          name=\"margin\"\r\n                          component={ReanderField}\r\n                          type=\"telp\"\r\n                          placeholder=\"Masukan Bayar\"\r\n                          className=\" form-control-lg\"\r\n                          onChange={(e) => this.setBayar(e)}\r\n                          {...currencyMask}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <h3>Bayar</h3>\r\n                  <div className=\"col-lg-12\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-lg-3\"></div>\r\n                      <div className=\"col-lg-6 text-center\">\r\n                        <Field\r\n                          name=\"bayar\"\r\n                          component={ReanderField}\r\n                          type=\"telp\"\r\n                          placeholder=\"Masukan Bayar\"\r\n                          className=\" form-control-lg\"\r\n                          onChange={(e) => this.setBayar(e)}\r\n                          {...currencyMask}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <h3>Kembali</h3>\r\n                  <p style={{ fontSize: 35, fontWeight: 700 }}>\r\n                    {parseFloat(this.props.kembali).toLocaleString(\"id-ID\")}\r\n                  </p>\r\n                </div>\r\n                <div className=\"col-lg-6\">\r\n                  <div className=\"col-lg-12\">\r\n                    <Tabel\r\n                      keyField=\"no_ac\"\r\n                      data={this.props.listPembayaran_temp || []}\r\n                      columns={this.state.columnsListBayar}\r\n                      tambahData={true}\r\n                      handleClick={this.props.showCC}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-center col-lg-6\">\r\n            <button className=\"btn btn-primary\" disabled={this.props.onSend}>\r\n              {this.props.onSend ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Menyimpan\r\n                </>\r\n              ) : (\r\n                <>\r\n                  Simpan <i className=\"fa fa-paper-plane ml-3 \"></i>\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nModalTerimaServiceLuar = reduxForm({\r\n  form: \"ModalTerimaServiceLuar\",\r\n  enableReinitialize: true,\r\n})(ModalTerimaServiceLuar);\r\nconst selector = formValueSelector(\"ModalTerimaServiceLuar\");\r\nexport default connect((state) => {\r\n  localStorage.setItem(\"bayar_rp_rongsok\", selector(state, \"bayar\") || 0);\r\n  return {\r\n    grand_total_all:\r\n      state.transaksi.total_bayar + (selector(state, \"margin\") || 0),\r\n    listPembayaran_temp: state.transaksi.listpembayaran_temp,\r\n    sum_pembayaran: state.transaksi.sum_pembayaran,\r\n    total_bayar: state.transaksi.total_bayar,\r\n    kembali:\r\n      (selector(state, \"bayar\") || 0) -\r\n      state.transaksi.total_bayar -\r\n      state.transaksi.sum_pembayaran -\r\n      (selector(state, \"margin\") || 0),\r\n    onSend: state.datamaster.onSend,\r\n  };\r\n})(ModalTerimaServiceLuar);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Panel,\r\n  PanelBody,\r\n  PanelHeader,\r\n} from \"../../../components/panel/panel.jsx\";\r\nimport HeadTerimaServiceLuar from \"./HeadTerimaServiceLuar.jsx\";\r\nimport ModalGlobal from \"../../ModalGlobal.jsx\";\r\nimport ModalTerimaServiceLuar from \"./ModalTerimaServiceLuar.jsx\";\r\nimport {\r\n  getFaktur,\r\n  onFinish,\r\n  onProgress,\r\n  showModal,\r\n} from \"../../../actions/datamaster_action.jsx\";\r\nimport { AxiosMasterGet, AxiosMasterPost } from \"../../../axios.js\";\r\nimport {\r\n  NotifSucces,\r\n  ToastError,\r\n  ToastSucces,\r\n} from \"../../../components/notification/notification.jsx\";\r\nimport ModalCC from \"../PembayaranService/ModalCC.jsx\";\r\nimport {\r\n  getToday,\r\n  multipleDeleteLocal,\r\n} from \"../../../components/notification/function.jsx\";\r\nimport {\r\n  getListKirimServiceLuar,\r\n  getListPembayaran,\r\n} from \"../../../actions/transaksi_action.jsx\";\r\nimport { reset } from \"redux-form\";\r\n\r\nconst maptostate = (state) => {\r\n  return {\r\n    kunci_temp: state.stocking.kunci_temp,\r\n    listkirimserviceluar: state.transaksi.listkirimserviceluar,\r\n    noFaktur: state.datamaster.noFaktur,\r\n    grand_total: state.transaksi.grand_total,\r\n    no_bon_kirim: state.transaksi.no_bon_kirim,\r\n  };\r\n};\r\n\r\nclass ServiceLuar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isEdit: false,\r\n      modalDialog: false,\r\n      isLoading: false,\r\n      bayar: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getFaktur());\r\n    this.props.dispatch(getListPembayaran());\r\n    AxiosMasterGet(\"terima-service-luar/generate/no-trx\").then((res) =>\r\n      localStorage.setItem(\r\n        \"terima_service_luar_nomor\",\r\n        res && res.data[0].no_service_terima\r\n      )\r\n    );\r\n    this.props.dispatch(getFaktur());\r\n  }\r\n  handleSubmit(data) {\r\n    console.log(data);\r\n  }\r\n  showCC() {\r\n    this.props.dispatch(showModal());\r\n  }\r\n  showBayar(data) {\r\n    this.setState({\r\n      bayar: true,\r\n      grand_total: data,\r\n    });\r\n  }\r\n  setBack() {\r\n    this.setState({\r\n      bayar: false,\r\n    });\r\n  }\r\n  handleSimpanCC(hasil) {\r\n    let data = {\r\n      no_ref: this.props.noFaktur,\r\n      no_card: `${hasil.no_card}`,\r\n      bayar_rp: hasil.grand_total,\r\n      fee_rp: hasil.fee_card,\r\n      no_ac: `${hasil.bank}`,\r\n      valid_until: hasil.expiry,\r\n      nama_pemilik: hasil.name,\r\n      no_ktp: hasil.no_ktp,\r\n      alamat_ktp: hasil.alamat_ktp,\r\n      kota_ktp: hasil.kota,\r\n      telepon_ktp: hasil.handphone,\r\n      jenis_trx: hasil.jenis_trx || \"DEBIT\",\r\n    };\r\n    let array = JSON.parse(localStorage.getItem(\"listPembayaran_temp\")) || [];\r\n    array.push(data);\r\n    localStorage.setItem(\"listPembayaran_temp\", JSON.stringify(array));\r\n    ToastSucces(\"Berhasil Menambahkan Data\");\r\n    this.props.dispatch(getListPembayaran());\r\n    localStorage.removeItem(\"noFaktur\");\r\n    this.props.dispatch(getFaktur());\r\n  }\r\n  sendData(hasil) {\r\n    this.props.dispatch(onProgress());\r\n    let data = {\r\n      no_service_terima: localStorage.getItem(\"terima_service_luar_nomor\"),\r\n      tanggal: getToday(),\r\n      no_bon: this.props.no_bon_kirim,\r\n      margin_rp: hasil.margin,\r\n      total_bayar: this.props.grand_total,\r\n      cash_rp: hasil.bayar,\r\n      no_ref_cash: this.props.noFaktur,\r\n      status_masuk_piutang: hasil.piutang || false,\r\n      detail_non_tunai:\r\n        localStorage.getItem(\"listPembayaran_temp\") === \"[]\"\r\n          ? [\r\n              {\r\n                no_ref: \"-\",\r\n                no_ac: \"-\",\r\n                bayar_rp: 0,\r\n                fee_rp: 0,\r\n                no_card: \"-\",\r\n                valid_until: \"-\",\r\n                nama_pemilik: \"-\",\r\n                no_ktp: \"-\",\r\n                alamat_ktp: \"-\",\r\n                kota_ktp: \"-\",\r\n                telepon_ktp: \"-\",\r\n                jenis_trx: \"-\",\r\n              },\r\n            ]\r\n          : localStorage.getItem(\"listPembayaran_temp\") !== null\r\n          ? JSON.parse(localStorage.getItem(\"listPembayaran_temp\"))\r\n          : [\r\n              {\r\n                no_ref: \"-\",\r\n                no_ac: \"-\",\r\n                bayar_rp: 0,\r\n                fee_rp: 0,\r\n                no_card: \"-\",\r\n                valid_until: \"-\",\r\n                nama_pemilik: \"-\",\r\n                no_ktp: \"-\",\r\n                alamat_ktp: \"-\",\r\n                kota_ktp: \"-\",\r\n                telepon_ktp: \"-\",\r\n                jenis_trx: \"-\",\r\n              },\r\n            ],\r\n    };\r\n    console.log(JSON.stringify(data));\r\n    // return false;\r\n    AxiosMasterPost(\"terima-service-luar/post-transaksi\", data)\r\n      .then(() => NotifSucces(\"Terima Service Berhasil\"))\r\n      .then(() =>\r\n        multipleDeleteLocal([\r\n          \"noFaktur\",\r\n          \"listPembayaran_temp\",\r\n          \"terima_service_luar_nomor\",\r\n        ])\r\n      )\r\n      .then(() => this.props.dispatch(getListKirimServiceLuar()))\r\n      .then(() => this.props.dispatch(reset(\"HeadServiceLuar\")))\r\n      .then(() => this.props.dispatch(getFaktur()))\r\n      .then(() => this.props.dispatch(onFinish()))\r\n      .then(() => this.setBack())\r\n      .then(() => this.props.dispatch(reset(\"ModalTerimaServiceLuar\")))\r\n      .catch((err) =>\r\n        ToastError(\r\n          `Terima Service Gagal, Error : ${err.response.data}`\r\n        ).then(() => this.props.dispatch(onFinish()))\r\n      );\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Transaksi</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Terima Service Luar</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Terima Service Luar </h1>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-12\">\r\n            <Panel>\r\n              <PanelHeader>Terima Service Luar</PanelHeader>\r\n              <PanelBody>\r\n                <br />\r\n                <div className=\"col-lg-12\">\r\n                  {!this.state.bayar ? (\r\n                    <HeadTerimaServiceLuar showBayar={() => this.showBayar()} />\r\n                  ) : (\r\n                    <ModalTerimaServiceLuar\r\n                      showCC={() => this.showCC()}\r\n                      setBack={() => this.setBack()}\r\n                      onSubmit={(data) => this.sendData(data)}\r\n                    />\r\n                  )}\r\n                </div>\r\n                <br />\r\n                <div className=\"col-lg-12\"></div>\r\n                {/* End Tambah Master Kategori  */}\r\n              </PanelBody>\r\n            </Panel>\r\n            <ModalGlobal\r\n              title=\"Simpan Data Harga\"\r\n              content={\r\n                <ModalCC onSubmit={(data) => this.handleSimpanCC(data)} />\r\n              }\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(maptostate, null)(ServiceLuar);\r\n","import React, { Component } from \"react\";\r\nimport Cards from \"react-credit-cards\";\r\nimport \"react-credit-cards/es/styles-compiled.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport { AxiosMasterGet } from \"../../../axios\";\r\nimport {\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../components/notification/notification\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  locale: \"id-ID\",\r\n});\r\nconst validate = (value) => {\r\n  const errors = {};\r\n  if (value.grand_total > value.sub_total) {\r\n    errors.grand_total = \"Pembayaran Tidak Boleh Lebih Dari Sub Total\";\r\n  }\r\n  return errors;\r\n};\r\nclass ModalCC extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      cvc: \"\",\r\n      expiry: \"\",\r\n      focus: \"\",\r\n      name: \"\",\r\n      no_card: \"\",\r\n      nav1: \"nav-item nav-link active\",\r\n      nav2: \"nav-item nav-link\",\r\n      nav3: \"nav-item nav-link\",\r\n      listBank: [],\r\n    };\r\n  }\r\n  handleInputFocus = (e) => {\r\n    this.setState({ focus: e.target.name });\r\n  };\r\n\r\n  handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    this.setState({ [name]: value });\r\n    this.props.change(name, value);\r\n  };\r\n\r\n  componentDidMount() {\r\n    AxiosMasterGet(\"bank/get/all\").then((res) =>\r\n      this.setState({\r\n        listBank:\r\n          res &&\r\n          res.data.map((list) => {\r\n            let data = {\r\n              value: list.no_ac,\r\n              name: `${list.atas_nama} / ${list.nama_bank}`,\r\n            };\r\n            return data;\r\n          }),\r\n      })\r\n    );\r\n  }\r\n\r\n  setTotal() {\r\n    this.props.change(\"fee_card\", this.props.fee_card);\r\n    this.props.change(\"total_card\", this.props.total);\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"col-lg-12\">\r\n        <Cards\r\n          cvc={this.state.cvc}\r\n          expiry={this.state.expiry}\r\n          focused={this.state.focus}\r\n          name={this.state.name}\r\n          number={this.state.no_card}\r\n        />\r\n        <form onSubmit={this.props.handleSubmit} className=\"mt-3\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-12\">\r\n              <nav className=\"nav nav-pills nav-fill\">\r\n                <button\r\n                  type=\"button\"\r\n                  className={this.state.nav1}\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      nav1: \"nav-item nav-link active\",\r\n                      nav2: \"nav-item nav-link\",\r\n                      nav3: \"nav-item nav-link\",\r\n                    });\r\n                    this.props.change(\"jenis_trx\", \"DEBIT\");\r\n                  }}\r\n                >\r\n                  DEBIT\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className={this.state.nav2}\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      nav1: \"nav-item nav-link \",\r\n                      nav2: \"nav-item nav-link active\",\r\n                      nav3: \"nav-item nav-link\",\r\n                    });\r\n                    this.props.change(\"jenis_trx\", \"CARD\");\r\n                  }}\r\n                >\r\n                  CREDIT\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className={this.state.nav3}\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      nav1: \"nav-item nav-link \",\r\n                      nav2: \"nav-item nav-link\",\r\n                      nav3: \"nav-item nav-link active\",\r\n                    });\r\n                    this.props.change(\"jenis_trx\", \"TRANSFER\");\r\n                  }}\r\n                >\r\n                  TRANSFER\r\n                </button>\r\n              </nav>\r\n            </div>\r\n            <div className=\"col-lg-12 mb-2 mt-2\">\r\n              <h4>Data Kartu</h4>\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"\">No.Card</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  className=\"form-control\"\r\n                  name=\"no_card\"\r\n                  placeholder=\"Card Number\"\r\n                  onChange={this.handleInputChange}\r\n                  onFocus={this.handleInputFocus}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-3 d-none\">\r\n              <Field\r\n                name=\"no_card\"\r\n                component={ReanderField}\r\n                type=\"telp\"\r\n                label=\"No.Card\"\r\n                placeholder=\"Masukan No.Card\"\r\n                onChange={this.handleInputChange}\r\n                onFocus={this.handleInputFocus}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"\">Valid Until</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  className=\"form-control\"\r\n                  name=\"expiry\"\r\n                  placeholder=\"MM/YY\"\r\n                  onChange={this.handleInputChange}\r\n                  onFocus={this.handleInputFocus}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-3 d-none\">\r\n              <Field\r\n                name=\"expiry\"\r\n                component={ReanderField}\r\n                type=\"telp\"\r\n                label=\"Valid until ( MM/YY )\"\r\n                placeholder=\"Masukan Valid until ( MM/YY )\"\r\n                onChange={this.handleInputChange}\r\n                onFocus={this.handleInputFocus}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"\">Nama Pemilik</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  className=\"form-control\"\r\n                  name=\"name\"\r\n                  placeholder=\"Nama Pemilik\"\r\n                  onChange={this.handleInputChange}\r\n                  onFocus={this.handleInputFocus}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-3 d-none\">\r\n              <Field\r\n                name=\"name\"\r\n                component={ReanderField}\r\n                type=\"text\"\r\n                label=\"Nama Pemilik\"\r\n                placeholder=\"Masukan Nama Pemilik\"\r\n                onChange={this.handleInputChange}\r\n                onFocus={this.handleInputFocus}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"\">CVC / CVV</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  className=\"form-control\"\r\n                  name=\"cvc\"\r\n                  placeholder=\"Nama Pemilik\"\r\n                  onChange={this.handleInputChange}\r\n                  onFocus={this.handleInputFocus}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-3 d-none\">\r\n              <Field\r\n                name=\"cvc\"\r\n                component={ReanderField}\r\n                type=\"text\"\r\n                label=\"Nama Pemilik\"\r\n                placeholder=\"Masukan Nama Pemilik\"\r\n                onChange={this.handleInputChange}\r\n                onFocus={this.handleInputFocus}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-12 mb-2\">\r\n              <h4>Data Pemilik</h4>\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <Field\r\n                name=\"no_ktp\"\r\n                component={ReanderField}\r\n                type=\"number\"\r\n                label=\"Nomor KTP\"\r\n                placeholder=\"Masukan Nomor KTP\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <Field\r\n                name=\"alamat_ktp\"\r\n                component={ReanderField}\r\n                type=\"text\"\r\n                label=\"Alamat KTP\"\r\n                placeholder=\"Masukan Alamat KTP\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3 d-none\">\r\n              <Field\r\n                name=\"jenis_trx\"\r\n                component={ReanderField}\r\n                type=\"text\"\r\n                label=\"Jenis Transaksi\"\r\n                placeholder=\"Masukan Jenis Transaksi\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <Field\r\n                name=\"kota\"\r\n                component={ReanderField}\r\n                type=\"text\"\r\n                label=\"Kota\"\r\n                placeholder=\"Masukan Kota\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <Field\r\n                name=\"handphone\"\r\n                component={ReanderField}\r\n                type=\"telp\"\r\n                label=\"Handphone\"\r\n                placeholder=\"Masukan Handphone\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-12 mb-2\">\r\n              <h4>Data Harga</h4>\r\n            </div>\r\n            <div className=\"col-lg-2\">\r\n              <Field\r\n                name=\"bank\"\r\n                component={ReanderSelect}\r\n                options={this.state.listBank}\r\n                label=\"Bank\"\r\n                placeholder=\"Masukan Bank\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-2\">\r\n              <Field\r\n                name=\"sub_total\"\r\n                component={ReanderField}\r\n                type=\"text\"\r\n                label=\"Sub Total\"\r\n                placeholder=\"Masukan Sub Total\"\r\n                readOnly\r\n                {...currencyMask}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-2\">\r\n              <Field\r\n                name=\"grand_total\"\r\n                component={ReanderField}\r\n                type=\"telp\"\r\n                label=\"Grand Total\"\r\n                placeholder=\"Masukan Grand Total\"\r\n                {...currencyMask}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-1\">\r\n              <Field\r\n                name=\"fee_card_percent\"\r\n                component={ReanderField}\r\n                type=\"number\"\r\n                label=\"% Card\"\r\n                placeholder=\"0\"\r\n                onChange={this.setTotal()}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-2\">\r\n              <Field\r\n                name=\"fee_card\"\r\n                component={ReanderField}\r\n                type=\"telp\"\r\n                label=\"Fee Card\"\r\n                placeholder=\"0\"\r\n                {...currencyMask}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <Field\r\n                name=\"total_card\"\r\n                component={ReanderField}\r\n                type=\"telp\"\r\n                label=\"Card + Fee\"\r\n                placeholder=\"Masukan Card + Fee\"\r\n                {...currencyMask}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-12\">\r\n              <div className=\"text-right\">\r\n                <button className=\"btn btn-primary\">\r\n                  Simpan <i className=\"fa fa-paper-plane\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModalCC = reduxForm({\r\n  form: \"ModalCC\",\r\n  enableReinitialize: true,\r\n  validate: validate,\r\n})(ModalCC);\r\nconst selector = formValueSelector(\"ModalCC\");\r\nexport default connect((state) => {\r\n  const { grand_total, fee_card_percent } = selector(\r\n    state,\r\n    \"grand_total\",\r\n    \"fee_card_percent\"\r\n  );\r\n  return {\r\n    fee_card:\r\n      parseFloat(grand_total || 0) * (parseFloat(fee_card_percent || 0) / 100),\r\n    total:\r\n      parseFloat(grand_total || 0) +\r\n      parseFloat(grand_total || 0) * (parseFloat(fee_card_percent || 0) / 100),\r\n    sub_total: state.transaksi.sub_total,\r\n    initialValues: {\r\n      sub_total:\r\n        state.transaksi.total_bayar - (state.transaksi.totalTukar || 0),\r\n    },\r\n  };\r\n})(ModalCC);\r\n"],"sourceRoot":""}