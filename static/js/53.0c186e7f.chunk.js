(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{1093:function(a,e,t){"use strict";t.r(e);var i=t(0),c=t.n(i),s=t(7),n=t(723),h=t.n(n),l=t(41),r=t(94),d=t.n(r),o=t(63),m=t.n(o),p=t(95),b=t.n(p),E=t(131),u=t(29),k=t(196),N=t(49),O=t(197),j=t(27);class f extends i.Component{constructor(a){super(a),this.state={}}render(){return c.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:a=>{"Enter"===a.key&&a.preventDefault()}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(k.a,{name:"kode_hadiah",component:j.c,type:"text",label:"Kode Hadiah",placeholder:"Masukan Kode hadiah"})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(k.a,{name:"nama_hadiah",component:j.c,type:"text",label:"Nama Hadiah",placeholder:"Masukan Nama Hadiah"})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(k.a,{name:"stock",component:j.c,type:"text",label:"Stock Hadiah",placeholder:"Masukan Stock Hadiah"})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(k.a,{name:"poin",component:j.c,type:"text",label:"Point",placeholder:"Masukan Point"})),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",disabled:this.props.onSend,onClick:()=>this.props(Object(N.b)("ModalDaftarHadiah"))},this.props.onSend?c.a.createElement(c.a.Fragment,null,c.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):c.a.createElement(c.a.Fragment,null,"Simpan ",c.a.createElement("i",{className:"fa fa-paper-plane ml-3 "})))))))}}f=Object(O.a)({form:"ModalDaftarHadiah",enableReinitialize:!0})(f);var g=Object(u.b)(a=>a.member.hadiahEdit!==[]?{initialValues:{kode_hadiah:a.member.hadiahEdit.kode_hadiah,nama_hadiah:a.member.hadiahEdit.nama_hadiah,stock:a.member.hadiahEdit.stock,poin:a.member.hadiahEdit.poin},onSend:a.datamaster.onSend}:{onSend:a.datamaster.onSend})(f),S=t(5),v=t(9),x=t(52);const H=o.Search.SearchBar,_=o.CSVExport.ExportCSVButton;e.default=Object(u.b)(a=>({listhadiah:a.member.listhadiah}))(class extends i.Component{constructor(a){super(a),this.state={columns:[{dataField:"kode_hadiah",text:"Kode Hadiah"},{dataField:"nama_hadiah",text:"Nama Hadiah"},{dataField:"stock",text:"Stock"},{dataField:"poin",text:"Point"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(a,e,t)=>{let i={kode_hadiah:e.kode_hadiah,nama_hadiah:e.nama_hadiah,stock:e.stock,poin:e.poin};return this.setState({}),c.a.createElement("div",{className:"row text-center"},c.a.createElement("div",{className:"col-12"},c.a.createElement("button",{onClick:()=>this.editModal(i),className:"btn btn-warning mr-3"},"Edit",c.a.createElement("i",{className:"fa fa-edit ml-2"})),c.a.createElement("button",{onClick:()=>this.deleteModal(e.kode_hadiah),className:"btn btn-danger mr-3"},"Delete",c.a.createElement("i",{className:"fa fa-trash ml-2"}))))}}]}}componentDidMount(){this.props.dispatch(Object(x.g)())}showTambah(){this.setState({isEdit:!1}),this.props.dispatch(Object(S.Wb)()),this.props.dispatch(Object(x.k)(""))}deleteModal(a){Object(v.a)("hadiah/delete-hadiah/"+a).then(()=>Object(j.b)("Berhasi Hapus Hadiah")).then(()=>this.props.dispatch(Object(x.g)())).catch(a=>Object(j.h)("Hadiah Gagal Dihapus,Error : ".concat(a.response.data)))}editModal(a){this.setState({isEdit:!0}),this.props.dispatch(Object(x.k)(a)),this.props.dispatch(Object(S.Wb)())}handleSubmit(a){this.props.dispatch(Object(S.Vb)());let e={kode_hadiah:a.kode_hadiah,nama_hadiah:a.nama_hadiah,stock:a.stock,poin:a.poin};this.state.isEdit?Object(v.d)(this.props.dispatch,"hadiah/update-hadiah/"+a.kode_hadiah,{nama_hadiah:a.nama_hadiah,stock:a.stock,poin:a.poin}).then(()=>Object(j.b)("Hadiah berhasil ditambahkan")).then(()=>this.props.dispatch(Object(N.a)("ModalDaftarHadiah"))).then(()=>this.props.dispatch(Object(S.Tb)())).then(()=>this.props.dispatch(Object(x.g)())).then(()=>this.props.dispatch(Object(S.Ub)())).catch(a=>Object(j.h)("Gagal Tambah Hadiah, Error : ".concat(a.response.data)).then(()=>this.props.dispatch(Object(S.Ub)()))):Object(v.c)("hadiah/tambah-hadiah-baru",e).then(()=>Object(j.b)("Hadiah berhasil ditambahkan")).then(()=>this.props.dispatch(Object(N.a)("ModalDaftarHadiah"))).then(()=>this.props.dispatch(Object(S.Tb)())).then(()=>this.props.dispatch(Object(x.g)())).then(()=>this.props.dispatch(Object(S.Ub)())).catch(a=>Object(j.h)("Gagal Tambah Hadiah, Error : ".concat(a.response.data)).then(()=>this.props.dispatch(Object(S.Ub)())))}render(){return c.a.createElement("div",null,c.a.createElement("ol",{className:"breadcrumb float-xl-right"},c.a.createElement("li",{className:"breadcrumb-item"},c.a.createElement(s.b,{to:"#"},"Stock Opname")),c.a.createElement("li",{className:"breadcrumb-item active"},"Daftar Hadiah")),c.a.createElement("h1",{className:"page-header"}," Daftar Hadiah "),c.a.createElement(l.a,null,c.a.createElement(l.c,null," Daftar Hadiah"),c.a.createElement(l.b,null,c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"text-center"},c.a.createElement("img",{src:h.a,alt:"Gift",width:300}))),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement(m.a,{keyField:"no_acc",data:this.props.listhadiah||[],columns:this.state.columns,search:!0,exportCSV:{fileName:"Export Master Kategori.csv"}},a=>c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("button",{onClick:()=>this.props.dispatch(Object(S.Wb)()),className:"btn btn-primary"},"Tambah Data",c.a.createElement("i",{className:"fa fa-plus ml-3"}))),c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"text-right"},c.a.createElement(H,a.searchProps))),c.a.createElement("hr",null),c.a.createElement("div",{className:"col-12"},c.a.createElement(d.a,Object.assign({noDataIndication:"Belum Ada Data",pagination:b()()},a.baseProps)),c.a.createElement("br",null),c.a.createElement(_,a.csvProps,"Export CSV!!"))))))),c.a.createElement(E.a,{title:"Simpan Data Hadiah",content:c.a.createElement(g,{onSubmit:a=>this.handleSubmit(a)})}))}})},723:function(a,e,t){a.exports=t.p+"static/media/Gift.6bc49431.svg"}}]);
//# sourceMappingURL=53.0c186e7f.chunk.js.map