(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{1056:function(a,e,t){"use strict";t.r(e);var n=t(0),l=t.n(n),o=t(7),r=t(9),c=t(41),s=t(28),i=t(197),p=t(198),m=t(5),d=t(18);class g extends n.Component{constructor(a){super(a),this.state={}}componentDidMount(){this.props.dispatch(Object(m.vb)())}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:a=>{"Enter"===a.key&&a.preventDefault()}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(i.a,{name:"tanggal_awal",component:d.c,type:"date",label:"Dari Tanggal",placeholder:"Masukan Tanggal Awal"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(i.a,{name:"tanggal_akhir",component:d.c,type:"date",label:"Sampai Tanggal",placeholder:"Masukan Sampai Tanggal"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(i.a,{name:"no_ac",component:d.e,options:this.props.listbank.map(a=>{return{value:a.no_ac,name:"".concat(a.atas_nama,"-").concat(a.no_ac,"(").concat(a.nama_bank,")")}}),type:"text",label:"Nomor Rekening",placeholder:"Masukan Nomor Rekening"})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary",disabled:this.props.onSend},this.props.onSend?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyiapkan Laporan"):l.a.createElement(l.a.Fragment,null,"Lihat Data ",l.a.createElement("i",{className:"fa fa-print ml-3 "})))))))}}g=Object(p.a)({form:"HeadLaporanKeuanganBank",enableReinitialize:!0})(g);var h=Object(s.b)(a=>({listbank:a.datamaster.listbank,onSend:a.datamaster.onSend}))(g),b=t(60),u=(t(133),t(33));var E=(a="",e="",t)=>{const n=new b.default;let l=[],o=[],r=0,c=0;n.setFontSize(15),n.text("LAPORAN KEUANGAN BANK",14,15),n.setFontSize(10),n.text("Tanggal\t: ".concat(a," s/d ").concat(e),14,20);t.forEach((a,e)=>{let t=[a.no_bon,"-"===a.tanggal?"-":Object(u.b)(a.tanggal)||"",a.kategori,a.deskripsi,parseFloat(a.debet_rp).toLocaleString("id-ID"),parseFloat(a.kredit_rp).toLocaleString("id-ID")];l.push(t),r+=a.debet_rp,c+=a.kredit_rp});let s=["","","","Total",parseFloat(r).toLocaleString("id-ID"),parseFloat(c).toLocaleString("id-ID")];o.push(s);let i=["","","","Saldo Akhir","",parseFloat(r-c).toLocaleString("id-ID")];o.push(i),n.autoTable({head:[[{content:"NO BON"},{content:"TANGGAL"},{content:"KATEGORI"},{content:"DESKRIPSI"},{content:"DEBIT"},{content:"KREDIT"}]],body:l,foot:o,startY:35,theme:"plain",rowPageBreak:"avoid",pageBreak:"avoid",margin:{top:20},bodyStyles:{lineWidth:.02,lineColor:"#000"},headStyles:{lineWidth:.02,lineColor:"#000",fillColor:[212,212,211]}});let p=n.lastAutoTable.finalY+10;n.text("Print on\t: ".concat(Object(u.c)()),14,p+10);const m=n.internal.getNumberOfPages(),d=n.internal.pageSize.width,g=n.internal.pageSize.height;n.setFontSize(10);for(let b=1;b<m+1;b++){let a=d/2,e=g-10;n.setPage(b),n.text("".concat(b," of ").concat(m),a,e,{align:"center"})}n.autoPrint();var h="<embed width='100%' height='100%' src='"+n.output("datauristring")+"'/>",E=window.open();E.document.open(),E.document.write(h)};e.default=Object(s.b)()(class extends n.Component{constructor(a){super(a),this.state={listLaporan:[]}}getLaporan(a){this.props.dispatch(Object(m.Vb)()),Object(r.b)("laporan/keuangan/lap-bank/"+"".concat(a.tanggal_awal,"&").concat(a.tanggal_akhir,"&").concat(a.no_ac)).then(a=>{if(0===a.data.lenght)return Object(d.h)("Data Laporan Kosong"),!1;this.setState({listLaporan:a&&a.data})}).then(()=>this.props.dispatch(Object(m.Ub)())).then(()=>this.state.listLaporan.length?E(a.tanggal_awal,a.tanggal_akhir,this.state.listLaporan||[]):Object(d.h)("Data Laporan Kosong")).catch(a=>Object(d.h)("Error Get Data")).then(()=>this.props.dispatch(Object(m.Ub)()))}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(o.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Keuangan Bank")),l.a.createElement("h1",{className:"page-header"},"Laporan Keuangan Bank "),l.a.createElement(c.a,null,l.a.createElement(c.c,null,"Laporan Keuangan Bank"),l.a.createElement(c.b,null,l.a.createElement(h,{onSubmit:a=>this.getLaporan(a)}))))}})}}]);
//# sourceMappingURL=88.8b72f158.chunk.js.map