{"version":3,"sources":["pages/Member/TukarPoint/HeadTukarPoint.jsx","pages/Member/TukarPoint/ModalTukar.jsx","pages/Member/TukarPoint/TukarPoint.jsx"],"names":["SearchBar","Search","HeadTukarPoint","Component","constructor","props","super","this","state","columns","dataField","text","csvExport","headerClasses","formatter","rowcontent","hasil","rowIndex","setState","react_default","a","createElement","className","onClick","pilih","kode_customer","componentDidMount","dispatch","getListHadiah","getListMember","data","pilihcustomer","showModal","render","onSubmit","handleSubmit","onKeyPress","e","key","preventDefault","react_bootstrap_table2_toolkit_lib_default","keyField","listmember","search","exportCSV","fileName","searchProps","lib_default","Object","assign","pagination","paginationFactory","baseProps","disabled","onSend","Fragment","reduxForm","form","enableReinitialize","connect","listhadiah","member","datamaster","ModalTukar","Field","name","component","ReanderField","type","label","placeholder","ReanderSelect","options","map","list","value","kode_hadiah","nama_hadiah","initialValues","customerpilihan","onProgress","AxiosMasterPost","then","NotifSucces","hideModal","onFinish","catch","err","NotifError","concat","react_router_dom","to","panel","TukarPoint_HeadTukarPoint","ModalGlobal","size","content","TukarPoint_ModalTukar"],"mappings":"wPAaQA,EAAcC,SAAdD,UACR,MAAME,UAAuBC,YAC3BC,YAAYC,GACVC,MAAMD,GACNE,KAAKC,MAAQ,CACXC,QAAS,CACP,CACEC,UAAW,gBACXC,KAAM,iBAER,CACED,UAAW,SACXC,KAAM,UAER,CACED,UAAW,OACXC,KAAM,QAER,CACED,UAAW,SACXC,KAAM,aAER,CACED,UAAW,YACXC,KAAM,gBAGR,CACED,UAAW,YACXC,KAAM,aAER,CACED,UAAW,kBACXC,KAAM,gBAER,CACED,UAAW,SACXC,KAAM,SACNC,WAAW,EACXC,cAAe,cACfC,UAAW,CAACC,EAAYC,EAAOC,KAC7BV,KAAKW,SAAS,IAEZC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,UACEC,UAAU,uBACVC,QAAS,IAAMhB,KAAKiB,MAAMR,EAAMS,gBAFlC,QAKEN,EAAAC,EAAAC,cAAA,KAAGC,UAAU,2BAU/BI,oBACEnB,KAAKF,MAAMsB,SAASC,eACpBrB,KAAKF,MAAMsB,SAASE,eAEtBL,MAAMM,GACJvB,KAAKF,MAAMsB,SAASI,YAAcD,IAClCvB,KAAKF,MAAMsB,SAASK,gBAEtBC,SACE,OACEd,EAAAC,EAAAC,cAAA,QACEa,SAAU3B,KAAKF,MAAM8B,aACrBC,WAAaC,IACD,UAAVA,EAAEC,KAAmBD,EAAEE,mBAGzBpB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAACmB,EAAApB,EAAD,CACEqB,SAAS,SACTX,KAAMvB,KAAKF,MAAMqC,YAAc,GAC/BjC,QAASF,KAAKC,MAAMC,QACpBkC,QAAM,EACNC,UAAW,CACTC,SAAU,+BAGVxC,GACAc,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAACrB,EAAcK,EAAMyC,eAGzB3B,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD4B,OAAAC,OAAA,CACEC,WAAYC,OACR9C,EAAM+C,YAEZjC,EAAAC,EAAAC,cAAA,cAKRF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkB+B,SAAU9C,KAAKF,MAAMiD,QACtD/C,KAAKF,MAAMiD,OACVnC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAmC,SAAA,KACEpC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,2BADf,0BAKAH,EAAAC,EAAAC,cAAAF,EAAAC,EAAAmC,SAAA,eACSpC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,mCAYxCpB,EAAiBsD,YAAU,CACzBC,KAAM,iBACNC,oBAAoB,GAFLF,CAGdtD,GACYyD,kBAASnD,IACf,CACLoD,WAAYpD,EAAMqD,OAAOD,WACzBlB,WAAYlC,EAAMqD,OAAOnB,WACzBY,OAAQ9C,EAAMsD,WAAWR,SAJdK,CAMZzD,YC5IH,MAAM6D,UAAmB5D,YACvBC,YAAYC,GACVC,MAAMD,GACNE,KAAKC,MAAQ,GAEfkB,oBACEnB,KAAKF,MAAMsB,SAASC,eAEtBK,SACE,OACEd,EAAAC,EAAAC,cAAA,QACEa,SAAU3B,KAAKF,MAAM8B,aACrBC,WAAaC,IACD,UAAVA,EAAEC,KAAmBD,EAAEE,mBAGzBpB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CACEC,KAAK,gBACLC,UAAWC,IACXC,KAAK,OACLC,MAAM,gBACNC,YAAY,2BAGhBnD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CACEC,KAAK,cACLC,UAAWK,IACXC,QAASjE,KAAKF,MAAMuD,WAAWa,IAAKC,IAKlC,MAJW,CACTC,MAAOD,EAAKE,YACZX,KAAMS,EAAKG,eAIfT,KAAK,OACLC,MAAM,SACNC,YAAY,oBAGhBnD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,mBAAlB,UACSH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,4BAUpCyC,EAAaP,YAAU,CACrBC,KAAM,aACNC,oBAAoB,GAFTF,CAGVO,GACYJ,kBAASnD,IACf,CACLoD,WAAYpD,EAAMqD,OAAOD,WACzBkB,cAAe,CACbrD,cAAejB,EAAMqD,OAAOkB,mBAJnBpB,CAOZI,GCRYJ,wBAlDf,cAAyBxD,YACvBC,YAAYC,GACVC,MAAMD,GACNE,KAAKC,MAAQ,GAEf2B,aAAanB,GACXT,KAAKF,MAAMsB,SAASqD,gBACpB,IAAIlD,EAAO,CACTL,cAAeT,EAAMS,cACrBmD,YAAa5D,EAAM4D,aAGrBK,YAAgB,oBAAqBnD,GAClCoD,KAAK,IAAMC,YAAY,yBACvBD,KAAK,IAAM3E,KAAKF,MAAMsB,SAASyD,iBAC/BF,KAAK,IAAM3E,KAAKF,MAAMsB,SAAS0D,iBAC/BC,MAAOC,GACNC,YAAU,uBAAAC,OAAwBF,IAAOL,KAAK,IAC5C3E,KAAKF,MAAMsB,SAAS0D,kBAI5BpD,SACE,OACEd,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,6BACZH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACZH,EAAAC,EAAAC,cAACqE,EAAA,EAAD,CAAMC,GAAG,KAAT,WAEFxE,EAAAC,EAAAC,cAAA,MAAIC,UAAU,0BAAd,gBAEFH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,iBACAH,EAAAC,EAAAC,cAACuE,EAAA,EAAD,KACEzE,EAAAC,EAAAC,cAACuE,EAAA,EAAD,qBACAzE,EAAAC,EAAAC,cAACuE,EAAA,EAAD,KACEzE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAACwE,EAAD,SAKN1E,EAAAC,EAAAC,cAACyE,EAAA,EAAD,CACEC,KAAK,IACLC,QAAS7E,EAAAC,EAAAC,cAAC4E,EAAD,CAAY/D,SAAWJ,GAASvB,KAAK4B,aAAaL","file":"static/js/108.f1641379.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\r\nimport { connect } from \"react-redux\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport {\r\n  getListHadiah,\r\n  getListMember,\r\n  pilihcustomer,\r\n} from \"../../../actions/member_action\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\nimport { showModal } from \"../../../actions/datamaster_action\";\r\n\r\nconst { SearchBar } = Search;\r\nclass HeadTukarPoint extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columns: [\r\n        {\r\n          dataField: \"nama_customer\",\r\n          text: \"Nama Customer\",\r\n        },\r\n        {\r\n          dataField: \"alamat\",\r\n          text: \"Alamat\",\r\n        },\r\n        {\r\n          dataField: \"kota\",\r\n          text: \"Kota\",\r\n        },\r\n        {\r\n          dataField: \"no_ktp\",\r\n          text: \"Nomor KTP\",\r\n        },\r\n        {\r\n          dataField: \"tgl_lahir\",\r\n          text: \"Tangga Lahir\",\r\n        },\r\n\r\n        {\r\n          dataField: \"handphone\",\r\n          text: \"Handphone\",\r\n        },\r\n        {\r\n          dataField: \"nopol_kendaraan\",\r\n          text: \"Nomor Polisi\",\r\n        },\r\n        {\r\n          dataField: \"action\",\r\n          text: \"Action\",\r\n          csvExport: false,\r\n          headerClasses: \"text-center\",\r\n          formatter: (rowcontent, hasil, rowIndex) => {\r\n            this.setState({});\r\n            return (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    className=\"btn btn-warning mr-3\"\r\n                    onClick={() => this.pilih(hasil.kode_customer)}\r\n                  >\r\n                    Pilih\r\n                    <i className=\"fa fa-gift ml-2\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getListHadiah());\r\n    this.props.dispatch(getListMember());\r\n  }\r\n  pilih(data) {\r\n    this.props.dispatch(pilihcustomer(data));\r\n    this.props.dispatch(showModal());\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n      >\r\n        <div className=\"row\">\r\n          <ToolkitProvider\r\n            keyField=\"no_ktp\"\r\n            data={this.props.listmember || []}\r\n            columns={this.state.columns}\r\n            search\r\n            exportCSV={{\r\n              fileName: \"Export Master Kategori.csv\",\r\n            }}\r\n          >\r\n            {(props) => (\r\n              <div className=\"row mt-3\">\r\n                <div className=\"col-6\">\r\n                  <div className=\"text-left\">\r\n                    <SearchBar {...props.searchProps} />\r\n                  </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"col-12 mt-3\">\r\n                  <BootstrapTable\r\n                    pagination={paginationFactory()}\r\n                    {...props.baseProps}\r\n                  />\r\n                  <br />\r\n                </div>\r\n              </div>\r\n            )}\r\n          </ToolkitProvider>\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"text-right\">\r\n              <button className=\"btn btn-primary\" disabled={this.props.onSend}>\r\n                {this.props.onSend ? (\r\n                  <>\r\n                    <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                    Menyimpan\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    Simpan <i className=\"fa fa-paper-plane ml-3 \"></i>\r\n                  </>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nHeadTukarPoint = reduxForm({\r\n  form: \"HeadTukarPoint\",\r\n  enableReinitialize: true,\r\n})(HeadTukarPoint);\r\nexport default connect((state) => {\r\n  return {\r\n    listhadiah: state.member.listhadiah,\r\n    listmember: state.member.listmember,\r\n    onSend: state.datamaster.onSend,\r\n  };\r\n})(HeadTukarPoint);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { getListHadiah } from \"../../../actions/member_action\";\r\nimport {\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../components/notification/notification\";\r\n\r\nclass ModalTukar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getListHadiah());\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-3 d-none\">\r\n            <Field\r\n              name=\"kode_customer\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Kode Customer\"\r\n              placeholder=\"Masukan Kode Customer\"\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-2\"></div>\r\n          <div className=\"col-lg-8\">\r\n            <Field\r\n              name=\"kode_hadiah\"\r\n              component={ReanderSelect}\r\n              options={this.props.listhadiah.map((list) => {\r\n                let data = {\r\n                  value: list.kode_hadiah,\r\n                  name: list.nama_hadiah,\r\n                };\r\n                return data;\r\n              })}\r\n              type=\"text\"\r\n              label=\"Hadiah\"\r\n              placeholder=\"Masukan Hadiah\"\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"text-right\">\r\n              <button className=\"btn btn-primary\">\r\n                Simpan <i className=\"fa fa-paper-plane\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nModalTukar = reduxForm({\r\n  form: \"ModalTukar\",\r\n  enableReinitialize: true,\r\n})(ModalTukar);\r\nexport default connect((state) => {\r\n  return {\r\n    listhadiah: state.member.listhadiah,\r\n    initialValues: {\r\n      kode_customer: state.member.customerpilihan,\r\n    },\r\n  };\r\n})(ModalTukar);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  hideModal,\r\n  onFinish,\r\n  onProgress,\r\n} from \"../../../actions/datamaster_action\";\r\nimport { AxiosMasterPost } from \"../../../axios\";\r\nimport {\r\n  NotifError,\r\n  NotifSucces,\r\n} from \"../../../components/notification/notification\";\r\nimport { Panel, PanelBody, PanelHeader } from \"../../../components/panel/panel\";\r\nimport ModalGlobal from \"../../ModalGlobal\";\r\nimport HeadTukarPoint from \"./HeadTukarPoint\";\r\nimport ModalTukar from \"./ModalTukar\";\r\n\r\nclass TukarPoint extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  handleSubmit(hasil) {\r\n    this.props.dispatch(onProgress());\r\n    let data = {\r\n      kode_customer: hasil.kode_customer,\r\n      kode_hadiah: hasil.kode_hadiah,\r\n    };\r\n\r\n    AxiosMasterPost(\"member/tukar-poin\", data)\r\n      .then(() => NotifSucces(\"Tukar Point Berhasil\"))\r\n      .then(() => this.props.dispatch(hideModal()))\r\n      .then(() => this.props.dispatch(onFinish()))\r\n      .catch((err) =>\r\n        NotifError(`Gagal Tukar Point , ${err}`).then(() =>\r\n          this.props.dispatch(onFinish())\r\n        )\r\n      );\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Member</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Tukar Point</li>\r\n        </ol>\r\n        <h1 className=\"page-header\"> Tukar Point </h1>\r\n        <Panel>\r\n          <PanelHeader> Tukar Point</PanelHeader>\r\n          <PanelBody>\r\n            <div className=\"col-lg-12 mt-3\">\r\n              <HeadTukarPoint />\r\n            </div>\r\n          </PanelBody>\r\n        </Panel>\r\n\r\n        <ModalGlobal\r\n          size=\"l\"\r\n          content={<ModalTukar onSubmit={(data) => this.handleSubmit(data)} />}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect()(TukarPoint);\r\n"],"sourceRoot":""}