(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{596:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),s=t(25),c=t(197),r=t(198),o=t(5),p=t(8),i=t(19);class m extends l.Component{constructor(e){super(e),this.state={hasilBarcode:[],listSupplier:[],stock:0}}getBarcode(e){this.props.dispatch(Object(o.Vb)()),Object(p.b)("permintaan-barang/get/BarangByBarcode/"+e.target.value).then(e=>this.setState({hasilBarcode:e.data})).then(()=>this.setDetail()).then(()=>this.props.dispatch(Object(o.Ub)())).catch(e=>{console.log(e),this.props.dispatch(Object(o.Ub)())})}setDetail(){this.props.change("nama_barang",this.state.hasilBarcode[0].nama_barang),this.props.change("merk",this.state.hasilBarcode[0].merk_barang),this.props.change("kwalitas",this.state.hasilBarcode[0].kwalitas),this.props.change("ukuran",this.state.hasilBarcode[0].ukuran);let e=this.state.hasilBarcode[0].data_supplier.map(e=>{return{value:e.kode_supplier+"||"+e.stock,name:"".concat(e.nama_supplier," ( ").concat(e.kode_supplier,")")}});this.setState({listSupplier:e})}setStock(e){let a=(e||"0||0").split("||");this.setState({stock:a[1]}),this.props.change("kode_supplier",a[0]),this.props.change("stock",a[1])}render(){return n.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-6"},n.a.createElement(c.a,{name:"kode_barcode",component:i.c,type:"text",label:"Kode Barcode",placeholder:"Masukan Kode Barcode",onChange:e=>this.getBarcode(e),onBlur:e=>this.getBarcode(e)})),n.a.createElement("div",{className:"col-lg-6"}),n.a.createElement("div",{className:"col-lg-6"},n.a.createElement(c.a,{name:"nama_barang",component:i.c,type:"text",label:"Nama Barang",placeholder:"Masukan Nama Barang",readOnly:!0,loading:this.props.onSend})),n.a.createElement("div",{className:"col-lg-3"},n.a.createElement(c.a,{name:"merk",component:i.c,type:"text",label:"Merk",placeholder:"Masukan Merk",readOnly:!0,loading:this.props.onSend})),n.a.createElement("div",{className:"col-lg-3"},n.a.createElement(c.a,{name:"kwalitas",component:i.c,type:"text",label:"Kualitas",placeholder:"Masukan Kualitas",readOnly:!0,loading:this.props.onSend})),n.a.createElement("div",{className:"col-lg-3"},n.a.createElement(c.a,{name:"ukuran",component:i.c,type:"text",label:"Ukuran",placeholder:"Masukan Ukuran",readOnly:!0,loading:this.props.onSend})),n.a.createElement("div",{className:"col-lg-3"},n.a.createElement(c.a,{name:"kode_supplier1",component:i.e,options:this.state.listSupplier||[],onChange:e=>this.setStock(e),type:"text",label:"Kode Supplier",placeholder:"Masukan Kode Supplier"})),n.a.createElement("div",{className:"col-lg-3 d-none"},n.a.createElement(c.a,{name:"kode_supplier",component:i.c,type:"text",label:"Kode Supplier",placeholder:"Masukan Kode Supplier"})),n.a.createElement("div",{className:"col-lg-3"},n.a.createElement(c.a,{name:"stock",component:i.c,type:"text",label:"Stock",placeholder:"Masukan Stock",readOnly:!0,loading:this.props.onSend})),n.a.createElement("div",{className:"col-lg-3"},n.a.createElement(c.a,{name:"qty",component:i.c,type:"text",label:"Qty",placeholder:"Masukan Qty"})))),n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"text-right"},n.a.createElement("button",{className:"btn btn-primary"},"Simpan ",n.a.createElement("i",{className:"fa fa-paper-plane"})))))}}m=Object(r.a)({form:"ModalPermintaanBarang",enableReinitialize:!0,validate:e=>{const a={};return parseInt(e.stock)<parseInt(e.qty)&&(a.qty="Jumlah Melebihi stock, mohon kuragi"),a}})(m),a.default=Object(s.b)(e=>({onSend:e.datamaster.onSend}))(m)}}]);
//# sourceMappingURL=115.32d4f107.chunk.js.map