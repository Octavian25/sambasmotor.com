(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1076:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(5),s=t(33),c=t(44),i=t(67),o=t(66),p=t(388),m=t(484),d=t(25),g=t(6),h=t(10),u=t(389);var b=class extends r.Component{constructor(e){super(e),this.state={listBooking:[],columns:[{dataField:"no_booking",text:"No Booking"},{dataField:"tgl_booking",text:"Tanggal Booking"},{dataField:"nopol_kendaraan",text:"Nomor Polisi"},{dataField:"jenis_service",text:"Jenis Service"},{dataField:"tgl_layanan",text:"Tanggal"}]}}componentDidMount(){Object(h.b)("service/booking/getDataBookingAll").then(e=>this.setState({listBooking:e&&e.data}))}render(){return n.a.createElement("div",null,n.a.createElement(u.a,{data:this.state.listBooking,columns:this.state.columns,keyField:"no_booking"}))}};const k=Object(r.lazy)(()=>Promise.all([t.e(4),t.e(59)]).then(t.bind(null,1041)));a.default=Object(s.b)(e=>({kunci_temp:e.stocking.kunci_temp,totalbarang:e.transaksi.totalbarang,totalsparepart:e.transaksi.totalsparepart,listdaftarservice:e.transaksi.listdaftarservice,noFaktur:e.datamaster.noFaktur}),null)(class extends n.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1}}componentDidMount(){this.props.dispatch(Object(d.u)()),this.props.dispatch(Object(g.Ab)()),Object(h.b)("daftar-service/generate/no-trx").then(e=>localStorage.setItem("no_daftar_service",e.data[0].no_daftar_service))}handleSubmit(e){let a={no_booking:!!e.booking,no_daftar:e.no_faktur,nopol_kendaraan:e.nopol_kendaraan||e.booking_nopol,tgl_masuk:e.tanggal_masuk,km_masuk:e.km_masuk,tgl_keluar:e.tanggal_keluar,km_keluar:e.km_keluar,jdw_service:e.service_selanjutnya,km_service:e.km_service_berikutnya,keluhan:e.keluhan_konsumen,id_mekanik:e.kode_mekanik,status_booking:void 0===e.booking?"false":"true",detail_barang:JSON.parse(localStorage.getItem("list_service_daftar_temp"))};console.log(JSON.stringify(a)),Object(h.c)("daftar-service/post-transaksi",a).then(()=>Object(c.b)("Berhasil Menambahan Data Booking").then(()=>this.props.dispatch(Object(o.a)("ModalBookingService"))).then(()=>localStorage.removeItem("list_service_daftar_temp")).then(()=>this.props.dispatch(Object(o.a)("ModalDaftarService"))).then(()=>this.props.dispatch(Object(d.u)()))).catch(e=>Object(c.g)("Terjadi Kesalahan Saat Menyimpan, Error :".concat(e)))}showBooking(){this.setState({booking:!0}),this.props.dispatch(Object(g.Wb)())}showBarang(){this.setState({booking:!1}),this.props.dispatch(Object(g.Wb)())}tambahSparepart(e){let a={kode_supplier:"-",kode:e.kategori_service,nama:e.nama_service,qty:1,harga_satuan:e.harga_service,harga_total:e.harga_service,keterangan:e.keterangan_service,jenis_barang:"JASA SERVICE"},t={kode_supplier:e.kode_supplier,kode:e.kode_sparepart,nama:e.nama_sparepart,qty:1,harga_satuan:e.harga_sparepart,harga_total:e.harga_sparepart,keterangan:e.kategori_service,jenis_barang:"SPAREPART"},r=JSON.parse(localStorage.getItem("list_service_daftar_temp"))||[];r.push(a),r.push(t),localStorage.setItem("list_service_daftar_temp",JSON.stringify(r)),Object(c.h)("Tambah Data Berhasil"),this.props.dispatch(Object(g.Tb)()),this.props.dispatch(Object(o.a)("TambahService")),this.props.dispatch(Object(d.u)())}render(){return n.a.createElement("div",null,n.a.createElement("ol",{className:"breadcrumb float-xl-right"},n.a.createElement("li",{className:"breadcrumb-item"},n.a.createElement(l.b,{to:"#"},"Data Master")),n.a.createElement("li",{className:"breadcrumb-item active"},"Daftar Service")),n.a.createElement("h1",{className:"page-header"},"Daftar Service "),n.a.createElement(i.a,null,n.a.createElement(i.c,null,"Daftar Service"),n.a.createElement(i.b,null,n.a.createElement("br",null),n.a.createElement(k,{onSubmit:e=>this.handleSubmit(e),showBarang:()=>this.showBarang(),showBooking:()=>this.showBooking()}))),n.a.createElement(p.a,{content:this.state.booking?n.a.createElement(b,null):n.a.createElement(m.a,{onSubmit:e=>this.tambahSparepart(e)}),title:this.state.booking?"Lihat Booking":"Tambah Data"}))}})},388:function(e,a,t){"use strict";var r=t(0),n=t.n(r),l=t(33),s=t(402),c=t(400),i=t(401),o=t(6);a.a=Object(l.b)(e=>({isOpen:e.datamaster.modalDialog}),null)(class extends r.Component{constructor(e){super(e),this.state={}}render(){return n.a.createElement(s.a,{backdrop:"static",keyboard:!1,isOpen:this.props.isOpen,toggle:()=>this.props.dispatch(Object(o.Tb)()),size:this.props.size||"xl"},n.a.createElement(c.a,{toggle:()=>this.props.dispatch(Object(o.Tb)())},this.props.title),n.a.createElement(i.a,null,this.props.content))}})},389:function(e,a,t){"use strict";var r=t(0),n=t.n(r),l=t(394),s=t.n(l),c=t(396),i=t.n(c),o=t(397),p=t.n(o),m=t(391),d=t.n(m);var g=function(e){return n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{src:d.a,width:"250",height:"250",alt:"Empty"}),n.a.createElement("h5",null,e.text)))},h=t(112),u=t.n(h);const b=c.Search.SearchBar,k=c.CSVExport.ExportCSVButton;a.a=function(e){let a=e.textEmpty,t=e.handleClick,r=e.tambahData,l=e.expandRow,c=e.selectRow,o=e.exportCSV;return e.data?n.a.createElement(i.a,{keyField:e.keyField,data:e.data||[],columns:e.columns,search:!0},e=>n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"text-left"},n.a.createElement(b,e.searchProps))),n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"text-right"},r&&n.a.createElement("button",{onClick:t,className:"btn btn-primary",type:"button"},"Tambah Data",n.a.createElement("i",{className:"fa fa-plus ml-3"})))),n.a.createElement("hr",null),n.a.createElement("div",{className:"col-12"},n.a.createElement(s.a,Object.assign({pagination:p()(),selectRow:c,expandRow:l},e.baseProps,{noDataIndication:n.a.createElement(g,{text:a||"Tidak Ada Data"})})),n.a.createElement("br",null),o&&n.a.createElement(k,e.csvProps,"Export CSV!!")))):e.empty?n.a.createElement(i.a,{keyField:e.keyField,data:e.data||[],columns:e.columns,search:!0},e=>n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"text-left"},n.a.createElement(b,e.searchProps))),n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"text-right"},r&&n.a.createElement("button",{onClick:t,className:"btn btn-primary",type:"button"},"Tambah Data",n.a.createElement("i",{className:"fa fa-plus ml-3"})))),n.a.createElement("hr",null),n.a.createElement("div",{className:"col-12"},n.a.createElement(s.a,Object.assign({pagination:p()()},e.baseProps,{noDataIndication:n.a.createElement(g,{text:a||"Tidak Ada Data"})})),n.a.createElement("br",null),e.CSVExport&&n.a.createElement(k,e.csvProps,"Export CSV!!")))):n.a.createElement(u.a,{width:"100%",height:250})}},391:function(e,a,t){e.exports=t.p+"static/media/empty.02c14787.svg"},447:function(e,a,t){"use strict";t.d(a,"a",function(){return l});var r=t(0),n=t.n(r);t(86),t(485),t(486),t(112);const l=({input:e,label:a,type:t,readOnly:r,placeholder:l,meta:{touched:s,error:c,warning:i}})=>n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"",className:"text-black"},a),n.a.createElement("input",Object.assign({onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},e,{autoComplete:"off",type:t,className:"form-control",readOnly:r,placeholder:l})),s&&(c&&n.a.createElement("ul",{className:"parsley-errors-list filled"},n.a.createElement("li",{className:"parsley-required"}," ",c,"."))||i&&n.a.createElement("p",null,i)))},484:function(e,a,t){"use strict";var r=t(0),n=t.n(r),l=t(33),s=t(160),c=t(161),i=t(399),o=t(6),p=t(10),m=t(447),d=t(44);const g=Object(i.createNumberMask)({prefix:"Rp. ",locale:"id-ID"});class h extends r.Component{constructor(e){super(e),this.state={listSupplier:[]}}componentDidMount(){this.props.dispatch(Object(o.Gb)()),this.props.dispatch(Object(o.wb)())}setSparepart(e){let a=e.split("||");this.props.change("kode_supplier1",null),Object(p.b)("daftar-service/getDataBarangDaftarService/"+a[3]).then(e=>this.setState({listSupplier:e&&e.data[0].data_supplier})).catch(e=>Object(d.g)("Error Get Supplier, ".concat(e))),this.props.change("harga_sparepart",a[1]),this.props.change("kode_sparepart",a[3]),this.props.change("nama_sparepart",a[2])}setService(e){let a=e.split("||");this.props.change("kategori_service",a[0]),this.props.change("harga_service",a[1]),this.props.change("nama_service",a[2])}setBarang(e){this.props.change("stock",e.split("||")[1]),this.props.change("kode_supplier",e.split("||")[0])}render(){return n.a.createElement("form",{onSubmit:this.props.handleSubmit},n.a.createElement("div",null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-6"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement(s.a,{name:"kategori_service1",component:d.e,options:this.props.listkategoriservice.map(e=>{return{value:"".concat(e.kategori_service,"||").concat(e.harga_jasa_service,"||").concat(e.jenis_service),name:e.kategori_service}}),onChange:e=>this.setService(e),type:"text",label:"Jenis Service",placeholder:"Masukan Jenis Service"})),n.a.createElement("div",{className:"col-lg-12 d-none"},n.a.createElement(s.a,{name:"kategori_service",component:d.d,type:"text",label:"Harga Service",placeholder:"Masukan Harga Service"})),n.a.createElement("div",{className:"col-lg-12 "},n.a.createElement(s.a,Object.assign({name:"harga_service",component:d.d,type:"telp",label:"Harga Service",placeholder:"Masukan Harga Service"},g,{readOnly:!0}))),n.a.createElement("div",{className:"col-lg-12 "},n.a.createElement(s.a,{name:"keterangan_service",component:d.d,type:"text",label:"Keterangan Service",placeholder:"Masukan Keterangan Service"})),n.a.createElement("div",{className:"col-lg-12 d-none "},n.a.createElement(s.a,Object.assign({name:"nama_service",component:d.d,type:"telp",label:"Harga Service",placeholder:"Masukan Harga Service"},g)))),n.a.createElement("div",{className:"col-lg-6"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement(s.a,{name:"sparepart",component:d.e,options:this.props.listBarang.map(e=>{return{value:"".concat(e.kode_barang,"||").concat(e.harga_jual,"||").concat(e.nama_barang,"||").concat(e.kode_barcode),name:e.nama_barang}}),onChange:e=>this.setSparepart(e),type:"text",label:"Jenis Service",placeholder:"Masukan Jenis Service"})),n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-6"},n.a.createElement(s.a,{name:"kode_supplier1",component:d.e,options:this.state.listSupplier.map(e=>{return{value:"".concat(e.kode_supplier,"||").concat(e.stock),name:e.nama_supplier}}),onChange:e=>this.setBarang(e),type:"text",label:"Kode Supplier",placeholder:"Masukan Kode Supplier"})),n.a.createElement("div",{className:"col-lg-6"},n.a.createElement(s.a,{name:"stock",component:m.a,type:"text",label:"Stock",placeholder:"Masukan Kode Supplier",readOnly:!0})))),n.a.createElement("div",{className:"col-lg-12 d-none"},n.a.createElement(s.a,{name:"kode_sparepart",component:d.d,type:"text",label:"Harga Service",placeholder:"Masukan Harga Service",readOnly:!0})),n.a.createElement("div",{className:"col-lg-12 d-none"},n.a.createElement(s.a,{name:"kode_supplier",component:d.d,type:"text",label:"Harga Service",placeholder:"Masukan Harga Service"})),n.a.createElement("div",{className:"col-lg-12 d-none"},n.a.createElement(s.a,{name:"nama_sparepart",component:d.d,type:"text",label:"Harga Service",placeholder:"Masukan Harga Service"})),n.a.createElement("div",{className:"col-lg-12"},n.a.createElement(s.a,Object.assign({name:"harga_sparepart",component:d.d,type:"telp",label:"Harga Service",placeholder:"Masukan Harga Service"},g,{readOnly:!0}))),n.a.createElement("div",{className:"col-lg-12 "},n.a.createElement(s.a,{name:"keterangan_sparepart",component:d.d,type:"text",label:"Keterangan Sparepart",placeholder:"Masukan Keterangan Sparepart"}))),n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"text-right"},n.a.createElement("button",{className:"btn btn-primary"},"Submit ",n.a.createElement("i",{className:"fa fa-paper-plane ml-3"})))))))}}h=Object(c.a)({form:"TambahService",enableReinitialize:!0})(h),a.a=Object(l.b)(e=>({listBarang:e.datamaster.listbarang,listkategoriservice:e.datamaster.listkategoriservice}))(h)}}]);
//# sourceMappingURL=39.d0791aa2.chunk.js.map