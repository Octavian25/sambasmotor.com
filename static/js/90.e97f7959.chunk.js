(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{1057:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(7),r=t(9),c=t(38),i=t(27),s=t(41),m=t(59);t(132);var d=(e="",a="",t)=>{const n=new m.default;n.setFontSize(15),n.text("LAPORAN MEKANIK",14,15),n.setFontSize(10),n.text("TANGGAL : ".concat(e),14,25),n.text("MEKANIK : ".concat(a),14,30);let l=[],o=0;t.forEach((e,a)=>{let t=[e.tanggal,e.mekanik,e.no_faktur,e.jenis_service,parseFloat(e.total).toLocaleString("id-ID")];o+=parseFloat(e.total),l.push(t),console.log(l),o=0}),n.autoTable({head:[[{content:"TANGGAL"},{content:"MEKANIK"},{content:"NOMOR FAKTUR"},{content:"KETERANGAN"},{content:"TOTAL"}]],body:l,startY:35,theme:"plain",rowPageBreak:"avoid",pageBreak:"avoid",margin:{top:20},bodyStyles:{lineWidth:.02,lineColor:"#000"},headStyles:{lineWidth:.02,lineColor:"#000",fillColor:[187,187,187]}});var r="<embed width='100%' height='100%' src='"+n.output("datauristring")+"'/>",c=window.open();c.document.open(),c.document.write(r),c.document.close()},p=t(29),k=t(195),u=t(196),g=t(6);class b extends n.Component{constructor(e){super(e),this.state={}}componentDidMount(){this.props.dispatch(Object(g.Nb)())}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(k.a,{name:"tanggal_awal",component:i.c,type:"date",label:"Tanggal Awal",placeholder:"Masukan Tanggal Awal"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(k.a,{name:"tanggal_akhir",component:i.c,type:"date",label:"Tanggal Akhir",placeholder:"Masukan Sampai Tanggal"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(k.a,{name:"kode_mekanik",component:i.e,options:this.props.listsales.filter(e=>"MKN"===e.kode_divisi).map(e=>{return{value:e.kode_pegawai,name:e.nama_pegawai}}),type:"text",label:"Kode Mekanik",placeholder:"Masukan Kode Mekanik"})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary"},"Lihat Data ",l.a.createElement("i",{className:"fa fa-print ml-3"}))))))}}b=Object(u.a)({form:"HeadLaporanMekanik",enableReinitialize:!0})(b);var h=Object(p.b)(e=>({listsales:e.datamaster.listsales}))(b);a.default=class extends n.Component{constructor(e){super(e),this.state={}}getLaporan(e){Object(r.b)("laporan/service/lap-mekanik/".concat(e.tanggal_awal,"&").concat(e.tanggal_akhir,"&").concat(e.kode_mekanik)).then(e=>this.setState({listLaporan:e&&e.data})).then(()=>d(e.tanggal_awal,e.kode_mekanik,Object(i.k)().user_name,Object(c.b)(),Object(i.k)().user_name,this.state.listLaporan))}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(o.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Mekanik")),l.a.createElement("h1",{className:"page-header"},"Laporan Mekanik "),l.a.createElement(s.a,null,l.a.createElement(s.c,null,"Laporan Mekanik"),l.a.createElement(s.b,null,l.a.createElement(h,{onSubmit:e=>this.getLaporan(e)}))))}}}}]);
//# sourceMappingURL=90.e97f7959.chunk.js.map