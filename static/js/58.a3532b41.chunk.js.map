{"version":3,"sources":["pages/Transaksi/BookingService/ModalBookingService.jsx","validasi/normalize.jsx"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","redux_form__WEBPACK_IMPORTED_MODULE_2__","redux_form__WEBPACK_IMPORTED_MODULE_3__","_components_notification_notification__WEBPACK_IMPORTED_MODULE_4__","_actions_datamaster_action__WEBPACK_IMPORTED_MODULE_5__","_validasi_normalize__WEBPACK_IMPORTED_MODULE_6__","ModalBookingService","Component","constructor","props","super","this","state","handleChange","nama","data","hasil","split","change","componentDidMount","dispatch","getCustomer","getKategoriService","getSales","render","a","createElement","onSubmit","handleSubmit","onKeyPress","e","key","preventDefault","className","name","component","ReanderSelect","options","listCustomer","map","list","value","concat","kode_customer","nama_customer","alamat","handphone","nopol_kendaraan","merk_kendaraan","warna_kendaraann","onChange","type","label","placeholder","validate","required","loading","ReanderField","listkategoriservice","jenis_service","listsales","filter","kode_divisi","kode_pegawai","nama_pegawai","htmlFor","disabled","onSend","Fragment","reduxForm","form","enableReinitialize","connect","datamaster","listcustomer","d","undefined"],"mappings":"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","file":"static/js/58.a3532b41.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport {\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../components/notification/notification\";\r\nimport {\r\n  getCustomer,\r\n  getKategoriService,\r\n  getSales,\r\n} from \"../../../actions/datamaster_action\";\r\nimport { required } from \"../../../validasi/normalize\";\r\n\r\nclass ModalBookingService extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  handleChange(nama, data) {\r\n    let split = data || \"DEFAULT|DEFAULT\";\r\n    let hasil = split.split(\"|\");\r\n    this.props.change(nama, hasil[1]);\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getCustomer());\r\n    this.props.dispatch(getKategoriService());\r\n    this.props.dispatch(getSales());\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form\r\n          onSubmit={this.props.handleSubmit}\r\n          onKeyPress={(e) => {\r\n            e.key === \"Enter\" && e.preventDefault();\r\n          }}\r\n        >\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"pelaggan\"\r\n                  component={ReanderSelect}\r\n                  options={this.props.listCustomer.map((list) => {\r\n                    let data = {\r\n                      value: `${list.kode_customer}||${list.nama_customer}||${list.alamat}||${list.handphone}||${list.nopol_kendaraan}||${list.merk_kendaraan}||${list.warna_kendaraann}`,\r\n                      name: list.nama_customer,\r\n                    };\r\n                    return data;\r\n                  })}\r\n                  onChange={(data) =>\r\n                    this.props.change(\"nopol_kendaraan\", data.split(\"||\")[4])\r\n                  }\r\n                  type=\"text\"\r\n                  label=\"Nama customer\"\r\n                  placeholder=\"Masukan Nama customer\"\r\n                  validate={required}\r\n                  loading={this.props.listCustomer === [] ? true : false}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3 d-none\">\r\n                <Field\r\n                  name=\"nopol_kendaraan\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"nopol\"\r\n                  placeholder=\"Masukan nopol\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"kategori_service\"\r\n                  component={ReanderSelect}\r\n                  options={this.props.listkategoriservice.map((list) => {\r\n                    let data = {\r\n                      value: list.jenis_service,\r\n                      name: list.jenis_service,\r\n                    };\r\n                    return data;\r\n                  })}\r\n                  type=\"text\"\r\n                  label=\"Jenis Service\"\r\n                  placeholder=\"Masukan Jenis Service\"\r\n                  validate={required}\r\n                  loading={this.props.listkategoriservice === [] ? true : false}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-2\">\r\n                <Field\r\n                  name=\"tanggal\"\r\n                  component={ReanderField}\r\n                  type=\"date\"\r\n                  label=\"Tanggal Pelayanan\"\r\n                  placeholder=\"Masukan Tanggal Pelayanan\"\r\n                  validate={required}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-1\">\r\n                <Field\r\n                  name=\"jam\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Jam\"\r\n                  placeholder=\"Masukan Jam\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"id_mekanik\"\r\n                  component={ReanderSelect}\r\n                  options={this.props.listsales\r\n                    .filter((list) => list.kode_divisi === \"MKN\")\r\n                    .map((list) => {\r\n                      let data = {\r\n                        value: list.kode_pegawai,\r\n                        name: list.nama_pegawai,\r\n                      };\r\n                      return data;\r\n                    })}\r\n                  type=\"text\"\r\n                  label=\"ID Mekanik\"\r\n                  placeholder=\"Masukan ID Mekanik\"\r\n                  validate={required}\r\n                  loading={this.props.listsales === [] ? true : false}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-12\">\r\n                <label htmlFor=\"\">Catatan</label>\r\n                <Field\r\n                  name=\"catatan\"\r\n                  component=\"textarea\"\r\n                  type=\"text\"\r\n                  label=\"Catatan\"\r\n                  placeholder=\"Masukan Catatan\"\r\n                  className=\"form-control\"\r\n                  validate={required}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12 mt-3\">\r\n            <div className=\"text-right\">\r\n              <button className=\"btn btn-primary\" disabled={this.props.onSend}>\r\n                {this.props.onSend ? (\r\n                  <>\r\n                    <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                    Menyimpan\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    Simpan <i className=\"fa fa-paper-plane ml-3 \"></i>\r\n                  </>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModalBookingService = reduxForm({\r\n  form: \"ModalBookingService\",\r\n  enableReinitialize: true,\r\n})(ModalBookingService);\r\nexport default connect((state) => {\r\n  return {\r\n    listCustomer: state.datamaster.listcustomer,\r\n    listkategoriservice: state.datamaster.listkategoriservice,\r\n    listsales: state.datamaster.listsales,\r\n    onSend: state.datamaster.onSend,\r\n  };\r\n})(ModalBookingService);\r\n","export const Gramasi = (value, previousValue) => {\r\n  if (!value) {\r\n    return value;\r\n  }\r\n  const onlyNums = value.replace(/[^0-9.]+/g, \"\");\r\n  if (!previousValue || value.length > previousValue.length) {\r\n    return onlyNums;\r\n  }\r\n};\r\n\r\nexport const NumberOnly = (value, previousValue) => {\r\n  if (!value) {\r\n    return value;\r\n  }\r\n  const onlyNums = value.replace(/[^0-9]+/g, \"\");\r\n  if (!previousValue || value.length > previousValue.length) {\r\n    return onlyNums;\r\n  }\r\n};\r\n\r\nexport const required = (value) => (value ? undefined : \"Tidak Boleh Kosong\");\r\nexport const number = (value) =>\r\n  value && isNaN(Number(value)) ? \"Must be a number\" : undefined;\r\n"],"sourceRoot":""}