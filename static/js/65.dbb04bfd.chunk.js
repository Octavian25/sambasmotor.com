(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{1025:function(t,e,a){"use strict";a.r(e);var i=a(0),s=a.n(i),n=a(7),d=a(41),c=a(29),l=a(16),o=a.n(l),r=a(27),h=a(5),b=a(131),m=a(42),p=a.n(m),v=a(9),u=a(49),E=a(132);const O=Object(i.lazy)(()=>a.e(23).then(a.bind(null,993))),j=(t,e)=>{o.a.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(a=>{a.isConfirmed&&Object(v.a)((void 0).props.dispatch,"divisi/delete/by-kode-divisi/"+t).then(()=>e(Object(h.Tb)())).then(()=>e(Object(h.zb)())).then(()=>Object(r.b)("Berhasil Dihapus"))})};e.default=Object(c.b)(t=>({hideModal:t.datamaster.modalDialog,onSend:t.datamaster.onSend,listdivisi:t.datamaster.listdivisi}),null)(class extends s.a.Component{constructor(t){super(t),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,columns:[{dataField:"kode_divisi",text:"Kode Divisi",sort:!0},{dataField:"nama_divisi",text:"Nama Divisi"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(t,e)=>{let a={kode_divisi:e.kode_divisi,nama_divisi:e.nama_divisi};return this.setState({}),s.a.createElement("div",{className:"row text-center"},s.a.createElement("div",{className:"col-12"},s.a.createElement("button",{onClick:()=>this.editModal(a),className:"btn btn-warning mr-3"},"Edit",s.a.createElement("i",{className:"fa fa-edit ml-2"})),s.a.createElement("button",{onClick:()=>j(e.kode_divisi,this.props.dispatch),className:"btn btn-danger"},"Hapus",s.a.createElement("i",{className:"fa fa-trash ml-2"}))))}}],datakategori:[{kode_gudang:"GD001",nama_gudang:"Gudang 1"}]}}componentDidMount(){this.props.dispatch(Object(h.zb)())}editModal(t){this.props.dispatch(Object(h.Wb)()),this.props.dispatch(Object(h.cb)(t)),this.setState({isEdit:!0})}tambahModal(){this.props.dispatch(Object(h.Wb)()),this.props.dispatch(Object(h.cb)("")),this.setState({isEdit:!1})}handleSubmit(t){let e={kode_divisi:t.kode_divisi||"-",nama_divisi:t.nama_divisi||"-"};this.state.isEdit?Object(v.d)(this.props.dispatch,"divisi/update/by-kode-divisi/"+t.kode_divisi||!1,{nama_divisi:t.nama_divisi||"-"}).then(()=>Object(r.b)("Berhasil Dirubah")).then(()=>this.props.dispatch(Object(u.a)("dataDivisi"))).then(()=>this.props.dispatch(Object(h.Tb)())).then(()=>this.props.dispatch(Object(h.zb)())).catch(t=>Object(r.a)("Sepertinya ada gangguan, Mohon ulang beberapa saat lagi")):Object(v.c)("divisi/add",e).then(()=>Object(r.b)("Berhasil Ditambahkan")).then(()=>this.props.dispatch(Object(u.a)("dataDivisi"))).then(()=>this.props.dispatch(Object(h.Tb)())).then(()=>this.props.dispatch(Object(h.zb)())).catch(e=>this.handleReactive(e,t.kode_divisi,{nama_divisi:t.nama_divisi}))}handleReactive(t,e,a){this.props.dispatch(Object(h.Tb)()),t.response.data.includes("Deleted")?Object(r.m)(t,e,"divisi/reactive/by-kode-divisi/",a,"divisi/update/by-kode-divisi/").then(()=>this.props.dispatch(Object(h.zb)())):Object(r.a)("Data Gagal Ditambahkan")}render(){return s.a.createElement("div",null,s.a.createElement("ol",{className:"breadcrumb float-xl-right"},s.a.createElement("li",{className:"breadcrumb-item"},s.a.createElement(n.b,{to:"#"},"Data Master")),s.a.createElement("li",{className:"breadcrumb-item active"},"Master Divisi")),s.a.createElement("h1",{className:"page-header"},"Master Divisi "),s.a.createElement(d.a,null,s.a.createElement(d.c,null,"Master Divisi"),s.a.createElement(d.b,null,s.a.createElement("br",null),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(E.a,{keyField:"kode_divisi",data:this.props.listdivisi||[],columns:this.state.columns,CSVExport:!0,tambahData:!0,handleClick:()=>this.tambahModal()})),s.a.createElement("br",null)),s.a.createElement(b.a,{title:this.state.isEdit?"Edit Data Divisi":"Tambah Data Divisi",content:s.a.createElement(i.Suspense,{fallback:s.a.createElement(p.a,{width:"100%",height:50,count:2})},s.a.createElement(O,{onSubmit:t=>this.handleSubmit(t),onSend:this.props.onSend,isEdit:this.state.isEdit}))})))}})}}]);
//# sourceMappingURL=65.dbb04bfd.chunk.js.map