(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{1021:function(a,t,e){"use strict";e.r(t);var s=e(0),i=e.n(s),n=e(7),o=e(41),l=e(28),r=e(16),d=e.n(r),c=e(18),k=e(5),h=e(131),m=e(42),b=e.n(m),p=e(9),u=e(49),_=e(132);const g=Object(s.lazy)(()=>e.e(36).then(e.bind(null,990))),E=(a,t)=>{d.a.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(e=>{e.isConfirmed&&Object(p.a)("lokasi-rak/delete/"+a).then(()=>t(Object(k.Mb)())).then(()=>Object(c.b)("Data Berhasil Di Hapus")).catch(()=>Object(c.a)("Sepertinya ada yang error"))})};t.default=Object(l.b)(a=>({hideModal:a.datamaster.modalDialog,onSend:a.datamaster.onSend,listrak:a.datamaster.listrak}),null)(class extends i.a.Component{constructor(a){super(a),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,columns:[{dataField:"kode_lokasi_gudang",text:"Kode Gudang",sort:!0},{dataField:"kode_lokasi_rak",text:"Kode Rak"},{dataField:"nama_lokasi_rak",text:"Nama Rak"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(a,t)=>{let e={kode_gudang:t.kode_lokasi_gudang,kode_rak:t.kode_lokasi_rak,nama_rak:t.nama_lokasi_rak};return this.setState({}),i.a.createElement("div",{className:"row text-center"},i.a.createElement("div",{className:"col-12"},i.a.createElement("button",{onClick:()=>this.editModal(e),className:"btn btn-warning mr-3"},"Edit",i.a.createElement("i",{className:"fa fa-edit ml-2"})),i.a.createElement("button",{onClick:()=>E(t.kode_lokasi_rak,this.props.dispatch),className:"btn btn-danger"},"Hapus",i.a.createElement("i",{className:"fa fa-trash ml-2"}))))}}],datakategori:[{kode_gudang:"RAK001",nama_gudang:"RAK 1"}]}}componentDidMount(){this.props.dispatch(Object(k.Mb)())}editModal(a){this.props.dispatch(Object(k.Wb)()),this.props.dispatch(Object(k.ob)(a)),this.setState({isEdit:!0})}tambahModal(){this.props.dispatch(Object(k.Wb)()),this.props.dispatch(Object(k.ob)("")),this.setState({isEdit:!1})}handleSubmit(a){let t={kode_lokasi_gudang:a.kode_gudang||"-",kode_lokasi_rak:a.kode_rak||"-",nama_lokasi_rak:a.nama_rak||"-"};this.state.isEdit?Object(p.d)(this.props.dispatch,"lokasi-rak/update/by-kode-lokasi-rak/"+a.kode_rak||!1,{kode_lokasi_gudang:a.kode_gudang||"-",nama_lokasi_rak:a.nama_rak||"-"}).then(()=>Object(c.b)("Berhasil Dirubah")).then(()=>this.props.dispatch(Object(u.a)(""))).then(()=>this.props.dispatch(Object(k.Tb)())).then(()=>this.props.dispatch(Object(k.Mb)())).catch(()=>Object(c.a)("Sepertinya ada gangguan, Mohon ulang beberapa saat lagi")):Object(p.c)("lokasi-rak/add",t).then(()=>Object(c.b)("Berhasil Ditambahkan")).then(()=>this.props.dispatch(Object(u.a)("dataRak"))).then(()=>this.props.dispatch(Object(k.Tb)())).then(()=>this.props.dispatch(Object(k.Mb)())).catch(t=>this.handleReactive(t,a.kode_rak,{kode_lokasi_gudang:a.kode_gudang||"-",nama_lokasi_rak:a.nama_rak||"-"}))}handleReactive(a,t,e){this.props.dispatch(Object(k.Tb)()),a.response.data.includes("hapus")?Object(c.m)(a,t,"lokasi-rak/reactive/",e,"lokasi-rak/update/by-kode-lokasi-rak/").then(()=>this.props.dispatch(Object(k.Mb)())):Object(c.a)("Data Gagal Ditambahkan")}render(){return i.a.createElement("div",null,i.a.createElement("ol",{className:"breadcrumb float-xl-right"},i.a.createElement("li",{className:"breadcrumb-item"},i.a.createElement(n.b,{to:"#"},"Data Master")),i.a.createElement("li",{className:"breadcrumb-item active"},"Master Rak")),i.a.createElement("h1",{className:"page-header"},"Master Rak "),i.a.createElement(o.a,null,i.a.createElement(o.c,null,"Master Rak"),i.a.createElement(o.b,null,i.a.createElement("br",null),i.a.createElement("div",{className:"col-lg-12"},i.a.createElement(_.a,{keyField:"kode_lokasi_rak",data:this.props.listrak||[],columns:this.state.columns,CSVExport:!0,tambahData:!0,handleClick:()=>this.tambahModal()})),i.a.createElement("br",null)),i.a.createElement(h.a,{title:this.state.isEdit?"Edit Data Rak":"Tambah Data Rak",content:i.a.createElement(s.Suspense,{fallback:i.a.createElement(b.a,{width:"100%",height:50,count:2})},i.a.createElement(g,{onSubmit:a=>this.handleSubmit(a),onSend:this.props.onSend,isEdit:this.state.isEdit}))})))}})}}]);
//# sourceMappingURL=80.f25116e1.chunk.js.map