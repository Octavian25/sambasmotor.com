{"version":3,"sources":["pages/Stoking/HancurBarang/ModalHancurBarang.jsx"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","redux_form__WEBPACK_IMPORTED_MODULE_1__","redux_form__WEBPACK_IMPORTED_MODULE_2__","_axios__WEBPACK_IMPORTED_MODULE_3__","_components_notification_notification__WEBPACK_IMPORTED_MODULE_4__","ModalHancurBarang","Component","constructor","props","super","this","state","listSupplier","getBarcode","e","lokasi_hancur","localStorage","getItem","AxiosMasterGet","concat","target","value","then","res","setBarang","data","console","log","change","kode_barang","nama_barang","merk_barang","kwalitas","satuan","setState","data_supplier","map","list","kode_supplier","stock","name","nama_supplier","setStock","hasil","split","render","a","createElement","onSubmit","handleSubmit","className","component","ReanderField","type","label","placeholder","onChange","onBlur","readOnly","ReanderSelect","options","reduxForm","form","enableReinitialize","validate","values","errors","parseInt","qty"],"mappings":"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","file":"static/js/117.166a9e7b.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { AxiosMasterGet } from \"../../../axios\";\r\nimport {\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../components/notification/notification\";\r\n\r\nconst validate = (values) => {\r\n  const errors = {};\r\n  if (parseInt(values.qty) > parseInt(values.stock)) {\r\n    errors.qty = \"Tidak Boleh Melebihi Stock\";\r\n  }\r\n  return errors;\r\n};\r\nclass ModalHancurBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listSupplier: [],\r\n    };\r\n  }\r\n  getBarcode(e) {\r\n    let lokasi_hancur = localStorage.getItem(\"lokasi_hancur\") || \"\";\r\n    AxiosMasterGet(\r\n      \"hancur-barang/get/BarangByBarcodeLokasi/\" +\r\n        `${e.target.value}&${lokasi_hancur}`\r\n    ).then((res) => this.setBarang(res.data));\r\n  }\r\n  setBarang(res) {\r\n    console.log(res);\r\n    this.props.change(\"kode_barang\", res[0].kode_barang);\r\n    this.props.change(\"nama_barang\", res[0].nama_barang);\r\n    this.props.change(\"merk\", res[0].merk_barang);\r\n    this.props.change(\"kwalitas\", res[0].kwalitas);\r\n    this.props.change(\"satuan\", res[0].satuan);\r\n    this.setState({\r\n      listSupplier:\r\n        res &&\r\n        res[0].data_supplier.map((list) => {\r\n          let data = {\r\n            value: `${list.kode_supplier}||${list.stock}`,\r\n            name: list.nama_supplier,\r\n          };\r\n          return data;\r\n        }),\r\n    });\r\n  }\r\n  setStock(hasil) {\r\n    let data = hasil.split(\"||\");\r\n    this.props.change(\"stock\", data[1]);\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.props.handleSubmit}>\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"kode_barcode\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Kode Barcode\"\r\n                  placeholder=\"Masukan Kode Barcode\"\r\n                  onChange={(e) => this.getBarcode(e)}\r\n                  onBlur={(e) => this.getBarcode(e)}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3 d-none\">\r\n                <Field\r\n                  name=\"kode_barang\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Nama Barang\"\r\n                  placeholder=\"Masukan Nama Barang\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"nama_barang\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Nama Barang\"\r\n                  placeholder=\"Masukan Nama Barang\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"merk\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Merk\"\r\n                  placeholder=\"Masukan Merk\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"kwalitas\"\r\n                  component={ReanderField}\r\n                  label=\"Kualitas\"\r\n                  placeholder=\"Masukan Kualitas\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"satuan\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Satuan\"\r\n                  placeholder=\"Masukan Satuan\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"kode_supplier\"\r\n                  component={ReanderSelect}\r\n                  options={this.state.listSupplier}\r\n                  type=\"text\"\r\n                  label=\"Kode Supplier\"\r\n                  placeholder=\"Masukan Kode Supplier\"\r\n                  onChange={(e) => this.setStock(e)}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-2\">\r\n                <Field\r\n                  name=\"stock\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Stock\"\r\n                  placeholder=\"Masukan Stock\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-2\">\r\n                <Field\r\n                  name=\"qty\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Qty\"\r\n                  placeholder=\"Masukan Qty\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-2\">\r\n                <Field\r\n                  name=\"kondisi\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Kondisi\"\r\n                  placeholder=\"Masukan Kondisi\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"text-right\">\r\n              <button className=\"btn btn-primary\">\r\n                Simpan <i className=\"fa fa-paper-plane\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModalHancurBarang = reduxForm({\r\n  form: \"ModalHancurBarang\",\r\n  enableReinitialize: true,\r\n  validate: validate,\r\n})(ModalHancurBarang);\r\nexport default ModalHancurBarang;\r\n"],"sourceRoot":""}