{"version":3,"sources":["pages/Transaksi/Supplier/ModalSupplierPenerimaan.jsx"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","redux_form__WEBPACK_IMPORTED_MODULE_2__","redux_form__WEBPACK_IMPORTED_MODULE_3__","redux_form__WEBPACK_IMPORTED_MODULE_4__","_components_notification_notification__WEBPACK_IMPORTED_MODULE_5__","redux_form_input_masks__WEBPACK_IMPORTED_MODULE_6__","_axios__WEBPACK_IMPORTED_MODULE_7__","_actions_datamaster_action__WEBPACK_IMPORTED_MODULE_8__","currencyMask","createNumberMask","prefix","suffix","decimalPlaces","locale","ModalSupplierPenerimaan","Component","constructor","props","super","this","state","hasilBarcode","listMerk","listKwalitas","listSatuan","setTotal","change","total","getBarcode","hasil","dispatch","onProgress","AxiosMasterGet","target","value","then","res","setState","data","setDetail","onFinish","catch","err","console","log","nama_barang","kode_merk_barang","kode_kwalitas","type","kode_satuan","harga_jual","componentDidMount","NotifError","render","a","createElement","onSubmit","handleSubmit","onKeyPress","e","key","preventDefault","className","name","component","ReanderField","label","placeholder","onChange","onBlur","autoFocus","readOnly","loading","onSend","ReanderSelect","options","map","list","nama_merk_barang","nama_kwalitas","nama_satuan","Object","assign","reduxForm","form","enableReinitialize","selector","formValueSelector","connect","_selector","harga_satuan","qty","parseFloat","datamaster"],"mappings":"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","file":"static/js/120.d210f3a8.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport {\r\n  NotifError,\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../components/notification/notification\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport { AxiosMasterGet } from \"../../../axios\";\r\nimport { onFinish, onProgress } from \"../../../actions/datamaster_action\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  suffix: \" ,-\",\r\n  decimalPlaces: 0,\r\n  locale: \"id-ID\",\r\n});\r\nclass ModalSupplierPenerimaan extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hasilBarcode: [],\r\n      listMerk: [],\r\n      listKwalitas: [],\r\n      listSatuan: [],\r\n    };\r\n  }\r\n\r\n  setTotal() {\r\n    this.props.change(\"total\", this.props.total);\r\n  }\r\n  getBarcode(hasil) {\r\n    this.props.dispatch(onProgress());\r\n    AxiosMasterGet(\"/barang/get/by-kode-barcode/\" + hasil.target.value)\r\n      .then((res) => this.setState({ hasilBarcode: res.data }))\r\n      .then(() => this.setDetail())\r\n      .then(() => this.props.dispatch(onFinish()))\r\n      .catch((err) => this.props.dispatch(onFinish()));\r\n  }\r\n  setDetail() {\r\n    console.log(this.state.hasilBarcode[0].nama_barang);\r\n    this.props.change(\"nama_barang\", this.state.hasilBarcode[0].nama_barang);\r\n    this.props.change(\"merk\", this.state.hasilBarcode[0].kode_merk_barang);\r\n    this.props.change(\"kwalitas\", this.state.hasilBarcode[0].kode_kwalitas);\r\n    this.props.change(\"type\", this.state.hasilBarcode[0].type);\r\n    this.props.change(\"satuan\", this.state.hasilBarcode[0].kode_satuan);\r\n    this.props.change(\"harga_satuan\", this.state.hasilBarcode[0].harga_jual);\r\n  }\r\n\r\n  componentDidMount() {\r\n    AxiosMasterGet(\"merk-barang/get/all\")\r\n      .then((res) =>\r\n        this.setState({\r\n          listMerk: res.data,\r\n        })\r\n      )\r\n      .catch((err) => NotifError(err));\r\n    AxiosMasterGet(\"kwalitas/get/all\")\r\n      .then((res) =>\r\n        this.setState({\r\n          listKwalitas: res.data,\r\n        })\r\n      )\r\n      .catch((err) => NotifError(err));\r\n    AxiosMasterGet(\"satuan/get/all\")\r\n      .then((res) =>\r\n        this.setState({\r\n          listSatuan: res.data,\r\n        })\r\n      )\r\n      .catch((err) => NotifError(err));\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4\">\r\n            <Field\r\n              name=\"kode_barcode\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Kode Barcode\"\r\n              placeholder=\"Masukan Kode Barcode\"\r\n              onChange={(hasil) => this.getBarcode(hasil)}\r\n              onBlur={(hasil) => this.getBarcode(hasil)}\r\n              autoFocus\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-8\"></div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"nama_barang\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Nama Barang\"\r\n              placeholder=\"Masukan Nama Barang\"\r\n              readOnly\r\n              loading={this.props.onSend}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"merk\"\r\n              component={ReanderSelect}\r\n              options={this.state.listMerk.map((list) => {\r\n                let data = {\r\n                  value: list.kode_merk_barang,\r\n                  name: list.nama_merk_barang,\r\n                };\r\n                return data;\r\n              })}\r\n              type=\"text\"\r\n              label=\"Merk\"\r\n              placeholder=\"Masukan Merk\"\r\n              readOnly\r\n              loading={this.props.onSend}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"kwalitas\"\r\n              component={ReanderSelect}\r\n              options={this.state.listKwalitas.map((list) => {\r\n                let data = {\r\n                  value: list.kode_kwalitas,\r\n                  name: list.nama_kwalitas,\r\n                };\r\n                return data;\r\n              })}\r\n              type=\"text\"\r\n              label=\"Kualitas\"\r\n              placeholder=\"Masukan Kualitas\"\r\n              readOnly\r\n              loading={this.props.onSend}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"type\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Type\"\r\n              placeholder=\"Masukan Type\"\r\n              readOnly\r\n              loading={this.props.onSend}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"satuan\"\r\n              component={ReanderSelect}\r\n              options={this.state.listSatuan.map((list) => {\r\n                let data = {\r\n                  value: list.kode_satuan,\r\n                  name: list.nama_satuan,\r\n                };\r\n                return data;\r\n              })}\r\n              type=\"text\"\r\n              label=\"Satuan\"\r\n              placeholder=\"Masukan Satuan\"\r\n              readOnly\r\n              loading={this.props.onSend}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"qty\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Qty\"\r\n              placeholder=\"Masukan Qty\"\r\n              onChange={this.setTotal()}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"harga_satuan\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Harga Satuan\"\r\n              placeholder=\"Masukan Harga Satuan\"\r\n              onChange={this.setTotal()}\r\n              {...currencyMask}\r\n              loading={this.props.onSend}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"total\"\r\n              component={ReanderField}\r\n              type=\"telp\"\r\n              label=\"Total\"\r\n              placeholder=\"Masukan Total\"\r\n              {...currencyMask}\r\n              readOnly\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"text-right\">\r\n              <button className=\"btn btn-primary\">\r\n                Simpan <i className=\"fa fa-paper-plane ml-3\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nModalSupplierPenerimaan = reduxForm({\r\n  form: \"ModalSupplierPenerimaan\",\r\n  enableReinitialize: true,\r\n})(ModalSupplierPenerimaan);\r\nconst selector = formValueSelector(\"ModalSupplierPenerimaan\"); // <-- same as form name\r\n\r\nexport default connect((state) => {\r\n  const { harga_satuan, qty } = selector(state, \"harga_satuan\", \"qty\");\r\n  return {\r\n    total: parseFloat(harga_satuan || 0) * parseFloat(qty || 0),\r\n    onSend: state.datamaster.onSend,\r\n  };\r\n})(ModalSupplierPenerimaan);\r\n"],"sourceRoot":""}