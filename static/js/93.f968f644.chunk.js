(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{1073:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(5),c=t(33),l=t(44),i=t(67),o=t(66),p=t(388),m=t(160),g=t(161),d=t(399),h=t(6);const b=Object(d.createNumberMask)({prefix:"Rp. ",locale:"id-ID"});class v extends r.Component{constructor(e){super(e),this.state={}}componentDidMount(){this.props.dispatch(Object(h.Gb)()),this.props.dispatch(Object(h.wb)())}setSparepart(e){let a=e.split("||");this.props.change("harga_sparepart",a[1]),this.props.change("kode_sparepart",a[0]),this.props.change("nama_sparepart",a[2])}setService(e){let a=e.split("||");this.props.change("kategori_service",a[0]),this.props.change("harga_service",a[1]),this.props.change("nama_service",a[2])}render(){return n.a.createElement("form",{onSubmit:this.props.handleSubmit},n.a.createElement("div",null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-6"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement(m.a,{name:"kategori_service1",component:l.e,options:this.props.listkategoriservice.map(e=>{return{value:"".concat(e.kategori_service,"||").concat(e.harga_jasa_service,"||").concat(e.jenis_service),name:e.kategori_service}}),onChange:e=>this.setService(e),type:"text",label:"Jenis Service",placeholder:"Masukan Jenis Service"})),n.a.createElement("div",{className:"col-lg-12 d-none"},n.a.createElement(m.a,{name:"kategori_service",component:l.d,type:"text",label:"Harga Service",placeholder:"Masukan Harga Service"})),n.a.createElement("div",{className:"col-lg-12 "},n.a.createElement(m.a,Object.assign({name:"harga_service",component:l.d,type:"telp",label:"Harga Service",placeholder:"Masukan Harga Service"},b))),n.a.createElement("div",{className:"col-lg-12 "},n.a.createElement(m.a,{name:"keterangan_service",component:l.d,type:"text",label:"Keterangan Service",placeholder:"Masukan Keterangan Service"})),n.a.createElement("div",{className:"col-lg-12 d-none "},n.a.createElement(m.a,Object.assign({name:"nama_service",component:l.d,type:"telp",label:"Harga Service",placeholder:"Masukan Harga Service"},b)))),n.a.createElement("div",{className:"col-lg-6"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement(m.a,{name:"sparepart",component:l.e,options:this.props.listBarang.map(e=>{return{value:"".concat(e.kode_barang,"||").concat(e.harga_jual,"||").concat(e.nama_barang),name:e.nama_barang}}),onChange:e=>this.setSparepart(e),type:"text",label:"Jenis Service",placeholder:"Masukan Jenis Service"})),n.a.createElement("div",{className:"col-lg-12 d-none"},n.a.createElement(m.a,{name:"kode_sparepart",component:l.d,type:"text",label:"Harga Service",placeholder:"Masukan Harga Service"})),n.a.createElement("div",{className:"col-lg-12 d-none"},n.a.createElement(m.a,{name:"nama_sparepart",component:l.d,type:"text",label:"Harga Service",placeholder:"Masukan Harga Service"})),n.a.createElement("div",{className:"col-lg-12"},n.a.createElement(m.a,Object.assign({name:"harga_sparepart",component:l.d,type:"telp",label:"Harga Service",placeholder:"Masukan Harga Service"},b))),n.a.createElement("div",{className:"col-lg-12 "},n.a.createElement(m.a,{name:"keterangan_sparepart",component:l.d,type:"text",label:"Keterangan Sparepart",placeholder:"Masukan Keterangan Sparepart"}))),n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"text-right"},n.a.createElement("button",{className:"btn btn-primary"},"Submit ",n.a.createElement("i",{className:"fa fa-paper-plane ml-3"})))))))}}v=Object(g.a)({form:"TambahService",enableReinitialize:!0})(v);var u=Object(c.b)(e=>({listBarang:e.datamaster.listbarang,listkategoriservice:e.datamaster.listkategoriservice}))(v),k=t(27),_=t(10);const E=Object(r.lazy)(()=>Promise.all([t.e(0),t.e(1),t.e(3),t.e(43)]).then(t.bind(null,1037)));a.default=Object(c.b)(e=>({kunci_temp:e.stocking.kunci_temp,totalbarang:e.transaksi.totalbarang,totalsparepart:e.transaksi.totalsparepart,listdaftarservice:e.transaksi.listdaftarservice,noFaktur:e.datamaster.noFaktur}),null)(class extends n.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1}}componentDidMount(){this.props.dispatch(Object(k.q)()),this.props.dispatch(Object(h.Ab)())}handleSubmit(e){let a={no_daftar:this.props.noFaktur,nopol_kendaraan:e.nopol_kendaraan,tgl_masuk:e.tanggal_masuk,km_masuk:e.km_masuk,tgl_keluar:e.tanggal_keluar,km_keluar:e.km_keluar,jdw_service:e.service_selanjutnya,km_service:e.km_service_berikutnya,keluhan:e.keluhan_konsumen,id_mekanik:e.kode_mekanik,status_booking:void 0!==e.booking,detail_barang:JSON.parse(localStorage.getItem("list_service_daftar_temp"))};console.log(a),Object(_.c)("daftar-service/post-transaksi",a).then(()=>Object(l.b)("Berhasil Menambahan Data Booking").then(()=>this.props.dispatch(Object(o.a)("ModalBookingService")))).catch(e=>Object(l.h)("Terjadi Kesalahan Saat Menyimpan, Error :".concat(e)))}tambahSparepart(e){let a={kode_supplier:"-",kode:e.kategori_service,nama:e.nama_service,qty:1,harga_satuan:e.harga_service,harga_total:e.harga_service,keterangan:e.keterangan_service,jenis_barang:"JASA SERVICE"},t={kode_supplier:"-",kode:e.kode_sparepart,nama:e.nama_sparepart,qty:1,harga_satuan:e.harga_sparepart,harga_total:e.harga_sparepart,keterangan:e.kategori_service,jenis_barang:"SPAREPART"},r=JSON.parse(localStorage.getItem("list_service_daftar_temp"))||[];r.push(a),r.push(t),localStorage.setItem("list_service_daftar_temp",JSON.stringify(r)),Object(l.i)("Tambah Data Berhasil")}render(){return n.a.createElement("div",null,n.a.createElement("ol",{className:"breadcrumb float-xl-right"},n.a.createElement("li",{className:"breadcrumb-item"},n.a.createElement(s.b,{to:"#"},"Data Master")),n.a.createElement("li",{className:"breadcrumb-item active"},"Daftar Service")),n.a.createElement("h1",{className:"page-header"},"Daftar Service "),n.a.createElement(i.a,null,n.a.createElement(i.c,null,"Daftar Service"),n.a.createElement(i.b,null,n.a.createElement("br",null),n.a.createElement(E,{onSubmit:e=>this.handleSubmit(e)}))),n.a.createElement(p.a,{content:n.a.createElement(u,{onSubmit:e=>this.tambahSparepart(e)}),title:"Tambah Data"}))}})},388:function(e,a,t){"use strict";var r=t(0),n=t.n(r),s=t(33),c=t(402),l=t(400),i=t(401),o=t(6);a.a=Object(s.b)(e=>({isOpen:e.datamaster.modalDialog}),null)(class extends r.Component{constructor(e){super(e),this.state={}}render(){return n.a.createElement(c.a,{backdrop:"static",keyboard:!1,isOpen:this.props.isOpen,toggle:()=>this.props.dispatch(Object(o.Tb)()),size:this.props.size||"xl"},n.a.createElement(l.a,{toggle:()=>this.props.dispatch(Object(o.Tb)())},this.props.title),n.a.createElement(i.a,null,this.props.content))}})}}]);
//# sourceMappingURL=93.f968f644.chunk.js.map