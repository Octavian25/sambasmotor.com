(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{1096:function(a,e,t){"use strict";t.r(e);var i=t(0),s=t.n(i),c=t(7),n=t(725),h=t.n(n),l=t(41),d=t(94),r=t.n(d),o=t(63),m=t.n(o),p=t(95),b=t.n(p),E=t(131),u=t(29),k=t(196),O=t(197),N=t(23);class j extends i.Component{constructor(a){super(a),this.state={}}render(){return s.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:a=>{"Enter"===a.key&&a.preventDefault()}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(k.a,{name:"kode_hadiah",component:N.c,type:"text",label:"Kode Hadiah",placeholder:"Masukan Kode hadiah",readOnly:this.props.isEdit})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(k.a,{name:"nama_hadiah",component:N.c,type:"text",label:"Nama Hadiah",placeholder:"Masukan Nama Hadiah"})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(k.a,{name:"stock",component:N.c,type:"text",label:"Stock Hadiah",placeholder:"Masukan Stock Hadiah"})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(k.a,{name:"poin",component:N.c,type:"text",label:"Point",placeholder:"Masukan Point"})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",disabled:this.props.onSend},this.props.onSend?s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):s.a.createElement(s.a.Fragment,null,"Simpan ",s.a.createElement("i",{className:"fa fa-paper-plane ml-3 "})))))))}}j=Object(O.a)({form:"ModalDaftarHadiah",enableReinitialize:!0})(j);var f=Object(u.b)(a=>a.member.hadiahEdit!==[]?{initialValues:{kode_hadiah:a.member.hadiahEdit.kode_hadiah,nama_hadiah:a.member.hadiahEdit.nama_hadiah,stock:a.member.hadiahEdit.stock,poin:a.member.hadiahEdit.poin},onSend:a.datamaster.onSend}:{onSend:a.datamaster.onSend})(j),g=t(5),S=t(9),v=t(49),x=t(52);const H=o.Search.SearchBar,_=o.CSVExport.ExportCSVButton;e.default=Object(u.b)(a=>({listhadiah:a.member.listhadiah}))(class extends i.Component{constructor(a){super(a),this.state={isEdit:!1,columns:[{dataField:"kode_hadiah",text:"Kode Hadiah"},{dataField:"nama_hadiah",text:"Nama Hadiah"},{dataField:"stock",text:"Stock"},{dataField:"poin",text:"Point"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(a,e,t)=>{let i={kode_hadiah:e.kode_hadiah,nama_hadiah:e.nama_hadiah,stock:e.stock,poin:e.poin};return this.setState({}),s.a.createElement("div",{className:"row text-center"},s.a.createElement("div",{className:"col-12"},s.a.createElement("button",{onClick:()=>this.editModal(i),className:"btn btn-warning mr-3"},"Edit",s.a.createElement("i",{className:"fa fa-edit ml-2"})),s.a.createElement("button",{onClick:()=>this.deleteModal(e.kode_hadiah),className:"btn btn-danger mr-3"},"Delete",s.a.createElement("i",{className:"fa fa-trash ml-2"}))))}}]}}componentDidMount(){this.props.dispatch(Object(x.g)())}showTambah(){this.setState({isEdit:!1}),this.props.dispatch(Object(g.Wb)()),this.props.dispatch(Object(x.k)(""))}deleteModal(a){this.props.dispatch(Object(g.Vb)()),Object(S.a)("hadiah/delete-hadiah/"+a).then(()=>Object(N.b)("Berhasi Hapus Hadiah")).then(()=>this.props.dispatch(Object(x.g)())).then(()=>this.props.dispatch(Object(g.Ub)())).catch(a=>Object(N.h)("Hadiah Gagal Dihapus,Error : ".concat(a.response.data)).then(()=>this.props.dispatch(Object(g.Ub)())))}editModal(a){this.setState({isEdit:!0}),this.props.dispatch(Object(x.k)(a)),this.props.dispatch(Object(g.Wb)())}handleSubmit(a){this.props.dispatch(Object(g.Vb)());let e={kode_hadiah:a.kode_hadiah,nama_hadiah:a.nama_hadiah,stock:a.stock,poin:a.poin};this.state.isEdit?Object(S.d)("hadiah/update-hadiah/"+a.kode_hadiah,{nama_hadiah:a.nama_hadiah,stock:a.stock,poin:a.poin}).then(()=>Object(N.b)("Hadiah berhasil ditambahkan")).then(()=>this.props.dispatch(Object(v.a)("ModalDaftarHadiah"))).then(()=>this.props.dispatch(Object(g.Tb)())).then(()=>this.props.dispatch(Object(x.g)())).then(()=>this.props.dispatch(Object(g.Ub)())).catch(a=>Object(N.h)("Gagal Tambah Hadiah, Error : ".concat(a.response.data)).then(()=>this.props.dispatch(Object(g.Ub)()))):Object(S.c)("hadiah/tambah-hadiah-baru",e).then(()=>Object(N.b)("Hadiah berhasil ditambahkan")).then(()=>this.props.dispatch(Object(v.a)("ModalDaftarHadiah"))).then(()=>this.props.dispatch(Object(g.Tb)())).then(()=>this.props.dispatch(Object(x.g)())).then(()=>this.props.dispatch(Object(g.Ub)())).catch(a=>Object(N.h)("Gagal Tambah Hadiah, Error : ".concat(a.response.data)).then(()=>this.props.dispatch(Object(g.Ub)())))}render(){return s.a.createElement("div",null,s.a.createElement("ol",{className:"breadcrumb float-xl-right"},s.a.createElement("li",{className:"breadcrumb-item"},s.a.createElement(c.b,{to:"#"},"Stock Opname")),s.a.createElement("li",{className:"breadcrumb-item active"},"Daftar Hadiah")),s.a.createElement("h1",{className:"page-header"}," Daftar Hadiah "),s.a.createElement(l.a,null,s.a.createElement(l.c,null," Daftar Hadiah"),s.a.createElement(l.b,null,s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"text-center"},s.a.createElement("img",{src:h.a,alt:"Gift",width:300}))),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(m.a,{keyField:"no_acc",data:this.props.listhadiah||[],columns:this.state.columns,search:!0,exportCSV:{fileName:"Export Master Kategori.csv"}},a=>s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{onClick:()=>this.showTambah(),className:"btn btn-primary"},"Tambah Data",s.a.createElement("i",{className:"fa fa-plus ml-3"}))),s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"text-right"},s.a.createElement(H,a.searchProps))),s.a.createElement("hr",null),s.a.createElement("div",{className:"col-12"},s.a.createElement(r.a,Object.assign({noDataIndication:"Belum Ada Data",pagination:b()()},a.baseProps)),s.a.createElement("br",null),s.a.createElement(_,a.csvProps,"Export CSV!!"))))))),s.a.createElement(E.a,{title:"Simpan Data Hadiah",content:s.a.createElement(f,{onSubmit:a=>this.handleSubmit(a),isEdit:this.state.isEdit,showTambah:()=>this.showTambah()})}))}})},725:function(a,e,t){a.exports=t.p+"static/media/Gift.6bc49431.svg"}}]);
//# sourceMappingURL=55.1e74d805.chunk.js.map