(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{1016:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(7),c=a(41),l=a(28),d=a(16),o=a.n(d),r=a(18),h=a(5),u=a(131),b=a(42),m=a.n(b),p=a(9),j=a(49),k=a(132);const _=Object(n.lazy)(()=>a.e(27).then(a.bind(null,986))),E=(e,t)=>{o.a.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(a=>{a.isConfirmed&&Object(p.a)((void 0).props.dispatch,"jenis-kunci/delete/by-kode-jenis-kunci/"+e).then(()=>t(Object(h.Tb)())).then(()=>t(Object(h.Eb)())).then(()=>Object(r.b)("Berhasil Dihapus"))})};t.default=Object(l.b)(e=>({hideModal:e.datamaster.modalDialog,onSend:e.datamaster.onSend,listjeniskunci:e.datamaster.listjeniskunci}),null)(class extends i.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,columns:[{dataField:"kode_jenis_kunci",text:"Kode Jenis Kunci",sort:!0},{dataField:"nama_jenis_kunci",text:"Nama Jenis Kunci"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,t)=>{let a={kode_jenis_kunci:t.kode_jenis_kunci,nama_jenis_kunci:t.nama_jenis_kunci};return this.setState({}),i.a.createElement("div",{className:"row text-center"},i.a.createElement("div",{className:"col-12"},i.a.createElement("button",{onClick:()=>this.editModal(a),className:"btn btn-warning mr-3"},"Edit",i.a.createElement("i",{className:"fa fa-edit ml-2"})),i.a.createElement("button",{onClick:()=>E(t.kode_jenis_kunci,this.props.dispatch),className:"btn btn-danger"},"Hapus",i.a.createElement("i",{className:"fa fa-trash ml-2"}))))}}],datakategori:[{kode_jenis_kunci:"KC001",nama_jenis_kunci:"PAS UK.20"}]}}componentDidMount(){this.props.dispatch(Object(h.Eb)())}editModal(e){this.props.dispatch(Object(h.Wb)()),this.props.dispatch(Object(h.gb)(e)),this.setState({isEdit:!0})}tambahModal(){this.props.dispatch(Object(h.Wb)()),this.props.dispatch(Object(h.gb)("")),this.setState({isEdit:!1})}handleSubmit(e){let t={kode_jenis_kunci:e.kode_jenis_kunci||"-",nama_jenis_kunci:e.nama_jenis_kunci||"-"};this.state.isEdit?Object(p.d)(this.props.dispatch,"jenis-kunci/update/by-kode-jenis-kunci/"+e.kode_jenis_kunci||!1,{nama_jenis_kunci:e.nama_jenis_kunci}).then(()=>Object(r.b)("Berhasil Dirubah")).then(()=>this.props.dispatch(Object(j.a)("dataJenisKunci"))).then(()=>this.props.dispatch(Object(h.Tb)())).then(()=>this.props.dispatch(Object(h.Eb)())).catch(()=>Object(r.a)("Sepertinya ada gangguan, Mohon ulang beberapa saat lagi")):Object(p.c)("jenis-kunci/add",t).then(()=>Object(r.b)("Berhasil Ditambahkan")).then(()=>this.props.dispatch(Object(j.a)("dataJenisKunci"))).then(()=>this.props.dispatch(Object(h.Tb)())).then(()=>this.props.dispatch(Object(h.Eb)())).catch(t=>this.handleReactive(t,e.kode_jenis_kunci,{nama_jenis_kunci:e.nama_jenis_kunci}))}handleReactive(e,t,a){this.props.dispatch(Object(h.Tb)()),e.response.data.includes("hapus")?Object(r.m)(e,t,"satuan/reactive/",a,"satuan/update/by-kode-satuan/").then(()=>this.props.dispatch(Object(h.Eb)())):Object(r.a)("Data Gagal Ditambahkan")}render(){return i.a.createElement("div",null,i.a.createElement("ol",{className:"breadcrumb float-xl-right"},i.a.createElement("li",{className:"breadcrumb-item"},i.a.createElement(s.b,{to:"#"},"Data Master")),i.a.createElement("li",{className:"breadcrumb-item active"},"Master Jenis Kunci")),i.a.createElement("h1",{className:"page-header"},"Master Jenis Kunci "),i.a.createElement(c.a,null,i.a.createElement(c.c,null,"Master Jenis Kunci"),i.a.createElement(c.b,null,i.a.createElement("br",null),i.a.createElement("div",{className:"col-lg-12"},i.a.createElement(k.a,{keyField:"kode_jenis_kunci",data:this.props.listjeniskunci||[],columns:this.state.columns,CSVExport:!0,tambahData:!0,handleClick:()=>this.tambahModal()})),i.a.createElement("br",null)),i.a.createElement(u.a,{title:this.state.isEdit?"Edit Data Jenis Kunci":"Tambah Data Jenis Kunci",content:i.a.createElement(n.Suspense,{fallback:i.a.createElement(m.a,{width:"100%",height:50,count:2})},i.a.createElement(_,{onSubmit:e=>this.handleSubmit(e),onSend:this.props.onSend,isEdit:this.state.isEdit}))})))}})}}]);
//# sourceMappingURL=70.649db654.chunk.js.map