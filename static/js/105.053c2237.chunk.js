(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{1057:function(a,e,t){"use strict";t.r(e);var n=t(0),l=t.n(n),o=t(5),r=t(10),s=t(67),c=t(33),i=t(160),m=t(161),p=t(6),d=t(44);class g extends n.Component{constructor(a){super(a),this.state={}}componentDidMount(){this.props.dispatch(Object(p.Nb)())}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(i.a,{name:"tanggal_awal",component:d.c,type:"date",label:"Dari Tanggal",placeholder:"Masukan Tanggal Awal"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(i.a,{name:"tanggal_akhir",component:d.c,type:"date",label:"Sampai Tanggal",placeholder:"Masukan Sampai Tanggal"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(i.a,{name:"kode_sales",component:d.e,options:this.props.listsales.map(a=>{return{value:a.kode_pegawai,name:a.nama_pegawai}}),type:"text",label:"Kode Sales",placeholder:"Masukan Kode Sales"})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary"},"Lihat Data ",l.a.createElement("i",{className:"fa fa-print ml-3"}))))))}}g=Object(m.a)({form:"HeadLaporanPenjualanSales",enableReinitialize:!0})(g);var u=Object(c.b)(a=>({listsales:a.datamaster.listsales}))(g),h=t(83),b=(t(172),t(52));var E=(a="",e="",t="",n)=>{const l=new h.default("landscape");let o=[],r=[],s=40,c=0;l.setFontSize(15),l.text("LAPORAN PENJUALAN SALES",14,15),l.setFontSize(10),l.text("TANGGAL : ".concat(a," s/d ").concat(e),14,25),l.text("NAMA SALES : ".concat(t),14,30),n.forEach((a,e)=>{let t=[[{content:"Nama Sales\t: ".concat(a.sales),colSpan:8}],[{content:"TANGGAL"},{content:"NO FAKTUR"},{content:"BARCODE"},{content:"NAMA"},{content:"MERK"},{content:"QTY"},{content:"SATUAN"},{content:"TOTAL"}]];a.detail.forEach(a=>{let e=[Object(b.a)(a.tanggal),a.no_faktur_jual,a.kode_barcode,a.nama_barang,a.merk_barang,a.qty,"Rp. "+parseFloat(a.harga_satuan).toLocaleString("id-ID"),"Rp. "+parseFloat(a.harga_total).toLocaleString("id-ID")];c+=parseFloat(a.harga_total),o.push(e)});let n=["","","","","","","Total","Rp. "+parseFloat(c).toLocaleString("id-ID")];r.push(n),s=l.lastAutoTable.finalY+10,l.autoTable({head:t,body:o,foot:r,startY:0===e?35:s+5,theme:"plain",rowPageBreak:"avoid",pageBreak:"avoid",margin:{top:20},bodyStyles:{lineWidth:.02,lineColor:"#000"},headStyles:{lineWidth:.02,lineColor:"#000",fillColor:[187,187,187]}}),o=[]});var i="<embed width='100%' height='100%' src='"+l.output("datauristring")+"'/>",m=window.open();m.document.open(),m.document.write(i)};e.default=class extends n.Component{constructor(a){super(a),this.state={}}getLaporan(a){Object(r.b)("laporan/penjualan/lap-penjualan-sales/"+"".concat(a.tanggal_awal,"&").concat(a.tanggal_akhir,"&").concat(a.kode_sales)).then(a=>this.setState({listLaporan:a.data})).then(()=>E(a.tanggal_awal,a.tanggal_akhir,a.kode_sales,this.state.listLaporan))}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(o.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Penjualan Sales")),l.a.createElement("h1",{className:"page-header"},"Laporan Penjualan Sales "),l.a.createElement(s.a,null,l.a.createElement(s.c,null,"Laporan Penjualan Sales"),l.a.createElement(s.b,null,l.a.createElement(u,{onSubmit:a=>this.getLaporan(a)}))))}}}}]);
//# sourceMappingURL=105.053c2237.chunk.js.map