{"version":3,"sources":["pages/Transaksi/Supplier/ModalSupplierPenerimaan.jsx"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","redux_form__WEBPACK_IMPORTED_MODULE_2__","redux_form__WEBPACK_IMPORTED_MODULE_3__","redux_form__WEBPACK_IMPORTED_MODULE_4__","_components_notification_notification__WEBPACK_IMPORTED_MODULE_5__","redux_form_input_masks__WEBPACK_IMPORTED_MODULE_6__","_axios__WEBPACK_IMPORTED_MODULE_7__","currencyMask","createNumberMask","prefix","suffix","decimalPlaces","locale","ModalSupplierPenerimaan","Component","constructor","props","super","this","state","hasilBarcode","listMerk","listKwalitas","listSatuan","setTotal","change","total","getBarcode","hasil","AxiosMasterGet","target","value","then","res","setState","data","setDetail","catch","err","console","log","nama_barang","kode_merk_barang","kode_kwalitas","type","kode_satuan","harga_jual","componentDidMount","NotifError","render","a","createElement","onSubmit","handleSubmit","className","name","component","ReanderField","label","placeholder","onChange","onBlur","autoFocus","readOnly","ReanderSelect","options","map","list","nama_merk_barang","nama_kwalitas","nama_satuan","Object","assign","reduxForm","form","enableReinitialize","selector","formValueSelector","connect","_selector","harga_satuan","qty","parseFloat"],"mappings":"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","file":"static/js/125.d36fd07b.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport {\r\n  NotifError,\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../components/notification/notification\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport { AxiosMasterGet } from \"../../../axios\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  suffix: \" ,-\",\r\n  decimalPlaces: 0,\r\n  locale: \"id-ID\",\r\n});\r\nclass ModalSupplierPenerimaan extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hasilBarcode: [],\r\n      listMerk: [],\r\n      listKwalitas: [],\r\n      listSatuan: [],\r\n    };\r\n  }\r\n\r\n  setTotal() {\r\n    this.props.change(\"total\", this.props.total);\r\n  }\r\n  getBarcode(hasil) {\r\n    AxiosMasterGet(\"/barang/get/by-kode-barcode/\" + hasil.target.value)\r\n      .then((res) => this.setState({ hasilBarcode: res.data }))\r\n      .then(() => this.setDetail())\r\n      .catch((err) => console.log(err));\r\n  }\r\n  setDetail() {\r\n    console.log(this.state.hasilBarcode[0].nama_barang);\r\n    this.props.change(\"nama_barang\", this.state.hasilBarcode[0].nama_barang);\r\n    this.props.change(\"merk\", this.state.hasilBarcode[0].kode_merk_barang);\r\n    this.props.change(\"kwalitas\", this.state.hasilBarcode[0].kode_kwalitas);\r\n    this.props.change(\"type\", this.state.hasilBarcode[0].type);\r\n    this.props.change(\"satuan\", this.state.hasilBarcode[0].kode_satuan);\r\n    this.props.change(\"harga_satuan\", this.state.hasilBarcode[0].harga_jual);\r\n  }\r\n\r\n  componentDidMount() {\r\n    AxiosMasterGet(\"merk-barang/get/all\")\r\n      .then((res) =>\r\n        this.setState({\r\n          listMerk: res.data,\r\n        })\r\n      )\r\n      .catch((err) => NotifError(err));\r\n    AxiosMasterGet(\"kwalitas/get/all\")\r\n      .then((res) =>\r\n        this.setState({\r\n          listKwalitas: res.data,\r\n        })\r\n      )\r\n      .catch((err) => NotifError(err));\r\n    AxiosMasterGet(\"satuan/get/all\")\r\n      .then((res) =>\r\n        this.setState({\r\n          listSatuan: res.data,\r\n        })\r\n      )\r\n      .catch((err) => NotifError(err));\r\n  }\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit}>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4\">\r\n            <Field\r\n              name=\"kode_barcode\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Kode Barcode\"\r\n              placeholder=\"Masukan Kode Barang\"\r\n              onChange={(hasil) => this.getBarcode(hasil)}\r\n              onBlur={(hasil) => this.getBarcode(hasil)}\r\n              autoFocus\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-8\"></div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"nama_barang\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Nama Barang\"\r\n              placeholder=\"Masukan Nama Barang\"\r\n              readOnly\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"merk\"\r\n              component={ReanderSelect}\r\n              options={this.state.listMerk.map((list) => {\r\n                let data = {\r\n                  value: list.kode_merk_barang,\r\n                  name: list.nama_merk_barang,\r\n                };\r\n                return data;\r\n              })}\r\n              type=\"text\"\r\n              label=\"Merk\"\r\n              placeholder=\"Masukan Merk\"\r\n              readOnly\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"kwalitas\"\r\n              component={ReanderSelect}\r\n              options={this.state.listKwalitas.map((list) => {\r\n                let data = {\r\n                  value: list.kode_kwalitas,\r\n                  name: list.nama_kwalitas,\r\n                };\r\n                return data;\r\n              })}\r\n              type=\"text\"\r\n              label=\"Kualitas\"\r\n              placeholder=\"Masukan Kualitas\"\r\n              readOnly\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"type\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Type\"\r\n              placeholder=\"Masukan Type\"\r\n              readOnly\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"satuan\"\r\n              component={ReanderSelect}\r\n              options={this.state.listSatuan.map((list) => {\r\n                let data = {\r\n                  value: list.kode_satuan,\r\n                  name: list.nama_satuan,\r\n                };\r\n                return data;\r\n              })}\r\n              type=\"text\"\r\n              label=\"Satuan\"\r\n              placeholder=\"Masukan Satuan\"\r\n              readOnly\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"qty\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Qty\"\r\n              placeholder=\"Masukan Qty\"\r\n              onChange={this.setTotal()}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"harga_satuan\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Harga Satuan\"\r\n              placeholder=\"Masukan Harga Satuan\"\r\n              onChange={this.setTotal()}\r\n              {...currencyMask}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"total\"\r\n              component={ReanderField}\r\n              type=\"telp\"\r\n              label=\"Total\"\r\n              placeholder=\"Masukan Total\"\r\n              {...currencyMask}\r\n              readOnly\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"text-right\">\r\n              <button className=\"btn btn-primary\">\r\n                Simpan <i className=\"fa fa-paper-plane ml-3\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nModalSupplierPenerimaan = reduxForm({\r\n  form: \"ModalSupplierPenerimaan\",\r\n  enableReinitialize: true,\r\n})(ModalSupplierPenerimaan);\r\nconst selector = formValueSelector(\"ModalSupplierPenerimaan\"); // <-- same as form name\r\n\r\nexport default connect((state) => {\r\n  const { harga_satuan, qty } = selector(state, \"harga_satuan\", \"qty\");\r\n  return {\r\n    total: parseFloat(harga_satuan || 0) * parseFloat(qty || 0),\r\n  };\r\n})(ModalSupplierPenerimaan);\r\n"],"sourceRoot":""}