(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{1062:function(a,e,t){"use strict";t.r(e);var n=t(0),l=t.n(n),o=t(7),s=t(9),r=t(41),c=t(29),i=t(196),m=t(197),p=t(5),d=t(23);class u extends n.Component{constructor(a){super(a),this.state={}}componentDidMount(){this.props.dispatch(Object(p.Nb)())}listSales(){let a=this.props.listsales.filter(a=>"SLS"===a.kode_divisi).map(a=>{return{value:a.kode_pegawai,name:a.nama_pegawai}});return a.push({value:"SEMUA",name:"SEMUA"}),a}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:a=>{"Enter"===a.key&&a.preventDefault()}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(i.a,{name:"tanggal_awal",component:d.c,type:"date",label:"Dari Tanggal",placeholder:"Masukan Tanggal Awal"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(i.a,{name:"tanggal_akhir",component:d.c,type:"date",label:"Sampai Tanggal",placeholder:"Masukan Sampai Tanggal"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(i.a,{name:"kode_sales",component:d.e,options:this.listSales(),type:"text",label:"Kode Sales",placeholder:"Masukan Kode Sales"})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary",disabled:this.props.onSend},this.props.onSend?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyiapkan Laporan"):l.a.createElement(l.a.Fragment,null,"Lihat Data ",l.a.createElement("i",{className:"fa fa-print ml-3 "})))))))}}u=Object(m.a)({form:"HeadLaporanPenjualanSales",enableReinitialize:!0})(u);var g=Object(c.b)(a=>({listsales:a.datamaster.listsales,onSend:a.datamaster.onSend}))(u),h=t(60),b=(t(133),t(33));var S=(a="",e="",t="",n)=>{const l=new h.default("landscape");let o=[],s=[],r=40,c=0;l.setFontSize(15),l.text("LAPORAN PENJUALAN SALES",14,15),l.setFontSize(10),l.text("TANGGAL : ".concat(a," s/d ").concat(e),14,25),l.text("NAMA SALES : ".concat(t),14,30),n.forEach((a,e)=>{let t=[[{content:"Nama Sales\t: ".concat(a.sales),colSpan:8}],[{content:"TANGGAL"},{content:"NO FAKTUR"},{content:"BARCODE"},{content:"NAMA"},{content:"MERK"},{content:"QTY"},{content:"SATUAN"},{content:"TOTAL"}]];a.detail.forEach(a=>{let e=[Object(b.b)(a.tanggal),a.no_faktur_jual,a.kode_barcode,a.nama_barang,a.merk_barang,a.qty,parseFloat(a.harga_satuan).toLocaleString("id-ID"),parseFloat(a.harga_total).toLocaleString("id-ID")];c+=parseFloat(a.harga_total),o.push(e)});let n=["","","","","","","Total",parseFloat(c).toLocaleString("id-ID")];s.push(n),r=l.lastAutoTable.finalY+10,l.autoTable({head:t,body:o,foot:s,startY:0===e?35:r+5,theme:"plain",rowPageBreak:"avoid",margin:{top:20},bodyStyles:{lineWidth:.02,lineColor:"#000"},headStyles:{lineWidth:.02,lineColor:"#000",fillColor:[212,212,211]}}),o=[]});var i="<embed width='100%' height='100%' src='"+l.output("datauristring")+"'/>",m=window.open();m.document.open(),m.document.write(i)};e.default=class extends n.Component{constructor(a){super(a),this.state={}}getLaporan(a){Object(s.b)("laporan/penjualan/lap-penjualan-sales/"+"".concat(a.tanggal_awal,"&").concat(a.tanggal_akhir,"&").concat(a.kode_sales)).then(a=>this.setState({listLaporan:a.data})).then(()=>S(a.tanggal_awal,a.tanggal_akhir,a.kode_sales,this.state.listLaporan))}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(o.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Penjualan Sales")),l.a.createElement("h1",{className:"page-header"},"Laporan Penjualan Sales "),l.a.createElement(r.a,null,l.a.createElement(r.c,null,"Laporan Penjualan Sales"),l.a.createElement(r.b,null,l.a.createElement(g,{onSubmit:a=>this.getLaporan(a)}))))}}}}]);
//# sourceMappingURL=91.ebc01964.chunk.js.map