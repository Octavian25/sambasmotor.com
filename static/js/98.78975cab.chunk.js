(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{1069:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(7),r=t(9),s=t(33),i=t(18),c=t(41),m=t(60);t(133);var d=(e="",a="",t="",n="",o)=>{const l=new m.default;let r=[],s=[],i=40,c=0;l.setFontSize(15),l.text("LAPORAN STOCK PER KATEGORI",14,15),l.setFontSize(10),l.text("Tanggal : ".concat(e),14,25),o.forEach((e,a)=>{let t=[[{content:"LOKASI : ".concat(e.lokasi),colSpan:9}],[{content:"KODE JENIS"},{content:"AWAL"},{content:"TAMBAH"},{content:"RETUR CUST"},{content:"JUAL"},{content:"RETUR STOCK"},{content:"MEKANIK"},{content:"KELUAR"},{content:"AKHIR"}]];e.detail.forEach((e,a)=>{let t=[e.kode_jenis,e.awal_qty,e.tambah_qty,e.retcust_qty,e.jual_qty,e.retstock_qty,e.mekanik_qty,e.keluar_qty,e.akhir_qty];c+=parseInt(e.qty),r.push(t),console.log(r)}),s.push([]),l.autoTable({head:t,body:r,foot:s,startY:0===a?35:i+5,theme:"plain",rowPageBreak:"avoid",pageBreak:"avoid",margin:{top:20},bodyStyles:{lineWidth:.02,lineColor:"#000"},headStyles:{lineWidth:.02,lineColor:"#000",fillColor:[212,212,211]}}),i=l.autoTableEndPosY()+10,r=[],s=[],c=0}),l.text("User\t: ".concat(a),14,i+10),l.text("Cetak\t: ".concat(t),14,i+16),l.text("Valid\t: ".concat(n),14,i+22);const d=l.internal.getNumberOfPages(),g=l.internal.pageSize.width,p=l.internal.pageSize.height;l.setFontSize(10);for(let m=1;m<d+1;m++){let e=g/2,a=p-10;l.setPage(m),l.text("".concat(m," of ").concat(d),e,a,{align:"center"})}l.autoPrint();var u="<embed width='100%' height='100%' src='"+l.output("datauristring")+"'/>",h=window.open();h.document.open(),h.document.write(u)},g=t(28),p=t(197),u=t(198);class h extends n.Component{constructor(e){super(e),this.state={listJenis:[],listKategori:[],listGudang:[]}}componentDidMount(){Object(r.b)("kategori/get/all").then(e=>this.setState({listKategori:e&&e.data.map(e=>{return{value:e.kode_kategori,name:e.nama_kategori}})})),Object(r.b)("lokasi-gudang/get/all").then(e=>this.setState({listGudang:e&&e.data.map(e=>{return{value:e.kode_lokasi_gudang,name:e.nama_lokasi_gudang}})}))}getJenis(e){this.props.change("kode_jenis",""),Object(r.b)("jenis/get/by-kode-kategori/"+e).then(e=>this.setState({listJenis:e&&e.data.map(e=>{return{value:e.kode_jenis,name:e.nama_jenis}})}))}render(){return o.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-3"},o.a.createElement(p.a,{name:"kode_kategori",component:i.e,options:this.state.listKategori,type:"text",label:"Kategori",placeholder:"Masukan Kategori",onChange:e=>this.getJenis(e)})),o.a.createElement("div",{className:"col-lg-3"},o.a.createElement(p.a,{name:"kode_jenis",component:i.e,options:this.state.listJenis,type:"text",label:"Jenis",placeholder:"Masukan Jenis"})),o.a.createElement("div",{className:"col-lg-3"},o.a.createElement(p.a,{name:"kode_lokasi",component:i.e,options:this.state.listGudang,type:"text",label:"Lokasi",placeholder:"Masukan Lokasi"})),o.a.createElement("div",{className:"col-lg-3"},o.a.createElement(p.a,{name:"tanggal_awal",component:i.c,type:"date",label:"Dari Tanggal",placeholder:"Masukan Tanggal Awal"})),o.a.createElement("div",{className:"col-lg-12"},o.a.createElement("div",{className:"text-right"},o.a.createElement("button",{className:"btn btn-primary",disabled:this.props.onSend},this.props.onSend?o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyiapkan Laporan"):o.a.createElement(o.a.Fragment,null,"Lihat Data ",o.a.createElement("i",{className:"fa fa-print ml-3 "})))))))}}h=Object(u.a)({form:"HeadLaporanKartuStock",enableReinitialize:!0})(h);var b=Object(g.b)(e=>({onSend:e.datamaster.onSend}))(h);a.default=class extends n.Component{constructor(e){super(e),this.state={Laporan:[]}}getLaporan(e){Object(r.b)("laporan/stocking/lap-saldo-barang/"+"".concat(e.tanggal_awal,"&").concat(e.kode_kategori,"&").concat(e.kode_jenis,"&").concat(e.kode_lokasi)).then(e=>{if(e.data)return Object(i.h)("Data Laporan Kosong"),!1;this.setState({Laporan:e.data})}).then(()=>this.state.Laporan.length?d(e.tanggal_awal,Object(i.l)().user_name,Object(s.c)(),Object(i.l)().user_name,this.state.Laporan):Object(i.h)("Data Laporan Kosong"))}render(){return o.a.createElement("div",null,o.a.createElement("ol",{className:"breadcrumb float-xl-right"},o.a.createElement("li",{className:"breadcrumb-item"},o.a.createElement(l.b,{to:"#"},"Laporan")),o.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Stock Per Kategori")),o.a.createElement("h1",{className:"page-header"},"Laporan Stock Per Kategori "),o.a.createElement(c.a,null,o.a.createElement(c.c,null,"Laporan Stock Per Kategori"),o.a.createElement(c.b,null,o.a.createElement(b,{onSubmit:e=>this.getLaporan(e)}))))}}}}]);
//# sourceMappingURL=98.78975cab.chunk.js.map