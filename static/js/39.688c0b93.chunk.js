(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1079:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(5),s=t(33),c=t(67),i=t(388),o=t(160),m=t(161),p=t(173),d=t(397),u=t(14),b=t.n(u),h=t(6),g=t(24),E=t(10),v=t(52),k=t(44),_=t(389),N=t(393);const x=Object(d.createNumberMask)({prefix:"Rp. ",suffix:" ,-",locale:"id-ID"});class S extends n.Component{constructor(e){super(e),this.state={columns:[{dataField:"nama_barang",text:"Nama Barang"},{dataField:"qty",text:"Qty"},{dataField:"satuan",text:"Satuan"},{dataField:"keterangan",text:"Keterangan service"},{dataField:"harga_satuan",text:"Harga Satuan"},{dataField:"harga_total",text:"Total"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a,t)=>(this.setState({}),r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{type:"button",onClick:()=>this.deleteBarang(t),className:"btn btn-danger"},"Hapus",r.a.createElement("i",{className:"fa fa-trash ml-2"})))))}]}}deleteBarang(e){b.a.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(a=>{if(a.isConfirmed){let a=JSON.parse(localStorage.getItem("barang_kirim_service"))||[];a.splice(e,1),localStorage.setItem("barang_kirim_service",JSON.stringify(a)),this.props.dispatch(Object(g.q)())}})}componentDidMount(){this.props.dispatch(Object(g.q)()),Object(E.b)("kirim-service-luar/generate/no-trx").then(e=>this.props.change("no_service",e&&e.data[0].no_service_kirim)),this.props.dispatch(Object(h.Qb)()),this.props.change("tanggal",Object(v.b)()),this.props.dispatch(Object(h.xb)())}render(){return r.a.createElement("form",{onSubmit:this.props.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(o.a,{name:"no_service",component:k.c,type:"text",label:"Nomor Service",placeholder:"Masukan Nomor Service",readOnly:!0})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(o.a,{name:"tanggal",component:k.c,type:"date",label:"Tanggal",placeholder:"Masukan Tanggal"})),r.a.createElement("div",{className:"col-lg-4"}),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(o.a,{name:"kode_supplier",component:k.e,options:this.props.listsupplier.map(e=>{return{value:e.kode_supplier,name:e.nama_supplier}}),type:"text",label:"Supplier",placeholder:"Masukan Supplier",validate:N.a})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(o.a,{name:"nopol_kendaraan",component:k.e,options:this.props.listcustomer.map(e=>{return{value:e.nopol_kendaraan,name:"".concat(e.nopol_kendaraan," - ").concat(e.nama_customer)}}),type:"text",label:"Nomor Polisi Kendaraan",placeholder:"Masukan Nomor Polisi Kendaraan",validate:N.a})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(o.a,Object.assign({name:"diskon",component:k.c,type:"telp",label:"Diskon",placeholder:"Masukan Nomor Polisi Kendaraan"},x))),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:()=>this.props.dispatch(Object(h.Wb)())},"Tambah Data ",r.a.createElement("i",{className:"fa fa-plus ml-3"})))),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(_.a,{keyField:"nama_barang",data:this.props.listkirimbarangservice||[],columns:this.state.columns,textEmpty:"Silahkan Tambahkan barang"})),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4"}),r.a.createElement("div",{className:"col-lg-4 text-center"},r.a.createElement("h4",null,"Total Biaya"),r.a.createElement("h3",null,"".concat(parseFloat(this.props.total_bayar).toLocaleString("id-ID")))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-primary"},"Simpan ",r.a.createElement("i",{className:"fa fa-paper-plane"}))))))))}}S=Object(m.a)({form:"HeadServiceLuar",enableReinitialize:!0})(S);const O=Object(p.a)("HeadServiceLuar");var f=Object(s.b)(e=>({listsupplier:e.datamaster.listsupplier,no_service:localStorage.getItem("kirim_service_luar_nomor")||"",listcustomer:e.datamaster.listcustomer,listkirimbarangservice:e.transaksi.listkirimbarangservice,total_bayar:e.transaksi.total_bayar-(O(e,"diskon")||0)}))(S),y=t(66),j=t(410);const w=Object(n.lazy)(()=>t.e(124).then(t.bind(null,1044)));a.default=Object(s.b)(e=>({kunci_temp:e.stocking.kunci_temp}),null)(class extends r.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,bayar:!1,data:[{nama_baran:"CREDIT CARD",qty:"BCA",satuan:1e8,keterangan_service:1e8,harga:1e8}]}}componentDidMount(){Object(E.b)("kirim-service-luar/generate/no-trx").then(e=>localStorage.setItem("kirim_service_luar_nomor",e&&e.data[0].no_service_kirim)),this.props.dispatch(Object(g.q)())}handleSubmit(e){let a=JSON.parse(localStorage.getItem("barang_kirim_service"))||[],t=a.findIndex(a=>a.nama_barang===e.nama_barang);if(-1!==t){let n={nama_barang:e.nama_barang,qty:e.qty,satuan:e.satuan,harga_satuan:e.harga_satuan,harga_total:e.harga_total,keterangan:e.keterangan_service};a.splice(t,1),a.push(n),localStorage.setItem("barang_kirim_service",JSON.stringify(a)),Object(k.b)("Berhasil"),this.props.dispatch(Object(y.a)("ModalServiceLuar")),this.props.dispatch(Object(g.q)())}else{let a={nama_barang:e.nama_barang,qty:e.qty,satuan:e.satuan,harga_satuan:e.harga_satuan,harga_total:e.harga_total,keterangan:e.keterangan_service};Object(j.a)("barang_kirim_service",a).then(()=>this.props.dispatch(Object(y.a)("ModalServiceLuar"))).then(()=>this.props.dispatch(Object(g.q)()))}}sendData(e){let a={no_service_kirim:localStorage.getItem("kirim_service_luar_nomor"),tanggal:Object(v.b)(),kode_supplier:e.kode_supplier,nopol_kendaraan:e.nopol_kendaraan,diskon_rp:e.diskon||0,detail_barang:JSON.parse(localStorage.getItem("barang_kirim_service"))||[]};Object(E.c)("kirim-service-luar/post-transaksi",a).then(()=>Object(k.b)("Berhasil Transaksi")).then(()=>this.props.dispatch(Object(y.a)("HeadServiceLuar"))).then(()=>Object(v.c)(["kirim_service_luar_nomor","barang_kirim_service"])).then(()=>this.props.dispatch(Object(g.q)())).catch(e=>Object(k.g)("Transaksi Gagal, Error : ".concat(e)))}render(){return r.a.createElement("div",null,r.a.createElement("ol",{className:"breadcrumb float-xl-right"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(l.b,{to:"#"},"Transaksi")),r.a.createElement("li",{className:"breadcrumb-item active"},"Kirim Service Luar")),r.a.createElement("h1",{className:"page-header"},"Kirim Service Luar "),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(c.a,null,r.a.createElement(c.c,null,"Kirim Service Luar"),r.a.createElement(c.b,null,r.a.createElement("br",null),r.a.createElement(f,{onSubmit:e=>this.sendData(e)}),r.a.createElement("br",null))))),r.a.createElement(i.a,{title:"Tambah Data Service Luar",content:r.a.createElement(w,{onSubmit:e=>this.handleSubmit(e)})}))}})},388:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(33),s=t(403),c=t(401),i=t(402),o=t(6);a.a=Object(l.b)(e=>({isOpen:e.datamaster.modalDialog}),null)(class extends n.Component{constructor(e){super(e),this.state={}}render(){return r.a.createElement(s.a,{backdrop:"static",keyboard:!1,isOpen:this.props.isOpen,toggle:()=>this.props.dispatch(Object(o.Tb)()),size:this.props.size||"xl"},r.a.createElement(c.a,{toggle:()=>this.props.dispatch(Object(o.Tb)())},this.props.title),r.a.createElement(i.a,null,this.props.content))}})},389:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(395),s=t.n(l),c=t(398),i=t.n(c),o=t(399),m=t.n(o),p=t(390),d=t(112),u=t.n(d);const b=c.Search.SearchBar,h=c.CSVExport.ExportCSVButton;a.a=function(e){let a=e.textEmpty,t=e.handleClick,n=e.tambahData,l=e.expandRow,c=e.selectRow,o=e.exportCSV;return e.data?r.a.createElement(i.a,{keyField:e.keyField,data:e.data||[],columns:e.columns,search:!0},e=>r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"text-left"},r.a.createElement(b,e.searchProps))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"text-right"},n&&r.a.createElement("button",{onClick:t,className:"btn btn-primary",type:"button"},"Tambah Data",r.a.createElement("i",{className:"fa fa-plus ml-3"})))),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-12"},r.a.createElement(s.a,Object.assign({pagination:m()(),selectRow:c,expandRow:l},e.baseProps,{striped:!0,noDataIndication:r.a.createElement(p.a,{text:a||"Tidak Ada Data"})})),r.a.createElement("br",null),o&&r.a.createElement(h,e.csvProps,"Export CSV!!")))):e.empty?r.a.createElement(i.a,{keyField:e.keyField,data:e.data||[],columns:e.columns,search:!0},e=>r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"text-left"},r.a.createElement(b,e.searchProps))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"text-right"},n&&r.a.createElement("button",{onClick:t,className:"btn btn-primary",type:"button"},"Tambah Data",r.a.createElement("i",{className:"fa fa-plus ml-3"})))),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-12"},r.a.createElement(s.a,Object.assign({pagination:m()()},e.baseProps,{noDataIndication:r.a.createElement(p.a,{text:a||"Tidak Ada Data"})})),r.a.createElement("br",null),e.CSVExport&&r.a.createElement(h,e.csvProps,"Export CSV!!")))):r.a.createElement(u.a,{width:"100%",height:250})}},390:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(391),s=t.n(l);a.a=function(e){return r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{src:s.a,width:"250",height:"250",alt:"Empty"}),r.a.createElement("h5",null,e.text)))}},391:function(e,a,t){e.exports=t.p+"static/media/empty.02c14787.svg"},393:function(e,a,t){"use strict";t.d(a,"a",function(){return n});const n=e=>e?void 0:"Tidak Boleh Kosong"},410:function(e,a,t){"use strict";t.d(a,"a",function(){return l});var n=t(14),r=t.n(n);const l=(e,a)=>new Promise((t,n)=>{let l=JSON.parse(localStorage.getItem(e))||[];l.push(a),localStorage.setItem(e,JSON.stringify(l)),r.a.fire({position:"top-right",text:"Tambah Data Berhasil",timer:2e3,icon:"success",showConfirmButton:!1}).then(()=>t("Berhaisl")).catch(()=>n("GAGAL"))})}}]);
//# sourceMappingURL=39.688c0b93.chunk.js.map