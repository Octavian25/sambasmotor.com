{"version":3,"sources":["pages/Stoking/KonversiBarang/ModalKonversiBarang.jsx"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","redux_form__WEBPACK_IMPORTED_MODULE_2__","redux_form__WEBPACK_IMPORTED_MODULE_3__","_actions_datamaster_action__WEBPACK_IMPORTED_MODULE_4__","_axios__WEBPACK_IMPORTED_MODULE_5__","_components_notification_notification__WEBPACK_IMPORTED_MODULE_6__","ModalKonversiBarang","Component","constructor","props","super","this","state","listBarang","hasilBarcode","getBarcode","hasil","dispatch","onProgress","lokasi","localStorage","getItem","supplier","AxiosMasterGet","concat","target","value","then","res","setState","data","setDetail","onFinish","catch","err","console","log","kode_jenis","change","nama_barang","stock","getBarcodeTujuan","setDetailTujuan","render","a","createElement","onSubmit","handleSubmit","onKeyPress","e","key","preventDefault","className","name","component","ReanderField","type","label","placeholder","onChange","onBlur","readOnly","loading","onSend","reduxForm","form","enableReinitialize","connect","datamaster"],"mappings":"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","file":"static/js/110.860c73b0.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { onFinish, onProgress } from \"../../../actions/datamaster_action\";\r\nimport { AxiosMasterGet } from \"../../../axios\";\r\nimport { ReanderField } from \"../../../components/notification/notification\";\r\n\r\nclass ModalKonversiBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listBarang: [],\r\n      hasilBarcode: [],\r\n    };\r\n  }\r\n\r\n  getBarcode(hasil) {\r\n    this.props.dispatch(onProgress());\r\n    let lokasi = localStorage.getItem(\"lokasi_pilihan\") || \"\";\r\n    let supplier = localStorage.getItem(\"supplier_pilihan\") || \"\";\r\n    AxiosMasterGet(\r\n      \"konversi-barang/get/ByLokasiSupplier/\" +\r\n        `${supplier}&${lokasi}&${hasil.target.value}`\r\n    )\r\n      .then((res) => this.setState({ hasilBarcode: res.data }))\r\n      .then(() => this.setDetail())\r\n      .then(() => this.props.dispatch(onFinish()))\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  setDetail() {\r\n    console.log(this.state.hasilBarcode[0].kode_jenis);\r\n    this.props.change(\r\n      \"kode_jenis_asal\",\r\n      this.state.hasilBarcode[0].nama_barang\r\n    );\r\n    this.props.change(\"stock_asal\", this.state.hasilBarcode[0].stock);\r\n  }\r\n  getBarcodeTujuan(hasil) {\r\n    this.props.dispatch(onProgress());\r\n    let lokasi = localStorage.getItem(\"lokasi_pilihan\") || \"\";\r\n    let supplier = localStorage.getItem(\"supplier_pilihan\") || \"\";\r\n    AxiosMasterGet(\r\n      \"konversi-barang/get/ByLokasiSupplier/\" +\r\n        `${supplier}&${lokasi}&${hasil.target.value}`\r\n    )\r\n      .then((res) => this.setState({ hasilBarcode: res.data }))\r\n      .then(() => this.setDetailTujuan())\r\n      .then(() => this.props.dispatch(onFinish()))\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  setDetailTujuan() {\r\n    console.log(this.state.hasilBarcode[0].kode_jenis);\r\n    this.props.change(\r\n      \"kode_jenis_tujuan\",\r\n      this.state.hasilBarcode[0].nama_barang\r\n    );\r\n    this.props.change(\"stock_tujuan\", this.state.hasilBarcode[0].stock);\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form\r\n          onSubmit={this.props.handleSubmit}\r\n          onKeyPress={(e) => {\r\n            e.key === \"Enter\" && e.preventDefault();\r\n          }}\r\n        >\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-12 mb-3 mt-3\">\r\n                <div className=\"text-center\">\r\n                  <h4>Barang Asal</h4>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"kode_asal\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Kode Asal\"\r\n                  placeholder=\"Masukan Kode Asal\"\r\n                  onChange={(e) => this.getBarcode(e)}\r\n                  onBlur={(e) => this.getBarcode(e)}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"kode_jenis_asal\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Nama Barang\"\r\n                  placeholder=\"Masukan Nama Barang\"\r\n                  readOnly\r\n                  loading={this.props.onSend}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"stock_asal\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Stock\"\r\n                  placeholder=\"Masukan Stock\"\r\n                  readOnly\r\n                  loading={this.props.onSend}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"qty_asal\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Qty\"\r\n                  placeholder=\"Masukan Qty\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-12 mb-3 mt-3\">\r\n                <div className=\"text-center\">\r\n                  <h4>Barang Tujuan</h4>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"kode_tujuan\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Kode Tujuan\"\r\n                  placeholder=\"Masukan Kode Tujuan\"\r\n                  onChange={(e) => this.getBarcodeTujuan(e)}\r\n                  onBlur={(e) => this.getBarcodeTujuan(e)}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"kode_jenis_tujuan\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Nama Barang\"\r\n                  placeholder=\"Masukan Nama Barang\"\r\n                  loading={this.props.onSend}\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"stock_tujuan\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Qty\"\r\n                  placeholder=\"Masukan Qty\"\r\n                  readOnly\r\n                  loading={this.props.onSend}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"qty_tujuan\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Qty\"\r\n                  placeholder=\"Masukan Qty\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"text-right\">\r\n              <button className=\"btn btn-primary\">\r\n                Simpan <i className=\"fa fa-paper-plane\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModalKonversiBarang = reduxForm({\r\n  form: \"ModalKonversiBarang\",\r\n  enableReinitialize: true,\r\n})(ModalKonversiBarang);\r\nexport default connect((state) => {\r\n  return {\r\n    onSend: state.datamaster.onSend,\r\n  };\r\n})(ModalKonversiBarang);\r\n"],"sourceRoot":""}