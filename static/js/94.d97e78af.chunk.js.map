{"version":3,"sources":["pages/auth/login.jsx","assets/img/login-bg/login-bg-20.jpg"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","sweetalert2__WEBPACK_IMPORTED_MODULE_2__","sweetalert2__WEBPACK_IMPORTED_MODULE_2___default","_components_helpers_function_jsx__WEBPACK_IMPORTED_MODULE_3__","_config_axios_jsx__WEBPACK_IMPORTED_MODULE_4__","_config_page_settings_js__WEBPACK_IMPORTED_MODULE_5__","FormLogin","lazy","Promise","all","e","then","bind","Login","React","Component","constructor","props","super","this","state","date","getDate","Date","toDateString","setState","isLoading","componentDidMount","localStoragedecryp","getToday","history","push","window","pushState","document","title","location","href","addEventListener","event","context","handleSetPageSidebar","handleSetPageHeader","handleSetBodyWhiteBg","componentWillUnmount","onfiled","err","Swal","fire","text","icon","onSubmit","data","hasil","user_id","password","postData","resposn","localStorageencryp","JSON","stringify","token","catch","render","a","createElement","className","style","backgroundImage","concat","require","contextType","PageSettings","withRouter","module","exports","p"],"mappings":"4FAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,GAAAI,EAAAJ,EAAAK,EAAAF,GAAAG,EAAAN,EAAA,IAAAO,EAAAP,EAAA,IAAAQ,EAAAR,EAAAK,EAAAE,GAAAE,EAAAT,EAAA,IAAAU,EAAAV,EAAA,KAAAW,EAAAX,EAAA,IAUA,MAAMY,EAAYC,eAAK,IAAMC,QAAAC,IAAA,CAAAf,EAAAgB,EAAA,GAAAhB,EAAAgB,EAAA,MAAAC,KAAAjB,EAAAkB,KAAA,aAC7B,MAAMC,UAAcC,IAAMC,UAGxBC,YAAYC,GACVC,MAAMD,GADWE,KAQnBC,MAAQ,CACNC,KAAM,IATWF,KAYnBG,QAAU,MACR,IAAID,GAAO,IAAIE,MAAOC,eACtBL,KAAKM,SAAS,CAAEJ,WAZhBF,KAAKC,MAAQ,CACXM,WAAW,GAcfC,oBAC0BC,YAAmB,aACnBC,eACtBV,KAAKF,MAAMa,QAAQC,KAAK,cAE1BC,OAAOF,QAAQG,UAAU,KAAMC,SAASC,MAAOH,OAAOI,SAASC,MAC/DL,OAAOM,iBAAiB,WAAY,SAAUC,GAC5CP,OAAOF,QAAQG,UAAU,KAAMC,SAASC,MAAOH,OAAOI,SAASC,QAGjElB,KAAKqB,QAAQC,sBAAqB,GAClCtB,KAAKqB,QAAQE,qBAAoB,GACjCvB,KAAKqB,QAAQG,sBAAqB,GAClCxB,KAAKG,UAKPsB,uBACEzB,KAAKqB,QAAQC,sBAAqB,GAClCtB,KAAKqB,QAAQE,qBAAoB,GACjCvB,KAAKqB,QAAQG,sBAAqB,GAGpCE,QAAQC,GAENC,IAAKC,KAAK,CACRb,MAAO,UACPc,KAAM,6DACNC,KAAM,SAER/B,KAAKM,SAAS,CAAEC,WAAW,IAE7ByB,SAASC,GACP,IAAIC,EAAQ,CACVC,QAASF,EAAKE,QACdC,SAAUH,EAAKG,UAGjBpC,KAAKM,SAAS,CAAEC,WAAW,IAC3B8B,YAAS,cAAeH,GACrB1C,KAAM8C,IACLC,YAAmB,WAAYC,KAAKC,UAAUH,EAAQL,OACtDM,YAAmB,QAASD,EAAQL,KAAKS,OACzCH,YAAmB,UAAW7B,iBAE/BlB,KAAK,IAAMQ,KAAKF,MAAMa,QAAQC,KAAK,eACnC+B,MAAOhB,GAAQ3B,KAAK0B,QAAQC,IAGjCiB,SACE,OACEjE,EAAAkE,EAAAC,cAAA,OAAKC,UAAU,8BACbpE,EAAAkE,EAAAC,cAAA,OAAKC,UAAU,aACbpE,EAAAkE,EAAAC,cAAA,OACEC,UAAU,aACVC,MAAO,CACLC,gBAAe,OAAAC,OAASC,EAAQ,KAAjB,QAGnBxE,EAAAkE,EAAAC,cAAA,OAAKC,UAAU,gBACbpE,EAAAkE,EAAAC,cAAA,MAAIC,UAAU,iBACZpE,EAAAkE,EAAAC,cAAA,mBADF,UAGAnE,EAAAkE,EAAAC,cAAA,6CAGJnE,EAAAkE,EAAAC,cAAA,OAAKC,UAAU,iBACbpE,EAAAkE,EAAAC,cAAA,OAAKC,UAAU,gBACbpE,EAAAkE,EAAAC,cAAA,OAAKC,UAAU,SACbpE,EAAAkE,EAAAC,cAAA,QAAMC,UAAU,SADlB,IACiCpE,EAAAkE,EAAAC,cAAA,mBADjC,UAGAnE,EAAAkE,EAAAC,cAAA,OAAKC,UAAU,QACbpE,EAAAkE,EAAAC,cAAA,KAAGC,UAAU,oBAGjBpE,EAAAkE,EAAAC,cAAA,OAAKC,UAAU,iBACbpE,EAAAkE,EAAAC,cAAC3D,EAAD,CACEoB,UAAWP,KAAKC,MAAMM,UACtByB,SAAWC,GAASjC,KAAKgC,SAASC,SAnG1CvC,EACG0D,YAAcC,IA2GRC,sBAAW5D,wBCvH1B6D,EAAAC,QAAiBjF,EAAAkF,EAAuB","file":"static/js/94.d97e78af.chunk.js","sourcesContent":["import React, { lazy } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport {\r\n  getToday,\r\n  localStoragedecryp,\r\n  localStorageencryp,\r\n} from \"../../components/helpers/function.jsx\";\r\nimport { postData } from \"../../config/axios.jsx\";\r\nimport { PageSettings } from \"../../config/page-settings.js\";\r\nconst FormLogin = lazy(() => import(\"./FormLogin.jsx\"));\r\nclass Login extends React.Component {\r\n  static contextType = PageSettings;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      // isLogin: false,\r\n    };\r\n  }\r\n\r\n  state = {\r\n    date: \"\",\r\n  };\r\n\r\n  getDate = () => {\r\n    var date = new Date().toDateString();\r\n    this.setState({ date });\r\n  };\r\n\r\n  componentDidMount() {\r\n    const isAuthenticated = localStoragedecryp(\"islogin\");\r\n    if (isAuthenticated === getToday()) {\r\n      this.props.history.push(\"/dashboard\");\r\n    }\r\n    window.history.pushState(null, document.title, window.location.href);\r\n    window.addEventListener(\"popstate\", function (event) {\r\n      window.history.pushState(null, document.title, window.location.href);\r\n    });\r\n\r\n    this.context.handleSetPageSidebar(false);\r\n    this.context.handleSetPageHeader(false);\r\n    this.context.handleSetBodyWhiteBg(true);\r\n    this.getDate();\r\n    // console.log(encryptascii('sa'));\r\n    // console.log(decryptascii('BF95'));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.context.handleSetPageSidebar(true);\r\n    this.context.handleSetPageHeader(true);\r\n    this.context.handleSetBodyWhiteBg(false);\r\n  }\r\n\r\n  onfiled(err) {\r\n    // NotifError(err)\r\n    Swal.fire({\r\n      title: \"Whops..\",\r\n      text: \"Sepertinya Username atau password salah, Mohon Cek Kembali\",\r\n      icon: \"info\",\r\n    });\r\n    this.setState({ isLoading: false });\r\n  }\r\n  onSubmit(data) {\r\n    let hasil = {\r\n      user_id: data.user_id,\r\n      password: data.password,\r\n    };\r\n\r\n    this.setState({ isLoading: true });\r\n    postData(\"users/login\", hasil)\r\n      .then((resposn) => {\r\n        localStorageencryp(\"userdata\", JSON.stringify(resposn.data));\r\n        localStorageencryp(\"token\", resposn.data.token);\r\n        localStorageencryp(\"islogin\", getToday());\r\n      })\r\n      .then(() => this.props.history.push(\"/dashboard\"))\r\n      .catch((err) => this.onfiled(err));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login login-with-news-feed\">\r\n        <div className=\"news-feed\">\r\n          <div\r\n            className=\"news-image\"\r\n            style={{\r\n              backgroundImage: `url(${require(\"../../assets/img/login-bg/login-bg-20.jpg\")})`,\r\n            }}\r\n          ></div>\r\n          <div className=\"news-caption\">\r\n            <h4 className=\"caption-title\">\r\n              <b>Sambas</b> Motor\r\n            </h4>\r\n            <p>Sambas Motor Admin Website V9.</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"right-content\">\r\n          <div className=\"login-header\">\r\n            <div className=\"brand\">\r\n              <span className=\"logo\"></span> <b>Sambas</b> Motor\r\n            </div>\r\n            <div className=\"icon\">\r\n              <i className=\"fa fa-sign-in\"></i>\r\n            </div>\r\n          </div>\r\n          <div className=\"login-content\">\r\n            <FormLogin\r\n              isLoading={this.state.isLoading}\r\n              onSubmit={(data) => this.onSubmit(data)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Login);\r\n// Login = reduxForm({\r\n// \tform: \"FormLogin\",\r\n// \tenableReinitialize: true,\r\n// \tvalidate: ValidasiLogin,\r\n//   })(Login);\r\n//   export default connect()(Login);\r\n","module.exports = __webpack_public_path__ + \"static/media/login-bg-20.770fb86d.jpg\";"],"sourceRoot":""}