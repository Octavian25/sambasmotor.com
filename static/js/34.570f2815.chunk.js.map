{"version":3,"sources":["validasi/normalize.jsx","validasi/ValidasiMasterKategori.jsx","pages/DataMaster/DataParameterDiscount/FormModalParameterDiscount.jsx"],"names":["__webpack_require__","d","__webpack_exports__","required","value","undefined","ValidasiMasterKategori","event","errors","kode_kategori","nama_kategori","harga_pergram","presentase","kadar","r","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","redux_form__WEBPACK_IMPORTED_MODULE_2__","redux_form__WEBPACK_IMPORTED_MODULE_3__","_axios__WEBPACK_IMPORTED_MODULE_4__","_components_notification_notification__WEBPACK_IMPORTED_MODULE_5__","_validasi_normalize__WEBPACK_IMPORTED_MODULE_6__","_validasi_ValidasiMasterKategori__WEBPACK_IMPORTED_MODULE_7__","FormModalParameterDiscount","Component","constructor","props","super","this","state","isRp","listKategori","componentDidMount","AxiosMasterGet","then","res","setState","data","render","a","createElement","onSubmit","handleSubmit","onKeyPress","e","key","preventDefault","name","component","ReanderSelect","options","map","list","type","label","placeholder","validate","htmlFor","className","onClick","ReanderField","disabled","onSend","Fragment","reduxForm","form","enableReinitialize","connect","datamaster","datakategoriservice","initialValues","jenis_kategori","nominal_discount","diskon","jenis_discount","status_diskon"],"mappings":"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","file":"static/js/34.570f2815.chunk.js","sourcesContent":["export const Gramasi = (value, previousValue) => {\r\n  if (!value) {\r\n    return value;\r\n  }\r\n  const onlyNums = value.replace(/[^0-9.]+/g, \"\");\r\n  if (!previousValue || value.length > previousValue.length) {\r\n    return onlyNums;\r\n  }\r\n};\r\n\r\nexport const NumberOnly = (value, previousValue) => {\r\n  if (!value) {\r\n    return value;\r\n  }\r\n  const onlyNums = value.replace(/[^0-9]+/g, \"\");\r\n  if (!previousValue || value.length > previousValue.length) {\r\n    return onlyNums;\r\n  }\r\n};\r\n\r\nexport const required = (value) => (value ? undefined : \"Tidak Boleh Kosong\");\r\nexport const number = (value) =>\r\n  value && isNaN(Number(value)) ? \"Must be a number\" : undefined;\r\n","const ValidasiMasterKategori = (value, event) => {\r\n  const errors = {};\r\n  // console.log(event.charCode==13);\r\n  if (!value.kode_kategori) {\r\n    errors.kode_kategori = \"Kode Tidak Boleh Kosong\";\r\n  }\r\n  if (!value.nama_kategori) {\r\n    errors.nama_kategori = \"Nama Kategori Tidak Boleh Kosong\";\r\n  }\r\n\r\n  if (!value.harga_pergram) {\r\n    errors.harga_pergram = \"Harga / Gram Tidak Boleh Kosong\";\r\n  }\r\n  if (!value.presentase) {\r\n    errors.presentase = \"Presentase Tidak Boleh Kosong\";\r\n  }\r\n  if (!value.kadar) {\r\n    errors.kadar = \"Kadar Tidak Boleh Kosong\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nexport default ValidasiMasterKategori;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { AxiosMasterGet } from \"../../../axios\";\r\nimport {\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../components/notification/notification\";\r\nimport { required } from \"../../../validasi/normalize\";\r\nimport ValidasiMasterKategori from \"../../../validasi/ValidasiMasterKategori\";\r\n\r\nconst maptostate = (state) => {\r\n  if (state.datamaster.datakategoriservice !== undefined) {\r\n    return {\r\n      initialValues: {\r\n        jenis_kategori: state.datamaster.datakategoriservice.kode_kategori,\r\n        nominal_discount: state.datamaster.datakategoriservice.diskon,\r\n        jenis_discount: state.datamaster.datakategoriservice.status_diskon,\r\n      },\r\n      onSend: state.datamaster.onSend,\r\n    };\r\n  } else {\r\n    return {\r\n      onSend: state.datamaster.onSend,\r\n    };\r\n  }\r\n};\r\n\r\nclass FormModalParameterDiscount extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isRp: true,\r\n      listKategori: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    AxiosMasterGet(\"kategori/get/all\").then((res) =>\r\n      this.setState({\r\n        listKategori: res.data,\r\n      })\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n      >\r\n        <Field\r\n          name=\"jenis_kategori\"\r\n          component={ReanderSelect}\r\n          options={this.state.listKategori.map((list) => {\r\n            let data = {\r\n              value: list.kode_kategori,\r\n              name: list.nama_kategori,\r\n            };\r\n            return data;\r\n          })}\r\n          type=\"text\"\r\n          label=\"Jenis Kategori\"\r\n          placeholder=\"Masukan Jenis Kategori\"\r\n          validate={required}\r\n        />\r\n        <label htmlFor=\"\">Jenis Discount</label>\r\n        <div className=\"form-check\">\r\n          <label>\r\n            <Field\r\n              className=\"form-check-input\"\r\n              name=\"jenis_discount\"\r\n              component=\"input\"\r\n              type=\"radio\"\r\n              value=\"RP\"\r\n              onClick={() =>\r\n                this.setState({\r\n                  isRp: true,\r\n                })\r\n              }\r\n            />\r\n            Rp\r\n          </label>\r\n          <label className=\"ml-5\">\r\n            <Field\r\n              className=\"form-check-input\"\r\n              name=\"jenis_discount\"\r\n              component=\"input\"\r\n              type=\"radio\"\r\n              value=\"PERSEN\"\r\n              onClick={() =>\r\n                this.setState({\r\n                  isRp: false,\r\n                })\r\n              }\r\n            />\r\n            %\r\n          </label>\r\n        </div>\r\n\r\n        <Field\r\n          name=\"nominal_discount\"\r\n          component={ReanderField}\r\n          type=\"number\"\r\n          label={this.state.isRp ? \"Nominal Discount RP\" : \"Nominal Discount %\"}\r\n          placeholder=\"Masukan Nominal Discount\"\r\n        />\r\n\r\n        <button className=\"btn btn-primary\" disabled={this.props.onSend}>\r\n          {this.props.onSend ? (\r\n            <>\r\n              <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang Menyimpan\r\n            </>\r\n          ) : (\r\n            <>\r\n              Simpan <i className=\"fa fa-paper-plane ml-3 \"></i>\r\n            </>\r\n          )}\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nFormModalParameterDiscount = reduxForm({\r\n  form: \"dataParameterDiscount\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiMasterKategori,\r\n})(FormModalParameterDiscount);\r\nexport default connect(maptostate, null)(FormModalParameterDiscount);\r\n"],"sourceRoot":""}