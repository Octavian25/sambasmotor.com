(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{1016:function(a,e,t){"use strict";t.r(e);var n=t(0),r=t.n(n),s=t(7),i=t(41),d=t(22),c=t(16),l=t.n(c),m=t(28),h=t(5),o=t(131),b=t(42),k=t.n(b),p=t(9),u=t(49),E=t(132);const _=Object(n.lazy)(()=>t.e(49).then(t.bind(null,984))),O=(a,e)=>{l.a.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(t=>{t.isConfirmed&&Object(p.a)((void 0).props.dispatch,"merk-kendaraan/delete/"+a).then(()=>Object(m.b)("Berhasil Menghapus Data").then(()=>e(Object(h.Jb)())).catch(()=>Object(m.a)("Seperitnya ada kesalahan, Silahkan Ulangi Beberapa Saat lagi")))})};e.default=Object(d.b)(a=>({hideModal:a.datamaster.modalDialog,onSend:a.datamaster.onSend,listkendaraan:a.datamaster.listkendaraan}),null)(class extends r.a.Component{constructor(a){super(a),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,columns:[{dataField:"kode_merk_kendaraan",text:"Kode Merk Kendaraan",sort:!0},{dataField:"nama_merk_kendaraan",text:"Nama Merk Kendaraan"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(a,e)=>{let t={merk_kendaraan:e.kode_merk_kendaraan,nama_kendaraan:e.nama_merk_kendaraan};return this.setState({}),r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{onClick:()=>this.editModal(t),className:"btn btn-warning mr-3"},"Edit",r.a.createElement("i",{className:"fa fa-edit ml-2"})),r.a.createElement("button",{onClick:()=>O(e.kode_merk_kendaraan,this.props.dispatch),className:"btn btn-danger"},"Hapus",r.a.createElement("i",{className:"fa fa-trash ml-2"}))))}}],datakategori:[{merk_kendaraan:"YMH",nama_kendaraan:"YAMAHA"}]}}componentDidMount(){this.props.dispatch(Object(h.Jb)())}editModal(a){this.props.dispatch(Object(h.Yb)()),this.props.dispatch(Object(h.lb)(a)),this.setState({isEdit:!0})}tambahModal(){this.props.dispatch(Object(h.Yb)()),this.props.dispatch(Object(h.lb)("")),this.setState({isEdit:!1})}handleSubmit(a){let e={kode_merk_kendaraan:a.merk_kendaraan||"-",nama_merk_kendaraan:a.nama_kendaraan||"-"};this.state.isEdit?Object(p.d)(this.props.dispatch,"merk-kendaraan/update/by-kode-merk-kendaraan/"+a.merk_kendaraan,{nama_merk_kendaraan:a.nama_kendaraan}).then(()=>Object(m.b)("Berhasil Dirubah")).then(()=>this.props.dispatch(Object(u.a)("dataKendaraan"))).then(()=>this.props.dispatch(Object(h.Vb)())).then(()=>this.props.dispatch(Object(h.Jb)())).catch(()=>Object(m.a)("Sepertinya ada gangguan, Mohon ulang beberapa saat lagi")):Object(p.c)("merk-kendaraan/add",e).then(()=>Object(m.b)("Berhasil Ditambahkan")).then(()=>this.props.dispatch(Object(u.a)("dataKendaraan"))).then(()=>this.props.dispatch(Object(h.Vb)())).then(()=>this.props.dispatch(Object(h.Jb)())).catch(e=>this.handleReactive(e,a.merk_kendaraan,{nama_merk_kendaraan:a.nama_kendaraan}))}handleReactive(a,e,t){this.props.dispatch(Object(h.Vb)()),a.response.data.includes("hapus")?Object(m.m)(a,e,"merk-kendaraan/reactive/",t,"merk-kendaraan/update/by-kode-merk-kendaraan/").then(()=>this.props.dispatch(Object(h.Jb)())):Object(m.a)("Data Gagal Ditambahkan")}render(){return r.a.createElement("div",null,r.a.createElement("ol",{className:"breadcrumb float-xl-right"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(s.b,{to:"#"},"Data Master")),r.a.createElement("li",{className:"breadcrumb-item active"},"Master Merk Kendaraan")),r.a.createElement("h1",{className:"page-header"},"Master Merk Kendaraan "),r.a.createElement(i.a,null,r.a.createElement(i.c,null,"Master Merk Kendaraan"),r.a.createElement(i.b,null,r.a.createElement("br",null),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(E.a,{keyField:"kode_kategori",data:this.props.listkendaraan||[],columns:this.state.columns,CSVExport:!0,tambahData:!0,handleClick:()=>this.tambahModal()})),r.a.createElement("br",null)),r.a.createElement(o.a,{title:this.state.isEdit?"Edit Data Kendaraan":"Tambah Data Kendaraan",content:r.a.createElement(n.Suspense,{fallback:r.a.createElement(k.a,{width:"100%",height:50,count:2})},r.a.createElement(_,{onSubmit:a=>this.handleSubmit(a),onSend:this.props.onSend,isEdit:this.state.isEdit}))})))}})}}]);
//# sourceMappingURL=71.05adc605.chunk.js.map