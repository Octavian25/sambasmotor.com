{"version":3,"sources":["pages/DataMaster/DataJenis/FormModalJenis.jsx","validasi/normalize.jsx","validasi/ValidasiMasterKategori.jsx"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","redux_form__WEBPACK_IMPORTED_MODULE_2__","redux_form__WEBPACK_IMPORTED_MODULE_3__","redux_form__WEBPACK_IMPORTED_MODULE_4__","_axios__WEBPACK_IMPORTED_MODULE_5__","_components_notification_notification__WEBPACK_IMPORTED_MODULE_6__","_validasi_normalize__WEBPACK_IMPORTED_MODULE_7__","_validasi_ValidasiMasterKategori__WEBPACK_IMPORTED_MODULE_8__","FormModalJenis","Component","constructor","props","super","this","state","listkategori","componentDidMount","AxiosMasterGet","then","res","setState","data","catch","err","console","log","render","a","createElement","onSubmit","handleSubmit","onKeyPress","e","key","preventDefault","name","component","ReanderField","type","label","placeholder","readOnly","isEdit","validate","required","ReanderSelect","options","map","obj","value","kode_kategori","nama_kategori","className","disabled","onSend","onClick","submit","Fragment","reduxForm","form","enableReinitialize","ValidasiMasterKategori","connect","undefined","datamaster","datajenis","initialValues","nama_jenis","kode_jenis","d","event","errors","harga_pergram","presentase","kadar"],"mappings":"4FAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,GAAAI,EAAAJ,EAAAK,EAAAF,GAAAG,EAAAN,EAAA,IAAAO,EAAAP,EAAA,KAAAQ,EAAAR,EAAA,IAAAS,EAAAT,EAAA,KAAAU,EAAAV,EAAA,GAAAW,EAAAX,EAAA,IAAAY,EAAAZ,EAAA,KAAAa,EAAAb,EAAA,KA4BA,MAAMc,UAAuBC,YAC3BC,YAAYC,GACVC,MAAMD,GACNE,KAAKC,MAAQ,CACXC,aAAc,IAIlBC,oBACEC,YAAe,oBACZC,KAAMC,GACLN,KAAKO,SAAS,CACZL,aAAcI,EAAIE,QAGrBC,MAAOC,GAAQC,QAAQC,IAAIF,IAEhCG,SACE,OACE5B,EAAA6B,EAAAC,cAAA,QACEC,SAAUhB,KAAKF,MAAMmB,aACrBC,WAAaC,IACD,UAAVA,EAAEC,KAAmBD,EAAEE,mBAGzBpC,EAAA6B,EAAAC,cAAC3B,EAAA,EAAD,CACEkC,KAAK,aACLC,UAAWC,IACXC,KAAK,OACLC,MAAM,aACNC,YAAY,qBACZC,SAAU5B,KAAKF,MAAM+B,OACrBC,SAAUC,MAEZ9C,EAAA6B,EAAAC,cAAC3B,EAAA,EAAD,CACEkC,KAAK,gBACLC,UAAWS,IACXC,QAASjC,KAAKC,MAAMC,aAAagC,IAAKC,IAKpC,MAJc,CACZC,MAAOD,EAAIE,cACXf,KAAMa,EAAIG,iBAIdb,KAAK,OACLC,MAAM,gBACNC,YAAY,wBACZC,SAAU5B,KAAKF,MAAM+B,OACrBC,SAAUC,MAEZ9C,EAAA6B,EAAAC,cAAC3B,EAAA,EAAD,CACEkC,KAAK,aACLC,UAAWC,IACXC,KAAK,OACLC,MAAM,aACNC,YAAY,qBACZG,SAAUC,MAEZ9C,EAAA6B,EAAAC,cAAA,UACEwB,UAAU,kBACVC,SAAUxC,KAAKF,MAAM2C,OACrBC,QAAS,IAAM1C,KAAKF,MAAM6C,YAAO,eAEhC3C,KAAKF,MAAM2C,OACVxD,EAAA6B,EAAAC,cAAA9B,EAAA6B,EAAA8B,SAAA,KACE3D,EAAA6B,EAAAC,cAAA,KAAGwB,UAAU,2BADf,0BAIAtD,EAAA6B,EAAAC,cAAA9B,EAAA6B,EAAA8B,SAAA,eACS3D,EAAA6B,EAAAC,cAAA,KAAGwB,UAAU,gCASlC5C,EAAiBkD,YAAU,CACzBC,KAAM,YACNC,oBAAoB,EACpBjB,SAAUkB,KAHKH,CAIdlD,GACYsD,sBApGKhD,QACiBiD,IAA/BjD,EAAMkD,WAAWC,UACZ,CACLC,cAAe,CACbhB,cAAepC,EAAMkD,WAAWC,UAAUf,cAC1CiB,WAAYrD,EAAMkD,WAAWC,UAAUE,WACvCC,WAAYtD,EAAMkD,WAAWC,UAAUG,YAEzCd,OAAQxC,EAAMkD,WAAWV,QAGpB,CACLA,OAAQxC,EAAMkD,WAAWV,QAwFI,KAApBQ,CAA0BtD,qCC/GzCd,EAAA2E,EAAAzE,EAAA,sBAAAgD,IAAO,MAoBMA,EAAYK,GAAWA,OAAQc,EAAY,uDCGzCF,IAvBgB,EAACZ,EAAOqB,KACrC,MAAMC,EAAS,GAmBf,OAjBKtB,EAAMC,gBACTqB,EAAOrB,cAAgB,2BAEpBD,EAAME,gBACToB,EAAOpB,cAAgB,oCAGpBF,EAAMuB,gBACTD,EAAOC,cAAgB,mCAEpBvB,EAAMwB,aACTF,EAAOE,WAAa,iCAEjBxB,EAAMyB,QACTH,EAAOG,MAAQ,4BAGVH","file":"static/js/26.dad46aa8.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm, submit } from \"redux-form\";\r\nimport { AxiosMasterGet } from \"../../../axios\";\r\nimport {\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../components/notification/notification\";\r\nimport { required } from \"../../../validasi/normalize\";\r\nimport ValidasiMasterKategori from \"../../../validasi/ValidasiMasterKategori\";\r\n\r\nconst maptostate = (state) => {\r\n  if (state.datamaster.datajenis !== undefined) {\r\n    return {\r\n      initialValues: {\r\n        kode_kategori: state.datamaster.datajenis.kode_kategori,\r\n        nama_jenis: state.datamaster.datajenis.nama_jenis,\r\n        kode_jenis: state.datamaster.datajenis.kode_jenis,\r\n      },\r\n      onSend: state.datamaster.onSend,\r\n    };\r\n  } else {\r\n    return {\r\n      onSend: state.datamaster.onSend,\r\n    };\r\n  }\r\n};\r\n\r\nclass FormModalJenis extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listkategori: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    AxiosMasterGet(\"kategori/get/all\")\r\n      .then((res) =>\r\n        this.setState({\r\n          listkategori: res.data,\r\n        })\r\n      )\r\n      .catch((err) => console.log(err));\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n      >\r\n        <Field\r\n          name=\"kode_jenis\"\r\n          component={ReanderField}\r\n          type=\"text\"\r\n          label=\"Kode Jenis\"\r\n          placeholder=\"Masukan Kode Jenis\"\r\n          readOnly={this.props.isEdit}\r\n          validate={required}\r\n        />\r\n        <Field\r\n          name=\"kode_kategori\"\r\n          component={ReanderSelect}\r\n          options={this.state.listkategori.map((obj) => {\r\n            var payload = {\r\n              value: obj.kode_kategori,\r\n              name: obj.nama_kategori,\r\n            };\r\n            return payload;\r\n          })}\r\n          type=\"text\"\r\n          label=\"Kode Kategori\"\r\n          placeholder=\"Masukan Kode Kategori\"\r\n          readOnly={this.props.isEdit}\r\n          validate={required}\r\n        />\r\n        <Field\r\n          name=\"nama_jenis\"\r\n          component={ReanderField}\r\n          type=\"text\"\r\n          label=\"Nama Jenis\"\r\n          placeholder=\"Masukan Nama Jenis\"\r\n          validate={required}\r\n        />\r\n        <button\r\n          className=\"btn btn-primary\"\r\n          disabled={this.props.onSend}\r\n          onClick={() => this.props(submit(\"dataJenis\"))}\r\n        >\r\n          {this.props.onSend ? (\r\n            <>\r\n              <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang Menyimpan\r\n            </>\r\n          ) : (\r\n            <>\r\n              Simpan <i className=\"fa fa-paper-plane ml-3 \"></i>\r\n            </>\r\n          )}\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nFormModalJenis = reduxForm({\r\n  form: \"DataJenis\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiMasterKategori,\r\n})(FormModalJenis);\r\nexport default connect(maptostate, null)(FormModalJenis);\r\n","export const Gramasi = (value, previousValue) => {\r\n  if (!value) {\r\n    return value;\r\n  }\r\n  const onlyNums = value.replace(/[^0-9.]+/g, \"\");\r\n  if (!previousValue || value.length > previousValue.length) {\r\n    return onlyNums;\r\n  }\r\n};\r\n\r\nexport const NumberOnly = (value, previousValue) => {\r\n  if (!value) {\r\n    return value;\r\n  }\r\n  const onlyNums = value.replace(/[^0-9]+/g, \"\");\r\n  if (!previousValue || value.length > previousValue.length) {\r\n    return onlyNums;\r\n  }\r\n};\r\n\r\nexport const required = (value) => (value ? undefined : \"Tidak Boleh Kosong\");\r\nexport const number = (value) =>\r\n  value && isNaN(Number(value)) ? \"Must be a number\" : undefined;\r\n","const ValidasiMasterKategori = (value, event) => {\r\n  const errors = {};\r\n  // console.log(event.charCode==13);\r\n  if (!value.kode_kategori) {\r\n    errors.kode_kategori = \"Kode Tidak Boleh Kosong\";\r\n  }\r\n  if (!value.nama_kategori) {\r\n    errors.nama_kategori = \"Nama Kategori Tidak Boleh Kosong\";\r\n  }\r\n\r\n  if (!value.harga_pergram) {\r\n    errors.harga_pergram = \"Harga / Gram Tidak Boleh Kosong\";\r\n  }\r\n  if (!value.presentase) {\r\n    errors.presentase = \"Presentase Tidak Boleh Kosong\";\r\n  }\r\n  if (!value.kadar) {\r\n    errors.kadar = \"Kadar Tidak Boleh Kosong\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nexport default ValidasiMasterKategori;\r\n"],"sourceRoot":""}