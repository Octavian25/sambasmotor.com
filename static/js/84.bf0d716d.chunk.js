(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{1022:function(a,t,e){"use strict";e.r(t);var n=e(0),s=e.n(n),i=e(7),c=e(41),l=e(28),d=e(16),r=e.n(d),o=e(18),h=e(5),u=e(131),m=e(42),b=e.n(m),p=e(9),E=e(49),O=e(132);const k=Object(n.lazy)(()=>e.e(38).then(e.bind(null,991))),j=(a,t)=>{r.a.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(e=>{e.isConfirmed&&Object(p.a)("satuan/delete/"+a).then(()=>t(Object(h.Tb)())).then(()=>t(Object(h.Ob)()))})};t.default=Object(l.b)(a=>({hideModal:a.datamaster.modalDialog,onSend:a.datamaster.onSend,listsatuan:a.datamaster.listsatuan}),null)(class extends s.a.Component{constructor(a){super(a),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,columns:[{dataField:"kode_satuan",text:"Kode Satuan",sort:!0},{dataField:"nama_satuan",text:"Nama Satuan"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(a,t)=>{let e={kode_satuan:t.kode_satuan,nama_satuan:t.nama_satuan};return this.setState({}),s.a.createElement("div",{className:"row text-center"},s.a.createElement("div",{className:"col-12"},s.a.createElement("button",{onClick:()=>this.editModal(e),className:"btn btn-warning mr-3"},"Edit",s.a.createElement("i",{className:"fa fa-edit ml-2"})),s.a.createElement("button",{onClick:()=>j(t.kode_satuan,this.props.dispatch),className:"btn btn-danger"},"Hapus",s.a.createElement("i",{className:"fa fa-trash ml-2"}))))}}],datakategori:[{kode_satuan:"ST001",nama_satuan:"UNIT"}]}}componentDidMount(){this.props.dispatch(Object(h.Ob)())}editModal(a){this.props.dispatch(Object(h.Wb)()),this.props.dispatch(Object(h.qb)(a)),this.setState({isEdit:!0})}tambahModal(){this.props.dispatch(Object(h.Wb)()),this.props.dispatch(Object(h.qb)("")),this.setState({isEdit:!1})}handleSubmit(a){let t={kode_satuan:a.kode_satuan||"-",nama_satuan:a.nama_satuan||"-"};this.state.isEdit?Object(p.d)(this.props.dispatch,"satuan/update/by-kode-satuan/"+a.kode_satuan,{nama_satuan:a.nama_satuan}).then(()=>Object(o.b)("Berhasil Dirubah")).then(()=>this.props.dispatch(Object(E.a)("dataSatuan"))).then(()=>this.props.dispatch(Object(h.Tb)())).then(()=>this.props.dispatch(Object(h.Ob)())).catch(()=>Object(o.a)("Sepertinya ada gangguan, Mohon ulang beberapa saat lagi")):Object(p.c)("satuan/add",t).then(()=>Object(o.b)("Berhasil Ditambahkan")).then(()=>this.props.dispatch(Object(E.a)("dataSatuan"))).then(()=>this.props.dispatch(Object(h.Tb)())).then(()=>this.props.dispatch(Object(h.Ob)())).catch(t=>this.handleReactive(t,a.kode_satuan,{nama_satuan:a.nama_satuan||"-"}))}handleReactive(a,t,e){this.props.dispatch(Object(h.Tb)()),a.response.data.includes("hapus")?Object(o.m)(a,t,"satuan/reactive/",e,"satuan/update/by-kode-satuan/").then(()=>this.props.dispatch(Object(h.Ob)())):Object(o.a)("Data Gagal Ditambahkan")}render(){return s.a.createElement("div",null,s.a.createElement("ol",{className:"breadcrumb float-xl-right"},s.a.createElement("li",{className:"breadcrumb-item"},s.a.createElement(i.b,{to:"#"},"Data Master")),s.a.createElement("li",{className:"breadcrumb-item active"},"Master Satuan")),s.a.createElement("h1",{className:"page-header"},"Master Satuan "),s.a.createElement(c.a,null,s.a.createElement(c.c,null,"Master Satuan"),s.a.createElement(c.b,null,s.a.createElement("br",null),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(O.a,{keyField:"kode_satuan",data:this.props.listsatuan||[],columns:this.state.columns,CSVExport:!0,tambahData:!0,handleClick:()=>this.tambahModal()})),s.a.createElement("br",null)),s.a.createElement(u.a,{title:this.state.isEdit?"Edit Data Ukuran":"Tambah Data Ukuran",content:s.a.createElement(n.Suspense,{fallback:s.a.createElement(b.a,{width:"100%",height:50,count:2})},s.a.createElement(k,{onSubmit:a=>this.handleSubmit(a),onSend:this.props.onSend,isEdit:this.state.isEdit}))})))}})}}]);
//# sourceMappingURL=84.bf0d716d.chunk.js.map