{"version":3,"sources":["pages/StockOpname/StockOpname/HeadStockOpname.jsx","pages/StockOpname/StockOpname/ModalStockOpname.jsx","pages/StockOpname/StockOpname/StockOpname.jsx","validasi/normalize.jsx","config/Helper.jsx"],"names":["HeadStockOpname","Component","constructor","props","super","this","state","columns","dataField","text","componentDidMount","dispatch","getGudang","getListStockOpname","change","localStorage","getItem","render","react_default","a","createElement","onSubmit","handleSubmit","className","Field","name","component","ReanderField","type","label","placeholder","ReanderSelect","options","listgudang","map","list","value","kode_lokasi_gudang","nama_lokasi_gudang","onChange","e","setItem","onClick","showModal","disabled","tabel","keyField","data","liststockopname","textEmpty","reduxForm","form","enableReinitialize","connect","datamaster","supervisor","ModalStockOpname","listSupplier","getBarcode","lokasi_hancur","AxiosMasterGet","concat","target","then","res","setBarang","console","log","kode_barang","nama_barang","merk_barang","kwalitas","satuan","setState","data_supplier","kode_supplier","stock","nama_supplier","setStock","hasil","split","onBlur","readOnly","validate","required","handleHead","tanggal","lokasi","detail_barang","JSON","parse","AxiosMasterPost","NotifSucces","reset","removeItem","catch","err","ToastError","response","handleModal","kode_barcode","qty","simpanLocal","react_router_dom","to","panel","StockOpname_HeadStockOpname","ModalGlobal","title","content","StockOpname_ModalStockOpname","__webpack_require__","d","__webpack_exports__","undefined","sweetalert2__WEBPACK_IMPORTED_MODULE_0__","sweetalert2__WEBPACK_IMPORTED_MODULE_0___default","n","nama","Promise","resolve","reject","array","push","stringify","Swal","fire","position","timer","icon","showConfirmButton"],"mappings":"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","file":"static/js/18.b55e9b25.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { getGudang, showModal } from \"../../../actions/datamaster_action\";\r\nimport { getListStockOpname } from \"../../../actions/supervisor_action\";\r\nimport {\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../components/notification/notification\";\r\nimport Tabel from \"../../../components/Tabel/tabel\";\r\n\r\nclass HeadStockOpname extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columns: [\r\n        {\r\n          dataField: \"kode_barcode\",\r\n          text: \"Kode Barcode\",\r\n        },\r\n        {\r\n          dataField: \"kode_supplier\",\r\n          text: \"Kode Supplier\",\r\n        },\r\n        {\r\n          dataField: \"qty\",\r\n          text: \"Qty\",\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getGudang());\r\n    this.props.dispatch(getListStockOpname());\r\n    this.props.change(\r\n      \"lokasi\",\r\n      localStorage.getItem(\"lokasi_stock_opname\") || \"\"\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit}>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"tanggal\"\r\n              component={ReanderField}\r\n              type=\"date\"\r\n              label=\"Tanggal\"\r\n              placeholder=\"Masukan Tanggal\"\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"lokasi\"\r\n              component={ReanderSelect}\r\n              options={this.props.listgudang.map((list) => {\r\n                let data = {\r\n                  value: list.kode_lokasi_gudang,\r\n                  name: list.nama_lokasi_gudang,\r\n                };\r\n                return data;\r\n              })}\r\n              type=\"text\"\r\n              label=\"Lokasi\"\r\n              placeholder=\"Masukan Lokasi\"\r\n              onChange={(e) => localStorage.setItem(\"lokasi_stock_opname\", e)}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-12 mb-3\">\r\n            <div className=\"text-right\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-warning\"\r\n                onClick={() => this.props.dispatch(showModal())}\r\n                disabled={\r\n                  localStorage.getItem(\"lokasi_stock_opname\") ? false : true\r\n                }\r\n              >\r\n                Tambah Data <i className=\"fa fa-plus ml-3\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <Tabel\r\n              keyField=\"kode_barcode\"\r\n              data={this.props.liststockopname || []}\r\n              columns={this.state.columns}\r\n              textEmpty=\"Silahkan pilih Lokasi, Setelah itu tambah barang\"\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-12 mb-3\">\r\n            <div className=\"text-right\">\r\n              <button className=\"btn btn-primary\">\r\n                Simpan <i className=\"fa fa-paper-plane\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nHeadStockOpname = reduxForm({\r\n  form: \"HeadStockOpname\",\r\n  enableReinitialize: true,\r\n})(HeadStockOpname);\r\nexport default connect((state) => {\r\n  return {\r\n    listgudang: state.datamaster.listgudang,\r\n    liststockopname: state.supervisor.liststockopname,\r\n  };\r\n})(HeadStockOpname);\r\n","import React, { Component } from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { AxiosMasterGet } from \"../../../axios\";\r\nimport {\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../components/notification/notification\";\r\nimport { required } from \"../../../validasi/normalize\";\r\n\r\nclass ModalStockOpname extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listSupplier: [],\r\n    };\r\n  }\r\n  getBarcode(e) {\r\n    let lokasi_hancur = localStorage.getItem(\"lokasi_hancur\") || \"\";\r\n    AxiosMasterGet(\r\n      \"hancur-barang/get/BarangByBarcodeLokasi/\" +\r\n        `${e.target.value}&${lokasi_hancur}`\r\n    ).then((res) => this.setBarang(res.data));\r\n  }\r\n  setBarang(res) {\r\n    console.log(res);\r\n    this.props.change(\"kode_barang\", res[0].kode_barang);\r\n    this.props.change(\"nama_barang\", res[0].nama_barang);\r\n    this.props.change(\"merk\", res[0].merk_barang);\r\n    this.props.change(\"kwalitas\", res[0].kwalitas);\r\n    this.props.change(\"satuan\", res[0].satuan);\r\n    this.setState({\r\n      listSupplier:\r\n        res &&\r\n        res[0].data_supplier.map((list) => {\r\n          let data = {\r\n            value: `${list.kode_supplier}||${list.stock}`,\r\n            name: list.nama_supplier,\r\n          };\r\n          return data;\r\n        }),\r\n    });\r\n  }\r\n  setStock(hasil) {\r\n    let data = hasil.split(\"||\");\r\n    this.props.change(\"kode_supplier\", data[0]);\r\n    this.props.change(\"stock\", data[1]);\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.props.handleSubmit}>\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"kode_barcode\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Kode Barcode\"\r\n                  placeholder=\"Masukan Kode Barcode\"\r\n                  onChange={(e) => this.getBarcode(e)}\r\n                  onBlur={(e) => this.getBarcode(e)}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3 d-none\">\r\n                <Field\r\n                  name=\"kode_barang\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Nama Barang\"\r\n                  placeholder=\"Masukan Nama Barang\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"nama_barang\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Nama Barang\"\r\n                  placeholder=\"Masukan Nama Barang\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"merk\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Merk\"\r\n                  placeholder=\"Masukan Merk\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"kwalitas\"\r\n                  component={ReanderField}\r\n                  label=\"Kualitas\"\r\n                  placeholder=\"Masukan Kualitas\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"satuan\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Satuan\"\r\n                  placeholder=\"Masukan Satuan\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3\">\r\n                <Field\r\n                  name=\"kode_supplier1\"\r\n                  component={ReanderSelect}\r\n                  options={this.state.listSupplier}\r\n                  type=\"text\"\r\n                  label=\"Kode Supplier\"\r\n                  placeholder=\"Masukan Kode Supplier\"\r\n                  onChange={(e) => this.setStock(e)}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3 d-none\">\r\n                <Field\r\n                  name=\"kode_supplier\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Kode Supplier\"\r\n                  placeholder=\"Masukan Kode Supplier\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-2\">\r\n                <Field\r\n                  name=\"stock\"\r\n                  component={ReanderField}\r\n                  type=\"number\"\r\n                  label=\"Stock\"\r\n                  placeholder=\"Masukan Stock\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-2\">\r\n                <Field\r\n                  name=\"qty\"\r\n                  component={ReanderField}\r\n                  type=\"number\"\r\n                  label=\"Qty\"\r\n                  placeholder=\"Masukan Qty\"\r\n                  validate={required}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"text-right\">\r\n              <button className=\"btn btn-primary\">\r\n                Simpan <i className=\"fa fa-paper-plane\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModalStockOpname = reduxForm({\r\n  form: \"ModalStockOpname\",\r\n  enableReinitialize: true,\r\n})(ModalStockOpname);\r\nexport default ModalStockOpname;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { reset } from \"redux-form\";\r\nimport { getListStockOpname } from \"../../../actions/supervisor_action\";\r\nimport { AxiosMasterPost } from \"../../../axios\";\r\nimport {\r\n  NotifSucces,\r\n  ToastError,\r\n} from \"../../../components/notification/notification\";\r\nimport { Panel, PanelBody, PanelHeader } from \"../../../components/panel/panel\";\r\nimport { simpanLocal } from \"../../../config/Helper\";\r\nimport ModalGlobal from \"../../ModalGlobal\";\r\nimport HeadStockOpname from \"./HeadStockOpname\";\r\nimport ModalStockOpname from \"./ModalStockOpname\";\r\n\r\nclass StockOpname extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {}\r\n  handleHead(hasil) {\r\n    let data = {\r\n      tanggal: hasil.tanggal,\r\n      kode_lokasi_gudang: hasil.lokasi,\r\n      detail_barang: JSON.parse(localStorage.getItem(\"StockOpname_temp\")) || [],\r\n    };\r\n    AxiosMasterPost(\"stock-opname/post-transaksi\", data)\r\n      .then(() => NotifSucces(\"Stockopname Berhasil\"))\r\n      .then(() => this.props.dispatch(reset(\"HeadStockOpname\")))\r\n      .then(() => localStorage.removeItem(\"StockOpname_temp\"))\r\n      .then(() => localStorage.removeItem(\"lokasi_stock_opname\"))\r\n      .then(() => this.props.dispatch(getListStockOpname()))\r\n      .catch((err) =>\r\n        ToastError(`Gagal StockOpname , Error : ${err.response.data}`)\r\n      );\r\n  }\r\n  handleModal(hasil) {\r\n    let data = {\r\n      kode_supplier: hasil.kode_supplier,\r\n      kode_barcode: hasil.kode_barcode,\r\n      qty: hasil.qty,\r\n    };\r\n    simpanLocal(\"StockOpname_temp\", data);\r\n    this.props.dispatch(getListStockOpname());\r\n    this.props.dispatch(reset(\"ModalStockOpname\"));\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Stock Opname</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Stock Opname Barang</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Stock Opname Barang </h1>\r\n        <Panel>\r\n          <PanelHeader>Stock Opname Barang</PanelHeader>\r\n          <PanelBody>\r\n            <div className=\"col-lg-12\">\r\n              <HeadStockOpname\r\n                onSubmit={(data) => this.handleHead(data)}\r\n                liststockopname={this.props.liststockopname}\r\n              />\r\n            </div>\r\n          </PanelBody>\r\n        </Panel>\r\n        <ModalGlobal\r\n          title=\"Tambah Data Barang\"\r\n          content={\r\n            <ModalStockOpname onSubmit={(data) => this.handleModal(data)} />\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect()(StockOpname);\r\n","export const Gramasi = (value, previousValue) => {\r\n  if (!value) {\r\n    return value;\r\n  }\r\n  const onlyNums = value.replace(/[^0-9.]+/g, \"\");\r\n  if (!previousValue || value.length > previousValue.length) {\r\n    return onlyNums;\r\n  }\r\n};\r\n\r\nexport const NumberOnly = (value, previousValue) => {\r\n  if (!value) {\r\n    return value;\r\n  }\r\n  const onlyNums = value.replace(/[^0-9]+/g, \"\");\r\n  if (!previousValue || value.length > previousValue.length) {\r\n    return onlyNums;\r\n  }\r\n};\r\n\r\nexport const required = (value) => (value ? undefined : \"Tidak Boleh Kosong\");\r\nexport const number = (value) =>\r\n  value && isNaN(Number(value)) ? \"Must be a number\" : undefined;\r\n","import Swal from \"sweetalert2\";\r\n\r\nexport const simpanLocal = (nama, data) => {\r\n  return new Promise((resolve, reject) => {\r\n    let array = JSON.parse(localStorage.getItem(nama)) || [];\r\n    array.push(data);\r\n    localStorage.setItem(nama, JSON.stringify(array));\r\n    Swal.fire({\r\n      position: \"top-right\",\r\n      text: \"Tambah Data Berhasil\",\r\n      timer: 2000,\r\n      icon: \"success\",\r\n      showConfirmButton: false,\r\n    })\r\n      .then(() => resolve(\"Berhaisl\"))\r\n      .catch(() => reject(\"GAGAL\"));\r\n  });\r\n};\r\n"],"sourceRoot":""}