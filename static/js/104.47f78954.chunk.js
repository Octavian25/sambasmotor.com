(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{1091:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(7),m=t(41),s=t(29),o=t(196),c=t(49),d=t(197),i=t(5),p=t(27);class b extends n.Component{constructor(e){super(e),this.state={}}componentDidMount(){this.props.dispatch(Object(i.Hb)()),this.props.dispatch(Object(i.Sb)())}render(){return r.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(o.a,{name:"nama_member",component:p.d,type:"text",label:"Nama Member",placeholder:"Masukan Nama Member"})),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(o.a,{name:"alamat",component:p.d,type:"text",label:"Alamat",placeholder:"Masukan Alamat"})),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(o.a,{name:"kota",component:p.d,type:"text",label:"Kota",placeholder:"Masukan Kota"})),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(o.a,{name:"kode_pos",component:p.d,type:"number",label:"Kode Pos",placeholder:"Masukan Kode Pos"})),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(o.a,{name:"no_ktp",component:p.d,type:"number",label:"No KTP",placeholder:"Masukan No KTP"})),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(o.a,{name:"tanggal_lahir",component:p.d,type:"date",label:"Tanggal Lahir",placeholder:"Masukan Tanggal Lahir"}))),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(o.a,{name:"telepon",component:p.d,type:"number",label:"Telepon",placeholder:"Masukan Telepon"})),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(o.a,{name:"handphone",component:p.d,type:"number",label:"Handphone",placeholder:"Masukan Handphone"})),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(o.a,{name:"nopol_kendaraan",component:p.d,type:"text",label:"Nomor Polisi",placeholder:"Masukan Nomor Polisi"})),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(o.a,{name:"type_kendaraan",component:p.d,type:"text",label:"Type Kendaraan",placeholder:"Masukan Type "})),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(o.a,{name:"merk_kendaraan",component:p.f,options:this.props.listkendaraan.map(e=>{return{value:e.kode_merk_kendaraan,name:e.nama_merk_kendaraan}}),type:"number",label:"Merk Kendaraan",placeholder:"Masukan Merk"})),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(o.a,{name:"warna_kendaraan",component:p.f,options:this.props.listwarna.map(e=>{return{value:e.kode_warna,name:e.nama_warna}}),type:"number",label:"Warna Kendaraan",placeholder:"Masukan Warna Kendaraan"})),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(o.a,{name:"nomesin_kendaraan",component:p.d,type:"text",label:"Nomor Mesin",placeholder:"Masukan Nomor mesin"})),r.a.createElement("div",{className:"col-lg-12 d-none"},r.a.createElement(o.a,{name:"kode_customer",component:p.d,type:"text",label:"Nomor Mesin",placeholder:"Masukan Nomor mesin"}))),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-primary",disabled:this.props.onSend,onClick:()=>this.props(Object(c.b)("HeadInputDataMember"))},this.props.onSend?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):r.a.createElement(r.a.Fragment,null,"Simpan ",r.a.createElement("i",{className:"fa fa-paper-plane ml-3 "})))))))}}b=Object(d.a)({form:"HeadInputDataMember",enableReinitialize:!0})(b);var h=Object(s.b)(e=>e.member.listEdit!==[]?{initialValues:{nama_member:e.member.listEdit.nama_customer,alamat:e.member.listEdit.alamat,kota:e.member.listEdit.kota,kode_pos:e.member.listEdit.kode_pos,no_ktp:e.member.listEdit.no_ktp,tanggal_lahir:e.member.listEdit.tgl_lahir,telepon:e.member.listEdit.telepon,handphone:e.member.listEdit.handphone,nopol_kendaraan:e.member.listEdit.nopol_kendaraan,merk_kendaraan:e.member.listEdit.merk_kendaraan,type_kendaraan:e.member.listEdit.type_kendaraan,warna_kendaraan:e.member.listEdit.warna_kendaraan,nomesin_kendaraan:e.member.listEdit.nomesin_kendaraan,kode_customer:e.member.listEdit.kode_customer},listkendaraan:e.datamaster.listkendaraan,listwarna:e.datamaster.listwarna,onSend:e.datamaster.onSend}:{listkendaraan:e.datamaster.listkendaraan,listwarna:e.datamaster.listwarna,onSend:e.datamaster.onSend})(b),k=t(94),E=t.n(k),u=t(63),_=t.n(u),N=t(95),g=t.n(N),v=t(131),M=t(9),y=t(52);const j=u.Search.SearchBar,x=u.CSVExport.ExportCSVButton;a.default=Object(s.b)(e=>({listmember:e.member.listmember}))(class extends n.Component{constructor(e){super(e),this.state={columns:[{dataField:"nama_customer",text:"Nama Customer"},{dataField:"alamat",text:"Alamat"},{dataField:"kota",text:"Kota"},{dataField:"no_ktp",text:"Nomor KTP"},{dataField:"tgl_lahir",text:"Tangga Lahir"},{dataField:"handphone",text:"Handphone"},{dataField:"nopol_kendaraan",text:"Nomor Polisi"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a,t)=>{let n={nama_customer:a.nama_customer,alamat:a.alamat,kota:a.kota,kode_pos:a.kode_pos,no_ktp:a.no_ktp,tgl_lahir:a.tgl_lahir,telepon:a.telepon,handphone:a.handphone,nopol_kendaraan:a.nopol_kendaraan,merk_kendaraan:a.merk_kendaraan,type_kendaraan:a.type_kendaraan,warna_kendaraan:a.warna_kendaraan,nomesin_kendaraan:a.nomesin_kendaraan,kode_customer:a.kode_customer};return this.setState({}),r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{onClick:()=>this.editModal(n),className:"btn btn-warning mr-3"},"Edit",r.a.createElement("i",{className:"fa fa-edit ml-2"}))))}}]}}editModal(e){this.props.dispatch(Object(y.l)(e)),this.props.dispatch(Object(i.Wb)()),this.setState({isEdit:!0})}handleSubmit(e){this.props.dispatch(Object(i.Vb)());let a={nama_customer:e.nama_member,alamat:e.alamat,kota:e.kota,kode_pos:e.kode_pos,no_ktp:e.no_ktp,tgl_lahir:e.tanggal_lahir,telepon:e.telepon,handphone:e.handphone,nopol_kendaraan:e.nopol_kendaraan,merk_kendaraan:e.merk_kendaraan,type_kendaraan:e.type_kendaraan,warna_kendaraan:e.warna_kendaraan,nomesin_kendaraan:e.nomesin_kendaraan};this.state.isEdit?Object(M.d)(this.props.dispatch,"member/update-member/"+e.kode_customer,a).then(()=>Object(p.b)("Tambah member berhasil")).then(()=>this.props.dispatch(Object(c.a)("HeadInputDataMember"))).then(()=>this.props.dispatch(Object(y.h)())).then(()=>this.props.dispatch(Object(i.Tb)())).then(()=>this.props.dispatch(Object(i.Ub)())).catch(e=>Object(p.h)("Error Tambah Member , Error: ".concat(e.response.data)).then(()=>this.props.dispatch(Object(i.Ub)()))):Object(M.c)("member/tambah-member-baru",a).then(()=>Object(p.b)("Tambah member berhasil")).then(()=>this.props.dispatch(Object(c.a)("HeadInputDataMember"))).then(()=>this.props.dispatch(Object(y.h)())).then(()=>this.props.dispatch(Object(i.Ub)())).catch(e=>Object(p.h)("Error Tambah Member , Error: ".concat(e.response.data)).then(()=>this.props.dispatch(Object(i.Ub)())))}componentDidMount(){this.props.dispatch(Object(y.h)())}showTambah(){this.setState({isEdit:!1}),this.props.dispatch(Object(y.l)("")),this.props.dispatch(Object(i.Wb)())}render(){return r.a.createElement("div",null,r.a.createElement("ol",{className:"breadcrumb float-xl-right"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(l.b,{to:"#"},"Member")),r.a.createElement("li",{className:"breadcrumb-item active"},"Input Data Member")),r.a.createElement("h1",{className:"page-header"},"Input Data Member "),r.a.createElement(m.a,null,r.a.createElement(m.c,null,"Input Data Member"),r.a.createElement(m.b,null,r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(_.a,{keyField:"no_acc",data:this.props.listmember||[],columns:this.state.columns,search:!0,exportCSV:{fileName:"Export Master Kategori.csv"}},e=>r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{onClick:()=>this.showTambah(),className:"btn btn-primary"},"Tambah Data",r.a.createElement("i",{className:"fa fa-plus ml-3"}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"text-right"},r.a.createElement(j,e.searchProps))),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-12 mt-3"},r.a.createElement(E.a,Object.assign({pagination:g()()},e.baseProps)),r.a.createElement("br",null),r.a.createElement(x,e.csvProps,"Export CSV!!"))))))),r.a.createElement(v.a,{title:"Tambah Data Member",content:r.a.createElement(h,{onSubmit:e=>this.handleSubmit(e)})}))}})}}]);
//# sourceMappingURL=104.47f78954.chunk.js.map