(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1084:function(a,e,t){"use strict";t.r(e);var n=t(0),l=t.n(n),r=t(7),s=t(29),c=t(23),o=t(41),i=t(49),m=t(27),p=t(131),d=t(5),h=t(532),g=t(508),b=t(558),u=t(62),_=t(9),v=t(33),k=t(197),E=t(198),y=t(490),S=t(520),N=t(486);const f=Object(y.createNumberMask)({prefix:"Rp. ",locale:"id-ID"});class j extends n.Component{constructor(a){super(a),this.state={listSupplier:[]}}componentDidMount(){this.props.dispatch(Object(d.Gb)()),this.props.dispatch(Object(d.wb)())}setSparepart(a){let e=a.split("||");this.props.change("kode_supplier1",null),Object(_.b)("daftar-service/getDataBarangDaftarService/"+e[3]).then(a=>this.setState({listSupplier:a&&a.data[0].data_supplier})).catch(a=>Object(c.h)("Error Get Supplier, ".concat(a))),this.props.change("harga_sparepart",e[1]),this.props.change("kode_sparepart",e[3]),this.props.change("nama_sparepart",e[2])}setService(a){let e=a.split("||");this.props.change("kategori_service",e[0]),this.props.change("harga_service",e[1]),this.props.change("nama_service",e[2])}setBarang(a){this.props.change("stock",a.split("||")[1]),this.props.change("kode_supplier",a.split("||")[0])}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:a=>{"Enter"===a.key&&a.preventDefault()}},l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"}),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(k.a,{name:"kategori_service1",component:c.e,options:this.props.listkategoriservice.map(a=>{return{value:"".concat(a.kategori_service,"||").concat(a.harga_jasa_service,"||").concat(a.jenis_service),name:a.kategori_service}}),onChange:a=>this.setService(a),type:"text",label:"Jenis Service",placeholder:"Masukan Jenis Service",validate:N.a})),l.a.createElement("div",{className:"col-lg-12 d-none"},l.a.createElement(k.a,{name:"kategori_service",component:c.d,type:"text",label:"Harga Service",placeholder:"Masukan Harga Service",validate:N.a})),l.a.createElement("div",{className:"col-lg-12 "},l.a.createElement(k.a,Object.assign({name:"harga_service",component:c.d,type:"telp",label:"Harga Service",placeholder:"Masukan Harga Service"},f,{readOnly:!0}))),l.a.createElement("div",{className:"col-lg-12 "},l.a.createElement(k.a,{name:"keterangan_service",component:c.d,type:"text",label:"Keterangan Service",placeholder:"Masukan Keterangan Service",validate:N.a})),l.a.createElement("div",{className:"col-lg-12 d-none "},l.a.createElement(k.a,Object.assign({name:"nama_service",component:c.d,type:"telp",label:"Harga Service",placeholder:"Masukan Harga Service"},f))),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(k.a,{name:"kode_supplier",component:S.a,type:"text",label:"kode_supplier",placeholder:"Masukan kode_supplier"})),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(k.a,{name:"kode_sparepart",component:S.a,type:"text",label:"kode",placeholder:"Masukan kode"})),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(k.a,{name:"nama_sparepart",component:S.a,type:"text",label:"nama",placeholder:"Masukan nama"})),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(k.a,{name:"qty",component:S.a,type:"text",label:"qty",placeholder:"Masukan qty"})),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(k.a,{name:"harga_sparepart",component:S.a,type:"text",label:"harga satuan",placeholder:"Masukan harga satuan"}))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary"},"Submit ",l.a.createElement("i",{className:"fa fa-paper-plane ml-3"})))))))}}j=Object(E.a)({form:"TambahJasa",enableReinitialize:!0})(j);var O=Object(s.b)(a=>({listBarang:a.datamaster.listbarang,listkategoriservice:a.datamaster.listkategoriservice,initialValues:{kode_supplier:a.transaksi.barang_jasa.kode_supplier,kode_sparepart:a.transaksi.barang_jasa.kode,nama_sparepart:a.transaksi.barang_jasa.nama,qty:a.transaksi.barang_jasa.qty,harga_sparepart:a.transaksi.barang_jasa.harga_satuan}}))(j),x=t(566);const A=Object(n.lazy)(()=>t.e(118).then(t.bind(null,1046)));e.default=Object(s.b)(a=>({listbayar_service:a.stocking.listbayar_service,grand_total_all:a.transaksi.total_bayar,noFaktur:a.datamaster.noFaktur}),null)(class extends l.a.Component{constructor(a){super(a),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,bayar:!0,jenisModal:"",columns:[{dataField:"kode_supplier",text:"Kode Supplier"},{dataField:"kode",text:"Kode Barang"},{dataField:"nama",text:"Nama Barang"},{dataField:"jenis_barang",text:"Jenis barang"},{dataField:"keterangan",text:"Keterangan"},{dataField:"harga_satuan",text:"Harga Satuan",formatter:a=>"".concat(parseFloat(a).toLocaleString("id-ID"))},{dataField:"qty",text:"QTY"},{dataField:"harga_total",text:"Harga Total",formatter:a=>"".concat(parseFloat(a).toLocaleString("id-ID"))},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(a,e)=>{let t={kode_supplier:e.kode_supplier||"-",kode:e.kode||"-",nama:e.nama||"-",qty:1,harga_satuan:e.harga_satuan||"-",harga_total:e.harga_total||"-",keterangan:e.keterangan||"-",jenis_barang:"SPAREPART"};return l.a.createElement("div",{className:"text-center"},l.a.createElement("div",{className:"col-12"},"-"===e.keterangan?l.a.createElement("button",{className:"btn btn-warning",type:"button",onClick:()=>this.tambahJasa(t)},this.props.onSend?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})):l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fa fa-money-bill-alt"})," + Jasa")):l.a.createElement("button",{className:"btn btn-warning",type:"button",disabled:!0},this.props.onSend?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})):l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fa fa-money-bill-alt"})," + Jasa"))))}}],columnsSparepart:[{dataField:"kode_barcode",text:"Barcode"},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"merk",text:"Merk"},{dataField:"type",text:"Type"},{dataField:"qty",text:"Qty"},{dataField:"satuan",text:"Satuan"},{dataField:"harga",text:"harga"},{dataField:"total",text:"Total"}],columnsListBayar:[{dataField:"no_ac",text:"No Bank"},{dataField:"jenis_trx",text:"Jenis"},{dataField:"fee_rp",text:"Fee Card"},{dataField:"bayar_rp",text:"Total"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(a,e,t)=>(this.setState({}),l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{onClick:()=>{let a=JSON.parse(localStorage.getItem("listPembayaran_temp"));a.splice(t,1),localStorage.setItem("listPembayaran_temp",JSON.stringify(a)),this.props.dispatch(Object(m.x)())},className:"btn btn-danger"},"Hapus",l.a.createElement("i",{className:"fa fa-trash ml-2"})))))}],dataSparepart:[{kode_barcode:"barcode",nama_barang:"nama_barang",merk:"merk",type:"type",qty:3,satuan:"PCS",harga:1e5,total:3e5}],data:[{jenis_Kendaraan:"ADA",no_polisi:"ADA",nama_pemilik:"ADA",alamat:"ADA",jenis_service:"ADA",sparepart:"ADA",harga_sparepart:"ADA",ongkos:"ADA",harga_ongkos:"ADA"}],dataListBayar:[{jenis_bayar:"CREDIT CARD",bank:"BCA",jumlah:1e8}]}}componentDidMount(){localStorage.setItem("list_barang_bayar",JSON.stringify([])),this.props.dispatch(Object(d.Ab)()),this.props.dispatch(Object(m.v)()),this.props.dispatch(Object(m.t)()),Object(_.b)("bayar-service/generate/no-trx").then(a=>localStorage.setItem("no_pembayaran_service",a.data[0].no_service))}showBayar(){this.setState({bayar:!1})}setBack(){this.setState({bayar:!0})}showSparepart(){this.props.dispatch(Object(d.Wb)()),this.setState({jenisModal:"SPAREPART"})}showJasa(){this.props.dispatch(Object(d.Wb)()),this.setState({jenisModal:"JASA"})}showCC(){this.props.dispatch(Object(d.Wb)()),this.setState({jenisModal:"CC"})}tambahJasa(a){this.props.dispatch(Object(m.F)(a)),this.props.dispatch(Object(d.Wb)())}handleSimpanCC(a){let e={no_ref:this.props.noFaktur,no_ac:"".concat(a.bank),bayar_rp:a.grand_total,fee_rp:a.fee_card,no_card:a.no_card,valid_until:a.expiry,nama_pemilik:a.name,no_ktp:a.no_ktp,alamat_ktp:a.alamat_ktp,kota_ktp:a.kota,telepon_ktp:a.handphone,jenis_trx:a.jenis_trx||"DEBIT"},t=JSON.parse(localStorage.getItem("listPembayaran_temp"))||[];t.push(e),localStorage.setItem("listPembayaran_temp",JSON.stringify(t)),Object(c.b)("Simpan Berhasil"),this.props.dispatch(Object(m.x)()),localStorage.removeItem("noFaktur"),this.props.dispatch(Object(d.Ab)())}tambahSparepart(a){if(void 0!==a.kode_sparepart&&void 0!==a.kategori_service){let e={kode_supplier:"-",kode:a.kategori_service,nama:a.nama_service,qty:1,harga_satuan:a.harga_service,harga_total:a.harga_service,keterangan:a.keterangan_service,jenis_barang:"JASA SERVICE"},t={kode_supplier:a.kode_supplier||"-",kode:a.kode_sparepart||"-",nama:a.nama_sparepart||"-",qty:1,harga_satuan:a.harga_sparepart||"-",harga_total:a.harga_sparepart||"-",keterangan:a.kategori_service||"-",jenis_barang:"SPAREPART"},n=JSON.parse(localStorage.getItem("list_tambahan_bayar_temp"))||[],l=JSON.parse(localStorage.getItem("list_barang_bayar"))||[],r=l.findIndex(e=>e.kode_supplier===a.kode_supplier&&e.kode===a.kode_sparepart);-1!==r&&(l.splice(r,1),n.splice(r,1)),n.push(e,t),l.push(e,t),localStorage.setItem("list_tambahan_bayar_temp",JSON.stringify(n)),localStorage.setItem("list_barang_bayar",JSON.stringify(l)),Object(c.i)("Tambah Data Berhasil"),this.props.dispatch(Object(d.Tb)()),this.props.dispatch(Object(i.a)("TambahService")),this.props.dispatch(Object(m.t)()),localStorage.removeItem("noFaktur"),this.props.dispatch(Object(d.Ab)())}else if(void 0===a.kode_sparepart){let e={kode_supplier:"-",kode:a.kategori_service,nama:a.nama_service,qty:1,harga_satuan:a.harga_service,harga_total:a.harga_service,keterangan:a.keterangan_service,jenis_barang:"JASA SERVICE"},t=JSON.parse(localStorage.getItem("list_tambahan_bayar_temp"))||[],n=JSON.parse(localStorage.getItem("list_barang_bayar"))||[];t.push(e),n.push(e),localStorage.setItem("list_tambahan_bayar_temp",JSON.stringify(t)),localStorage.setItem("list_barang_bayar",JSON.stringify(n)),Object(c.i)("Tambah Data Berhasil"),this.props.dispatch(Object(d.Tb)()),this.props.dispatch(Object(i.a)("TambahService")),this.props.dispatch(Object(m.t)()),localStorage.removeItem("noFaktur"),this.props.dispatch(Object(d.Ab)())}else{let e={kode_supplier:a.kode_supplier||"-",kode:a.kode_sparepart||"-",nama:a.nama_sparepart||"-",qty:1,harga_satuan:a.harga_sparepart||"-",harga_total:a.harga_sparepart||"-",keterangan:a.kategori_service||"-",jenis_barang:"SPAREPART"},t=JSON.parse(localStorage.getItem("list_tambahan_bayar_temp"))||[],n=JSON.parse(localStorage.getItem("list_barang_bayar"))||[];t.push(e),n.push(e),localStorage.setItem("list_tambahan_bayar_temp",JSON.stringify(t)),localStorage.setItem("list_barang_bayar",JSON.stringify(n)),Object(c.i)("Tambah Data Berhasil"),this.props.dispatch(Object(d.Tb)()),this.props.dispatch(Object(i.a)("TambahService")),this.props.dispatch(Object(m.t)()),localStorage.removeItem("noFaktur"),this.props.dispatch(Object(d.Ab)())}}bayarservice(a){this.props.dispatch(Object(d.Vb)());let e={no_daftar:localStorage.getItem("no_daftar")||"",tgl_bayar:Object(u.a)(),disk_part_rp:a.barang||0,disk_jasa_rp:a.jasa||0,total_bayar:parseFloat(this.props.grand_total_all)-parseFloat(a.barang||0)-parseFloat(a.jasa||0),cash_rp:a.bayar,no_ref_cash:this.props.noFaktur,status_masuk_piutang:a.piutang||!1,detail_barang:JSON.parse(localStorage.getItem("list_barang_bayar"))||[],detail_non_tunai:"[]"===localStorage.getItem("listPembayaran_temp")?[{no_ref:"-",no_ac:"-",bayar_rp:0,fee_rp:0,no_card:"-",valid_until:"-",nama_pemilik:"-",no_ktp:"-",alamat_ktp:"-",kota_ktp:"-",telepon_ktp:"-",jenis_trx:"-"}]:null!==localStorage.getItem("listPembayaran_temp")?JSON.parse(localStorage.getItem("listPembayaran_temp")):[{no_ref:"-",no_ac:"-",bayar_rp:0,fee_rp:0,no_card:"-",valid_until:"-",nama_pemilik:"-",no_ktp:"-",alamat_ktp:"-",kota_ktp:"-",telepon_ktp:"-",jenis_trx:"-"}]};console.log(e),Object(_.c)("bayar-service/post-transaksi",e).then(()=>Object(c.i)("Berhasil Melakukan Pembayaran, Terima Kasih")).then(()=>Object(v.d)(["list_tambahan_bayar_temp","list_barang_bayar","no_daftar","listPembayaran_temp","noFaktur"])).then(()=>this.props.dispatch(Object(m.t)())).then(()=>this.props.dispatch(Object(m.x)())).then(()=>this.props.dispatch(Object(d.Ab)())).then(()=>this.props.dispatch(Object(d.Ub)())).then(()=>this.props.dispatch(Object(m.v)())).then(()=>{Object(_.b)("bayar-service/getDataServiceByNoService/".concat(localStorage.getItem("no_pembayaran_service"))).then(a=>Object(x.a)(a.data)).then(()=>localStorage.removeItem("no_pembayaran_service")).then(()=>this.setBack()).catch(a=>Object(c.h)("Error Print Faktur, Detail : ".concat(a.response.data)))})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(r.b,{to:"#"},"Transaksi")),l.a.createElement("li",{className:"breadcrumb-item active"},"Bayar Service")),l.a.createElement("h1",{className:"page-header"},"Bayar Service "),l.a.createElement(o.a,null,l.a.createElement(o.c,null,"Bayar Service"),l.a.createElement(o.b,null,l.a.createElement("br",null),this.state.bayar?l.a.createElement(A,{onSubmit:a=>this.handleSubmit(a),listbayar_service:this.props.listbayar_service,columns:this.state.columns,data:this.state.data,showBayar:()=>this.showBayar(),showSparepart:()=>this.showSparepart(),showJasa:()=>this.showJasa()}):l.a.createElement(h.a,{showCC:()=>this.showCC(),columns:this.state.columnsListBayar,data:this.state.dataListBayar,backMenu:()=>this.setState({bayar:!0}),onSubmit:a=>this.bayarservice(a)})),l.a.createElement(p.a,{content:"JASA"===this.state.jenisModal?l.a.createElement(b.a,{onSubmit:a=>this.tambahSparepart(a)}):"CC"===this.state.jenisModal?l.a.createElement(g.a,{onSubmit:a=>this.handleSimpanCC(a)}):l.a.createElement(O,{onSubmit:a=>this.tambahSparepart(a)}),title:"SPAREPART"===this.state.jenisModal?"Tambah Data Sparepart":"JASA"===this.state.jenisModal?"Tambah Data Jasa":"BAYAR"===this.state.jenisModal?"Tambah pembayaran":"Tambah Jasa"})))}})},486:function(a,e,t){"use strict";t.d(e,"a",function(){return n});const n=a=>a?void 0:"Tidak Boleh Kosong"},508:function(a,e,t){"use strict";var n=t(0),l=t.n(n),r=t(533),s=(t(534),t(29)),c=t(197),o=t(198),i=t(209),m=t(490),p=t(9),d=t(23);const h=Object(m.createNumberMask)({prefix:"Rp. ",locale:"id-ID"});class g extends n.Component{constructor(a){super(a),this.handleInputFocus=(a=>{this.setState({focus:a.target.name})}),this.handleInputChange=(a=>{const e=a.target,t=e.name,n=e.value;this.setState({[t]:n}),this.props.change(t,n)}),this.state={cvc:"",expiry:"",focus:"",name:"",no_card:"",nav1:"nav-item nav-link active",nav2:"nav-item nav-link",nav3:"nav-item nav-link",listBank:[]}}componentDidMount(){Object(p.b)("bank/get/all").then(a=>this.setState({listBank:a&&a.data.map(a=>{return{value:a.no_ac,name:"".concat(a.atas_nama," / ").concat(a.nama_bank)}})}))}setTotal(){this.props.change("fee_card",this.props.fee_card),this.props.change("total_card",this.props.total)}render(){return l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(r.a,{cvc:this.state.cvc,expiry:this.state.expiry,focused:this.state.focus,name:this.state.name,number:this.state.no_card}),l.a.createElement("form",{onSubmit:this.props.handleSubmit,className:"mt-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("nav",{className:"nav nav-pills nav-fill"},l.a.createElement("button",{type:"button",className:this.state.nav1,onClick:()=>{this.setState({nav1:"nav-item nav-link active",nav2:"nav-item nav-link",nav3:"nav-item nav-link"}),this.props.change("jenis_trx","DEBIT")}},"DEBIT"),l.a.createElement("button",{type:"button",className:this.state.nav2,onClick:()=>{this.setState({nav1:"nav-item nav-link ",nav2:"nav-item nav-link active",nav3:"nav-item nav-link"}),this.props.change("jenis_trx","CARD")}},"CREDIT"),l.a.createElement("button",{type:"button",className:this.state.nav3,onClick:()=>{this.setState({nav1:"nav-item nav-link ",nav2:"nav-item nav-link",nav3:"nav-item nav-link active"}),this.props.change("jenis_trx","TRANSFER")}},"TRANSFER"))),l.a.createElement("div",{className:"col-lg-12 mb-2 mt-2"},l.a.createElement("h4",null,"Data Kartu")),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"No.Card"),l.a.createElement("input",{type:"tel",className:"form-control",name:"no_card",placeholder:"Card Number",onChange:this.handleInputChange,onFocus:this.handleInputFocus}))),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(c.a,{name:"no_card",component:d.c,type:"telp",label:"No.Card",placeholder:"Masukan No.Card",onChange:this.handleInputChange,onFocus:this.handleInputFocus})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Valid Until"),l.a.createElement("input",{type:"tel",className:"form-control",name:"expiry",placeholder:"MM/YY",onChange:this.handleInputChange,onFocus:this.handleInputFocus}))),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(c.a,{name:"expiry",component:d.c,type:"telp",label:"Valid until ( MM/YY )",placeholder:"Masukan Valid until ( MM/YY )",onChange:this.handleInputChange,onFocus:this.handleInputFocus})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Nama Pemilik"),l.a.createElement("input",{type:"tel",className:"form-control",name:"name",placeholder:"Nama Pemilik",onChange:this.handleInputChange,onFocus:this.handleInputFocus}))),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(c.a,{name:"name",component:d.c,type:"text",label:"Nama Pemilik",placeholder:"Masukan Nama Pemilik",onChange:this.handleInputChange,onFocus:this.handleInputFocus})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"CVC / CVV"),l.a.createElement("input",{type:"tel",className:"form-control",name:"cvc",placeholder:"Nama Pemilik",onChange:this.handleInputChange,onFocus:this.handleInputFocus}))),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(c.a,{name:"cvc",component:d.c,type:"text",label:"Nama Pemilik",placeholder:"Masukan Nama Pemilik",onChange:this.handleInputChange,onFocus:this.handleInputFocus})),l.a.createElement("div",{className:"col-lg-12 mb-2"},l.a.createElement("h4",null,"Data Pemilik")),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(c.a,{name:"no_ktp",component:d.c,type:"number",label:"Nomor KTP",placeholder:"Masukan Nomor KTP"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(c.a,{name:"alamat_ktp",component:d.c,type:"text",label:"Alamat KTP",placeholder:"Masukan Alamat KTP"})),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(c.a,{name:"jenis_trx",component:d.c,type:"text",label:"Jenis Transaksi",placeholder:"Masukan Jenis Transaksi"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(c.a,{name:"kota",component:d.c,type:"text",label:"Kota",placeholder:"Masukan Kota"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(c.a,{name:"handphone",component:d.c,type:"telp",label:"Handphone",placeholder:"Masukan Handphone"})),l.a.createElement("div",{className:"col-lg-12 mb-2"},l.a.createElement("h4",null,"Data Harga")),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(c.a,{name:"bank",component:d.e,options:this.state.listBank,label:"Bank",placeholder:"Masukan Bank"})),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(c.a,Object.assign({name:"sub_total",component:d.c,type:"text",label:"Sub Total",placeholder:"Masukan Sub Total",readOnly:!0},h))),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(c.a,Object.assign({name:"grand_total",component:d.c,type:"telp",label:"Grand Total",placeholder:"Masukan Grand Total"},h))),l.a.createElement("div",{className:"col-lg-1"},l.a.createElement(c.a,{name:"fee_card_percent",component:d.c,type:"number",label:"% Card",placeholder:"0",onChange:this.setTotal()})),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(c.a,Object.assign({name:"fee_card",component:d.c,type:"telp",label:"Fee Card",placeholder:"0"},h))),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(c.a,Object.assign({name:"total_card",component:d.c,type:"telp",label:"Card + Fee",placeholder:"Masukan Card + Fee"},h))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary"},"Simpan ",l.a.createElement("i",{className:"fa fa-paper-plane"})))))))}}g=Object(o.a)({form:"ModalCC",enableReinitialize:!0,validate:a=>{const e={};return a.grand_total>a.sub_total&&(e.grand_total="Pembayaran Tidak Boleh Lebih Dari Sub Total"),e}})(g);const b=Object(i.a)("ModalCC");e.a=Object(s.b)(a=>{const e=b(a,"grand_total","fee_card_percent"),t=e.grand_total,n=e.fee_card_percent;return{fee_card:parseFloat(t||0)*(parseFloat(n||0)/100),total:parseFloat(t||0)+parseFloat(t||0)*(parseFloat(n||0)/100),sub_total:a.transaksi.sub_total,initialValues:{sub_total:a.transaksi.total_bayar-(a.transaksi.totalTukar||0)}}})(g)},520:function(a,e,t){"use strict";t.d(e,"a",function(){return r});var n=t(0),l=t.n(n);t(89),t(559),t(560),t(42);const r=({input:a,label:e,type:t,readOnly:n,placeholder:r,meta:{touched:s,error:c,warning:o}})=>l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"",className:"text-black"},e),l.a.createElement("input",Object.assign({onKeyPress:a=>{"Enter"===a.key&&a.preventDefault()}},a,{autoComplete:"off",type:t,className:"form-control",readOnly:n,placeholder:r})),s&&(c&&l.a.createElement("ul",{className:"parsley-errors-list filled"},l.a.createElement("li",{className:"parsley-required"}," ",c,"."))||o&&l.a.createElement("p",null,o)))},532:function(a,e,t){"use strict";var n=t(0),l=t.n(n),r=t(29),s=t(197),c=t(198),o=t(209),i=t(490),m=t(27),p=t(23),d=t(132),h=t(486);const g=Object(i.createNumberMask)({prefix:"Rp. ",locale:"id-ID"});class b extends n.Component{constructor(a){super(a),this.state={}}componentDidMount(){this.props.change("grand_total_all",this.props.total),this.props.dispatch(Object(m.x)())}setBayar(a){this.setState({bayar:a.target.value}),localStorage.setItem("bayar_rp_rongsok",a.target.value)}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:a=>{"Enter"===a.key&&a.preventDefault()}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 mb-3"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-left"},l.a.createElement("button",{className:"btn btn-black text-white",onClick:this.props.backMenu},l.a.createElement("i",{className:"fa fa-chevron-left mr-3"})," Back")))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 text-center"},l.a.createElement("h3",null,"Grand Total"),l.a.createElement("p",{style:{fontSize:32,fontWeight:700}},parseFloat(this.props.grand_total_all).toLocaleString("id-ID")),l.a.createElement("h3",null,"Bayar"),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"}),l.a.createElement("div",{className:"col-lg-6 text-center"},l.a.createElement(s.a,Object.assign({name:"bayar",component:p.d,type:"telp",placeholder:"Masukan Bayar",className:" form-control-lg",onChange:a=>this.setBayar(a)},g,{validate:h.a}))))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"}),l.a.createElement("div",{className:"col-lg-6 text-center"},l.a.createElement(s.a,Object.assign({name:"jasa",label:"Diskon Jasa",component:p.d,type:"telp",placeholder:"Masukan Bayar",className:" form-control-lg",onChange:a=>this.setBayar(a)},g))))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"}),l.a.createElement("div",{className:"col-lg-6 text-center"},l.a.createElement(s.a,Object.assign({name:"barang",label:"Diskon Barang",component:p.d,type:"telp",placeholder:"Masukan Bayar",className:" form-control-lg",onChange:a=>this.setBayar(a)},g))))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"}),l.a.createElement("div",{className:"col-lg-6 text-center"},l.a.createElement("label",{htmlFor:""},"Masuk Piutang ?"),l.a.createElement(s.a,{name:"piutang",component:"input",type:"checkbox",placeholder:"Masukan Bayar",className:"ml-3"})))),l.a.createElement("h3",null,"Kembali"),l.a.createElement("p",{style:{fontSize:35,fontWeight:700}},parseFloat(this.props.kembali).toLocaleString("id-ID"))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(d.a,{keyField:"no_ac",data:this.props.listPembayaran_temp,columns:this.props.columns,tambahData:!0,handleClick:this.props.showCC})))))),l.a.createElement("div",{className:"text-center col-lg-6"},l.a.createElement("button",{className:"btn btn-primary",disabled:this.props.onSend},this.props.onSend?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):l.a.createElement(l.a.Fragment,null,"Simpan ",l.a.createElement("i",{className:"fa fa-paper-plane ml-3 "}))))))}}b=Object(c.a)({form:"ModalBayarService",enableReinitialize:!0})(b);const u=Object(o.a)("ModalBayarService");e.a=Object(r.b)(a=>(localStorage.setItem("bayar_rp_rongsok",u(a,"bayar")||0),{grand_total_all:a.transaksi.total_bayar,listPembayaran_temp:a.transaksi.listpembayaran_temp,sum_pembayaran:a.transaksi.sum_pembayaran,total_bayar:a.transaksi.total_bayar,kembali:(u(a,"bayar")||0)-(a.transaksi.total_bayar-(u(a,"jasa")||0)-(u(a,"barang")||0)-a.transaksi.sum_pembayaran),bayar:u(a,"bayar")||0,onSend:a.datamaster.onSend}))(b)},558:function(a,e,t){"use strict";var n=t(0),l=t.n(n),r=t(29),s=t(197),c=t(198),o=t(490),i=t(5),m=t(9),p=t(520),d=t(23),h=t(486);const g=Object(o.createNumberMask)({prefix:"Rp. ",locale:"id-ID"});class b extends n.Component{constructor(a){super(a),this.state={listSupplier:[]}}componentDidMount(){this.props.dispatch(Object(i.Gb)()),this.props.dispatch(Object(i.wb)())}setSparepart(a){let e=a.split("||");this.props.change("kode_supplier1",null),Object(m.b)("daftar-service/getDataBarangDaftarService/"+e[3]).then(a=>this.setState({listSupplier:a&&a.data[0].data_supplier})).catch(a=>Object(d.h)("Error Get Supplier, ".concat(a))),this.props.change("harga_sparepart",e[1]),this.props.change("kode_sparepart",e[3]),this.props.change("nama_sparepart",e[2])}setService(a){let e=a.split("||");this.props.change("kategori_service",e[0]),this.props.change("harga_service",e[1]),this.props.change("nama_service",e[2])}setBarang(a){this.props.change("stock",a.split("||")[1]),this.props.change("kode_supplier",a.split("||")[0])}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:a=>{"Enter"===a.key&&a.preventDefault()}},l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(s.a,{name:"kategori_service1",component:d.e,options:this.props.listkategoriservice.map(a=>{return{value:"".concat(a.kategori_service,"||").concat(a.harga_jasa_service,"||").concat(a.jenis_service),name:a.kategori_service}}),onChange:a=>this.setService(a),type:"text",label:"Jenis Service",placeholder:"Masukan Jenis Service"})),l.a.createElement("div",{className:"col-lg-12 d-none"},l.a.createElement(s.a,{name:"kategori_service",component:d.d,type:"text",label:"Harga Service",placeholder:"Masukan Harga Service"})),l.a.createElement("div",{className:"col-lg-12 "},l.a.createElement(s.a,Object.assign({name:"harga_service",component:d.d,type:"telp",label:"Harga Service",placeholder:"Masukan Harga Service"},g,{readOnly:!0}))),l.a.createElement("div",{className:"col-lg-12 "},l.a.createElement(s.a,{name:"keterangan_service",component:d.d,type:"text",label:"Keterangan Service",placeholder:"Masukan Keterangan Service",validate:h.a})),l.a.createElement("div",{className:"col-lg-12 d-none "},l.a.createElement(s.a,Object.assign({name:"nama_service",component:d.d,type:"telp",label:"Harga Service",placeholder:"Masukan Harga Service"},g)))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(s.a,{name:"sparepart",component:d.e,options:this.props.listBarang.map(a=>{return{value:"".concat(a.kode_barang,"||").concat(a.harga_jual,"||").concat(a.nama_barang,"||").concat(a.kode_barcode),name:a.nama_barang}}),onChange:a=>this.setSparepart(a),type:"text",label:"Jenis Service",placeholder:"Masukan Jenis Service"})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(s.a,{name:"kode_supplier1",component:d.e,options:this.state.listSupplier.map(a=>{return{value:"".concat(a.kode_supplier,"||").concat(a.stock),name:a.nama_supplier}}),onChange:a=>this.setBarang(a),type:"text",label:"Kode Supplier",placeholder:"Masukan Kode Supplier"})),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(s.a,{name:"stock",component:p.a,type:"text",label:"Stock",placeholder:"Masukan Kode Supplier",readOnly:!0})))),l.a.createElement("div",{className:"col-lg-12 d-none"},l.a.createElement(s.a,{name:"kode_sparepart",component:d.d,type:"text",label:"Harga Service",placeholder:"Masukan Harga Service",readOnly:!0})),l.a.createElement("div",{className:"col-lg-12 d-none"},l.a.createElement(s.a,{name:"kode_supplier",component:d.d,type:"text",label:"Harga Service",placeholder:"Masukan Harga Service"})),l.a.createElement("div",{className:"col-lg-12 d-none"},l.a.createElement(s.a,{name:"nama_sparepart",component:d.d,type:"text",label:"Harga Service",placeholder:"Masukan Harga Service"})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(s.a,Object.assign({name:"harga_sparepart",component:d.d,type:"telp",label:"Harga Service",placeholder:"Masukan Harga Service"},g,{readOnly:!0})))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary"},"Submit ",l.a.createElement("i",{className:"fa fa-paper-plane ml-3"})))))))}}b=Object(c.a)({form:"TambahService",enableReinitialize:!0})(b),e.a=Object(r.b)(a=>({listBarang:a.datamaster.listbarang,listkategoriservice:a.datamaster.listkategoriservice}))(b)},566:function(a,e,t){"use strict";var n=t(60),l=(t(133),t(567)),r=t.n(l);e.a=(a=>{const e=new n.default;e.setFontSize(15),e.text("FAKTUR PENJUALAN",14,15),e.setFontSize(10);let t=[],l=[],s=30,c=[[{content:"SERVICE LIST",colSpan:5}],[{content:"SPK"},{content:"QTY"},{content:"HARGA"},{content:"TOTAL"},{content:"KETERANGAN"}]],o=[[{content:"SPAREPART",colSpan:5}],[{content:"SPK"},{content:"QTY"},{content:"HARGA"},{content:"TOTAL"},{content:"KETERANGAN"}]];a.forEach((a,n)=>{let i=[[{content:"TANGGAL : ".concat(a.tgl_service),colSpan:1},{content:"NO FAKTUR : ".concat(a.no_service," "),colSpan:1},{content:"MEKANIK : ".concat(a.mekanik),colSpan:2}],[{content:"DATA PEMILIK",colSpan:2,styles:{fontStyle:"bold",fontSize:9}},{content:"DATA KENDARAAN",colSpan:2,styles:{fontStyle:"bold",fontSize:9}}],[{content:"NAMA : "},{content:"".concat(a.nama_customer)},{content:"NOMOR POLISI: "},{content:"".concat(a.nopol_kendaraan)}],[{content:"ALAMAT : ",rowSpan:2},{content:"".concat(a.alamat),rowSpan:2},{content:"MERK : "},{content:"".concat(a.merk_kendaraan)}],[{content:"TYPE : "},{content:"".concat(a.type_kendaraan)}],[{content:"KOTA : "},{content:"".concat(a.kota)},{content:"WARNA : "},{content:"".concat(a.warna_kendaraan)}],[{content:"NO HP : "},{content:"".concat(a.handphone)},{content:"NO. MESIN : "},{content:"".concat(a.nomesin_kendaraan)}],[{content:"============================================================================================================",colSpan:4}],[{content:"TGL MASUK: "},{content:"".concat(a.tgl_masuk)},{content:"TGL KELUAR : "},{content:"".concat(a.tgl_keluar)}],[{content:"KM MASUK : "},{content:"".concat(a.km_masuk)},{content:"KM KELUAR: "},{content:"".concat(a.km_keluar)}],[{content:" JDW SERVICE BERIKUTNYA : "},{content:"".concat(a.tgl_service)},{content:"KM SERVICE BERIKUTNYA : "},{content:"".concat(a.km_service)}]];e.autoTable({body:i,startY:30,theme:"plain",rowPageBreak:"avoid",margin:{top:20},styles:{fontSize:8,rowWidth:15}}),s=e.autoTableEndPosY()+3,a.detail_barang.forEach(a=>{let e=[a.kode,a.qty,a.harga_satuan,a.harga_total,a.keterangan];"JASA SERVICE"===a.jenis_barang?l.push(e):t.push(e)}),e.autoTable({head:c,body:l,startY:s,theme:"plain",rowPageBreak:"avoid",pageBreak:"avoid",margin:{top:20},bodyStyles:{lineWidth:.02,lineColor:"#000"},headStyles:{lineWidth:.02,lineColor:"#000",fillColor:[212,212,211],valign:"middle",halign:"center"},styles:{fontSize:8,rowWidth:15}}),s=e.autoTableEndPosY()+3,e.autoTable({head:o,body:t,startY:s,theme:"plain",rowPageBreak:"avoid",pageBreak:"avoid",margin:{top:20},bodyStyles:{lineWidth:.02,lineColor:"#000"},headStyles:{lineWidth:.02,lineColor:"#000",fillColor:[212,212,211],valign:"middle",halign:"center"},styles:{fontSize:8,rowWidth:15}}),s=e.autoTableEndPosY()+3;let m=[[{content:"Garansi pekerjaan berlaku 3 hari atau 300 km dari tanggal service, Kami tidak bertanggung jawab atas hilang atau terbuangnya suku cadang bekas, kalau tidak diambil dalam waktu 2 hari sejak tanggal perbaikan",rowSpan:6},{content:"Sub Total"},{content:"".concat(parseFloat(a.sub_total).toLocaleString("id-ID"))}],[{content:"Disc Part"},{content:"".concat(parseFloat(a.disk_part_rp).toLocaleString("id-ID"))}],[{content:"Disc Jasa"},{content:"".concat(parseFloat(a.disk_jasa_rp).toLocaleString("id-ID"))}],[{content:"Grand Total"},{content:"".concat(parseFloat(a.grand_total).toLocaleString("id-ID"))}],[{content:"PPN 10%"},{content:"".concat(parseFloat(a.ppn).toLocaleString("id-ID"))}],[{content:"Total Bayar"},{content:"".concat(parseFloat(a.total_bayar).toLocaleString("id-ID"))}],[{content:"TERBBILANG # ".concat(r()(parseInt(a.total_bayar)).toUpperCase()),styles:{fontStyle:"bold",fontSize:9},colSpan:3}]];e.autoTable({body:m,startY:s,theme:"plain",rowPageBreak:"avoid",pageBreak:"avoid",margin:{top:20},columnStyles:{0:{cellWidth:132},1:{cellWidth:25},2:{cellWidth:25}},styles:{fontSize:8,rowWidth:15}}),s=e.autoTableEndPosY()+3,e.autoTable({body:[[{content:"Sevice Advisor",style:{halign:"center"}},{content:"Workshop Admin",style:{halign:"center"}},{content:"Pemilik Kendaraan",style:{halign:"center"}}],[{content:"",styles:{minCellHeight:20}},{content:"",styles:{minCellHeight:20}},{content:"",styles:{minCellHeight:20}}],[{content:"(...............................)"},{content:"(...............................)"},{content:"(...............................)"}]],startY:s,theme:"plain",rowPageBreak:"avoid",pageBreak:"avoid",margin:{top:20},styles:{fontSize:8},bodyStyles:{valign:"middle",halign:"center"}})});var i="<embed width='100%' height='100%' src='"+e.output("datauristring")+"'/>",m=window.open();m.document.open(),m.document.write(i),m.document.close()})},567:function(a,e,t){"use strict";const n=["","ribu","juta","milyar","triliun","quadriliun","quintiliun","sextiliun","septiliun","oktiliun","noniliun","desiliun","undesiliun","duodesiliun","tredesiliun","quattuordesiliun","quindesiliun","sexdesiliun","septendesiliun","oktodesiliun","novemdesiliun","vigintiliun"],l=n.length-1;function r(a){const e=a/3;return e<=l?n[e]:n[l]}const s=["","satu","dua","tiga","empat","lima","enam","tujuh","delapan","sembilan"];function c(a){return s[a]||""}const o=a=>{const e=a.length,t=e-1;if(0===t&&0===Number(a[0]))return"nol";let n="",l="",s=0;for(;s!==e;){const e=t-s,o=e%3,i=Number(a[s]);if(3===e&&1===i&&(0===s||0===Number(a[s-2])&&0===Number(a[s-1])))l+="".concat(n,"seribu");else if(0!==i)if(0===o)l+="".concat(n).concat(c(i)).concat(s===t?"":" ").concat(r(e));else if(2===o)l+=1===i?"".concat(n,"seratus"):"".concat(n).concat(c(i)," ratus");else if(1===i){s++;const t=Number(a[s]);0===t?(l+="".concat(n,"sepuluh"),1===e||0===Number(a[s-2])&&0===Number(a[s-1])||(l+=" ".concat(r(e-1)))):(l+=1===t?"".concat(n,"sebelas"):"".concat(n).concat(c(t)," belas"),1!==e&&(l+=" ".concat(r(e-1))))}else l+="".concat(n).concat(c(i)," puluh");else 0!==o||0===Number(a[s-2])&&0===Number(a[s-1])||0===e||(l+=" ".concat(r(e)));s<=1&&(n=" "),s++}return l};a.exports=function(a,e={decimal:"."}){return"string"!==typeof a&&(a=String(a)),a.indexOf(e.decimal)>-1?(a=a.split(e.decimal),"".concat(o(a[0])," koma ").concat(a[1].split("").map(a=>0==a?"nol":c(a)).join(" "))):o(a)}}}]);
//# sourceMappingURL=7.7dccccd9.chunk.js.map