(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{1048:function(a,e,t){"use strict";t.r(e);var n=t(0),s=t.n(n),l=t(29),o=t(196),r=t(197),c=t(209),i=t(27),p=t(490),m=t(9),d=t(5);const h=Object(p.createNumberMask)({prefix:"Rp. ",suffix:" ,-",decimalPlaces:0,locale:"id-ID"});class g extends n.Component{constructor(a){super(a),this.state={hasilBarcode:[],listMerk:[],listKwalitas:[],listSatuan:[]}}setTotal(){this.props.change("total",this.props.total)}getBarcode(a){this.props.dispatch(Object(d.Vb)()),Object(m.b)("/barang/get/by-kode-barcode/"+a.target.value).then(a=>this.setState({hasilBarcode:a.data})).then(()=>this.setDetail()).then(()=>this.props.dispatch(Object(d.Ub)())).catch(a=>this.props.dispatch(Object(d.Ub)()))}setDetail(){console.log(this.state.hasilBarcode[0].nama_barang),this.props.change("nama_barang",this.state.hasilBarcode[0].nama_barang),this.props.change("merk",this.state.hasilBarcode[0].kode_merk_barang),this.props.change("kwalitas",this.state.hasilBarcode[0].kode_kwalitas),this.props.change("type",this.state.hasilBarcode[0].type),this.props.change("satuan",this.state.hasilBarcode[0].kode_satuan),this.props.change("harga_satuan",this.state.hasilBarcode[0].harga_jual)}componentDidMount(){Object(m.b)("merk-barang/get/all").then(a=>this.setState({listMerk:a.data})).catch(a=>Object(i.a)(a)),Object(m.b)("kwalitas/get/all").then(a=>this.setState({listKwalitas:a.data})).catch(a=>Object(i.a)(a)),Object(m.b)("satuan/get/all").then(a=>this.setState({listSatuan:a.data})).catch(a=>Object(i.a)(a))}render(){return s.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:a=>{"Enter"===a.key&&a.preventDefault()}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4"},s.a.createElement(o.a,{name:"kode_barcode",component:i.c,type:"text",label:"Kode Barcode",placeholder:"Masukan Kode Barcode",onChange:a=>this.getBarcode(a),onBlur:a=>this.getBarcode(a),autoFocus:!0})),s.a.createElement("div",{className:"col-lg-8"}),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(o.a,{name:"nama_barang",component:i.c,type:"text",label:"Nama Barang",placeholder:"Masukan Nama Barang",readOnly:!0,loading:this.props.onSend})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(o.a,{name:"merk",component:i.e,options:this.state.listMerk.map(a=>{return{value:a.kode_merk_barang,name:a.nama_merk_barang}}),type:"text",label:"Merk",placeholder:"Masukan Merk",readOnly:!0,loading:this.props.onSend})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(o.a,{name:"kwalitas",component:i.e,options:this.state.listKwalitas.map(a=>{return{value:a.kode_kwalitas,name:a.nama_kwalitas}}),type:"text",label:"Kualitas",placeholder:"Masukan Kualitas",readOnly:!0,loading:this.props.onSend})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(o.a,{name:"type",component:i.c,type:"text",label:"Type",placeholder:"Masukan Type",readOnly:!0,loading:this.props.onSend})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(o.a,{name:"satuan",component:i.e,options:this.state.listSatuan.map(a=>{return{value:a.kode_satuan,name:a.nama_satuan}}),type:"text",label:"Satuan",placeholder:"Masukan Satuan",readOnly:!0,loading:this.props.onSend})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(o.a,{name:"qty",component:i.c,type:"text",label:"Qty",placeholder:"Masukan Qty",onChange:this.setTotal()})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(o.a,Object.assign({name:"harga_satuan",component:i.c,type:"text",label:"Harga Satuan",placeholder:"Masukan Harga Satuan",onChange:this.setTotal()},h,{loading:this.props.onSend}))),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(o.a,Object.assign({name:"total",component:i.c,type:"telp",label:"Total",placeholder:"Masukan Total"},h,{readOnly:!0}))),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary"},"Simpan ",s.a.createElement("i",{className:"fa fa-paper-plane ml-3"}))))))}}g=Object(r.a)({form:"ModalSupplierPenerimaan",enableReinitialize:!0})(g);const u=Object(c.a)("ModalSupplierPenerimaan");e.default=Object(l.b)(a=>{const e=u(a,"harga_satuan","qty"),t=e.harga_satuan,n=e.qty;return{total:parseFloat(t||0)*parseFloat(n||0),onSend:a.datamaster.onSend}})(g)}}]);
//# sourceMappingURL=120.b23b2e17.chunk.js.map