{"version":3,"sources":["pages/Transaksi/TerimaServiceLuar/HeadTerimaServiceLuar.jsx","pages/Transaksi/TerimaServiceLuar/ModalTerimaServiceLuar.jsx","pages/Transaksi/TerimaServiceLuar/TerimaServiceLuar.jsx","pages/Transaksi/PembayaranService/ModalCC.jsx"],"names":["HeadServiceLuar","Component","constructor","props","super","this","state","columns","dataField","text","csvExport","headerClasses","formatter","rowcontent","row","data","grand_total","no_bon","no_service_kirim","react_default","a","createElement","className","onClick","showBayar","dispatch","setGrandTotal","getServiceLuar","alert","componentDidMount","getListKirimServiceLuar","change","getToday","AxiosMasterGet","then","res","no_service_terima","render","Field","name","component","RenderFieldGroup","type","label","placeholder","handleClick","readOnly","ReanderField","tabel","keyField","listkirimserviceluar","empty","emptyText","reduxForm","form","enableReinitialize","connect","localStorage","getItem","transaksi","currencyMask","createNumberMask","prefix","locale","ModalTerimaServiceLuar","columnsListBayar","concat","parseFloat","toLocaleString","total","setBayar","e","setState","bayar","target","value","setItem","onSubmit","handleSubmit","setBack","style","fontSize","fontWeight","grand_total_all","Object","assign","onChange","kembali","listPembayaran_temp","tambahData","showCC","disabled","onSend","selector","formValueSelector","total_bayar","listpembayaran_temp","sum_pembayaran","datamaster","kunci_temp","stocking","noFaktur","no_bon_kirim","React","isEdit","modalDialog","isLoading","getFaktur","getListPembayaran","console","log","showModal","handleSimpanCC","hasil","no_ref","no_card","bayar_rp","fee_rp","fee_card","no_ac","bank","valid_until","expiry","nama_pemilik","no_ktp","alamat_ktp","kota_ktp","kota","telepon_ktp","handphone","jenis_trx","array","JSON","parse","push","stringify","ToastSucces","removeItem","sendData","tanggal","margin_rp","margin","cash_rp","no_ref_cash","status_masuk_piutang","piutang","detail_non_tunai","AxiosMasterPost","NotifSucces","multipleDeleteLocal","reset","catch","err","ToastError","response","react_router_dom","to","panel","TerimaServiceLuar_ModalTerimaServiceLuar","HeadTerimaServiceLuar","ModalGlobal","title","content","ModalCC","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_credit_cards__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_3__","redux_form__WEBPACK_IMPORTED_MODULE_4__","redux_form__WEBPACK_IMPORTED_MODULE_5__","redux_form__WEBPACK_IMPORTED_MODULE_6__","redux_form_input_masks__WEBPACK_IMPORTED_MODULE_7__","_axios__WEBPACK_IMPORTED_MODULE_8__","_components_notification_notification__WEBPACK_IMPORTED_MODULE_9__","handleInputFocus","focus","handleInputChange","_e$target","[object Object]","cvc","nav1","nav2","nav3","listBank","map","list","atas_nama","nama_bank","setTotal","focused","number","htmlFor","onFocus","ReanderSelect","options","validate","errors","sub_total","_selector","fee_card_percent","initialValues","totalTukar"],"mappings":"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","file":"static/js/61.68b98b6d.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport {\r\n  getListKirimServiceLuar,\r\n  setGrandTotal,\r\n} from \"../../../actions/transaksi_action\";\r\nimport { AxiosMasterGet } from \"../../../axios\";\r\nimport { getToday } from \"../../../components/notification/function\";\r\nimport {\r\n  ReanderField,\r\n  RenderFieldGroup,\r\n} from \"../../../components/notification/notification\";\r\nimport Tabel from \"../../../components/Tabel/tabel\";\r\n\r\nclass HeadServiceLuar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columns: [\r\n        {\r\n          dataField: \"no_service_kirim\",\r\n          text: \"Nomor\",\r\n        },\r\n        {\r\n          dataField: \"tgl_service_kirim\",\r\n          text: \"Tanggal Kirim\",\r\n        },\r\n        {\r\n          dataField: \"nopol_kendaraan\",\r\n          text: \"Nomor Polisi\",\r\n        },\r\n        {\r\n          dataField: \"kode_supplier\",\r\n          text: \"Supplier\",\r\n        },\r\n        {\r\n          dataField: \"nama_customer\",\r\n          text: \"Customer\",\r\n        },\r\n        {\r\n          dataField: \"sub_total\",\r\n          text: \"Sub Total\",\r\n        },\r\n        {\r\n          dataField: \"diskon_rp\",\r\n          text: \"Diskon\",\r\n        },\r\n        {\r\n          dataField: \"grand_total\",\r\n          text: \"Total\",\r\n        },\r\n        {\r\n          dataField: \"action\",\r\n          text: \"Action\",\r\n          csvExport: false,\r\n          headerClasses: \"text-center\",\r\n          formatter: (rowcontent, row) => {\r\n            let data = {\r\n              grand_total: row.grand_total,\r\n              no_bon: row.no_service_kirim,\r\n            };\r\n            return (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    onClick={() => {\r\n                      this.props.showBayar();\r\n                      this.props.dispatch(setGrandTotal(data));\r\n                    }}\r\n                    className=\"btn btn-primary mr-3\"\r\n                  >\r\n                    Simpan\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  getServiceLuar() {\r\n    alert(\"ITS WORKED\");\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getListKirimServiceLuar());\r\n    this.props.change(\"tanggal\", getToday());\r\n    AxiosMasterGet(\"terima-service-luar/generate/no-trx\").then((res) =>\r\n      this.props.change(\r\n        \"no_service_terima\",\r\n        res && res.data[0].no_service_terima\r\n      )\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-4\">\r\n          <Field\r\n            name=\"no_service_kirim\"\r\n            component={RenderFieldGroup}\r\n            type=\"text\"\r\n            label=\"Nomor Service Kirim\"\r\n            placeholder=\"Masukan Nomor Service Kirim\"\r\n            handleClick={(data) => this.getServiceLuar(data)}\r\n          />\r\n        </div>\r\n        <div className=\"col-lg-4 d-none\">\r\n          <Field\r\n            name=\"no_service_terima\"\r\n            component={RenderFieldGroup}\r\n            type=\"text\"\r\n            label=\"Nomor Service Kirim\"\r\n            placeholder=\"Masukan Nomor Service Kirim\"\r\n            handleClick={(data) => this.getServiceLuar(data)}\r\n            readOnly\r\n          />\r\n        </div>\r\n        <div className=\"col-lg-4\">\r\n          <Field\r\n            name=\"tanggal\"\r\n            component={ReanderField}\r\n            type=\"date\"\r\n            label=\"Tanggal\"\r\n            placeholder=\"Masukan Tanggal\"\r\n          />\r\n        </div>\r\n        <div className=\"col-lg-4\"></div>\r\n        <div className=\"col-lg-12\">\r\n          <Tabel\r\n            keyField=\"nama_supplier\"\r\n            data={this.props.listkirimserviceluar || []}\r\n            columns={this.state.columns}\r\n            empty={true}\r\n            emptyText=\"Silahkan Masukan Nomor Service dan klik cari\"\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nHeadServiceLuar = reduxForm({\r\n  form: \"HeadServiceLuar\",\r\n  enableReinitialize: true,\r\n})(HeadServiceLuar);\r\nexport default connect((state) => {\r\n  return {\r\n    no_service_kirim: localStorage.getItem(\"terima_service_luar_nomor\"),\r\n    listkirimserviceluar: state.transaksi.listkirimserviceluar,\r\n  };\r\n})(HeadServiceLuar);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport { ReanderField } from \"../../../components/notification/notification\";\r\nimport Tabel from \"../../../components/Tabel/tabel\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  locale: \"id-ID\",\r\n});\r\n\r\nclass ModalTerimaServiceLuar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columnsListBayar: [\r\n        {\r\n          dataField: \"jenis_trx\",\r\n          text: \"Jenis Bayar\",\r\n        },\r\n        {\r\n          dataField: \"no_card\",\r\n          text: \"Bank\",\r\n        },\r\n        {\r\n          dataField: \"nama_pemilik\",\r\n          text: \"Nama Pemilik\",\r\n        },\r\n        {\r\n          dataField: \"fee_rp\",\r\n          text: \"Fee Card\",\r\n        },\r\n        {\r\n          dataField: \"bayar_rp\",\r\n          text: \"Bayar\",\r\n          formatter: (data) =>\r\n            `Rp. ${parseFloat(data).toLocaleString(\"id-ID\")}`,\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.change(\"grand_total_all\", this.props.total);\r\n  }\r\n  setBayar(e) {\r\n    this.setState({\r\n      bayar: e.target.value,\r\n    });\r\n    localStorage.setItem(\"bayar_rp_rongsok\", e.target.value);\r\n  }\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit}>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-12 mb-3\">\r\n            <div className=\"col-lg-12\">\r\n              <div className=\"text-left\">\r\n                <button\r\n                  className=\"btn btn-black text-white\"\r\n                  onClick={this.props.setBack}\r\n                >\r\n                  <i className=\"fa fa-chevron-left mr-3\"></i> Back\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"col-lg-12\">\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-6 text-center\">\r\n                  <h3>Grand Total</h3>\r\n                  <p style={{ fontSize: 32, fontWeight: 700 }}>\r\n                    {parseFloat(this.props.grand_total_all).toLocaleString(\r\n                      \"id-ID\"\r\n                    )}\r\n                  </p>\r\n                  <h3>Margin</h3>\r\n                  <div className=\"col-lg-12\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-lg-3\"></div>\r\n                      <div className=\"col-lg-6 text-center\">\r\n                        <Field\r\n                          name=\"margin\"\r\n                          component={ReanderField}\r\n                          type=\"telp\"\r\n                          placeholder=\"Masukan Bayar\"\r\n                          className=\" form-control-lg\"\r\n                          onChange={(e) => this.setBayar(e)}\r\n                          {...currencyMask}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <h3>Bayar</h3>\r\n                  <div className=\"col-lg-12\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-lg-3\"></div>\r\n                      <div className=\"col-lg-6 text-center\">\r\n                        <Field\r\n                          name=\"bayar\"\r\n                          component={ReanderField}\r\n                          type=\"telp\"\r\n                          placeholder=\"Masukan Bayar\"\r\n                          className=\" form-control-lg\"\r\n                          onChange={(e) => this.setBayar(e)}\r\n                          {...currencyMask}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <h3>Kembali</h3>\r\n                  <p style={{ fontSize: 35, fontWeight: 700 }}>\r\n                    {parseFloat(this.props.kembali).toLocaleString(\"id-ID\")}\r\n                  </p>\r\n                </div>\r\n                <div className=\"col-lg-6\">\r\n                  <div className=\"col-lg-12\">\r\n                    <Tabel\r\n                      keyField=\"no_ac\"\r\n                      data={this.props.listPembayaran_temp || []}\r\n                      columns={this.state.columnsListBayar}\r\n                      tambahData={true}\r\n                      handleClick={this.props.showCC}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-center col-lg-6\">\r\n            <button\r\n              className=\"btn-lg btn-primary btn-block\"\r\n              disabled={this.props.onSend}\r\n            >\r\n              {this.props.onSend ? (\r\n                <i className=\"fas fa-spinner fa-spin\"></i>\r\n              ) : null}\r\n              BAYAR <i className=\"fa fa-money-bill-alt ml-3\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nModalTerimaServiceLuar = reduxForm({\r\n  form: \"ModalTerimaServiceLuar\",\r\n  enableReinitialize: true,\r\n})(ModalTerimaServiceLuar);\r\nconst selector = formValueSelector(\"ModalTerimaServiceLuar\");\r\nexport default connect((state) => {\r\n  localStorage.setItem(\"bayar_rp_rongsok\", selector(state, \"bayar\") || 0);\r\n  return {\r\n    grand_total_all:\r\n      state.transaksi.total_bayar + (selector(state, \"margin\") || 0),\r\n    listPembayaran_temp: state.transaksi.listpembayaran_temp,\r\n    sum_pembayaran: state.transaksi.sum_pembayaran,\r\n    total_bayar: state.transaksi.total_bayar,\r\n    kembali:\r\n      (selector(state, \"bayar\") || 0) -\r\n      state.transaksi.grand_total -\r\n      state.transaksi.sum_pembayaran -\r\n      (selector(state, \"margin\") || 0),\r\n    onSend: state.datamaster.onSend,\r\n  };\r\n})(ModalTerimaServiceLuar);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Panel,\r\n  PanelBody,\r\n  PanelHeader,\r\n} from \"../../../components/panel/panel.jsx\";\r\nimport HeadTerimaServiceLuar from \"./HeadTerimaServiceLuar.jsx\";\r\nimport ModalGlobal from \"../../ModalGlobal.jsx\";\r\nimport ModalTerimaServiceLuar from \"./ModalTerimaServiceLuar.jsx\";\r\nimport { getFaktur, showModal } from \"../../../actions/datamaster_action.jsx\";\r\nimport { AxiosMasterGet, AxiosMasterPost } from \"../../../axios.js\";\r\nimport {\r\n  NotifSucces,\r\n  ToastError,\r\n  ToastSucces,\r\n} from \"../../../components/notification/notification.jsx\";\r\nimport ModalCC from \"../PembayaranService/ModalCC.jsx\";\r\nimport {\r\n  getToday,\r\n  multipleDeleteLocal,\r\n} from \"../../../components/notification/function.jsx\";\r\nimport {\r\n  getListKirimServiceLuar,\r\n  getListPembayaran,\r\n} from \"../../../actions/transaksi_action.jsx\";\r\nimport { reset } from \"redux-form\";\r\n\r\nconst maptostate = (state) => {\r\n  return {\r\n    kunci_temp: state.stocking.kunci_temp,\r\n    listkirimserviceluar: state.transaksi.listkirimserviceluar,\r\n    noFaktur: state.datamaster.noFaktur,\r\n    grand_total: state.transaksi.grand_total,\r\n    no_bon_kirim: state.transaksi.no_bon_kirim,\r\n  };\r\n};\r\n\r\nclass ServiceLuar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isEdit: false,\r\n      modalDialog: false,\r\n      isLoading: false,\r\n      bayar: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getFaktur());\r\n    this.props.dispatch(getListPembayaran());\r\n    AxiosMasterGet(\"terima-service-luar/generate/no-trx\").then((res) =>\r\n      localStorage.setItem(\r\n        \"terima_service_luar_nomor\",\r\n        res && res.data[0].no_service_terima\r\n      )\r\n    );\r\n    this.props.dispatch(getFaktur());\r\n  }\r\n  handleSubmit(data) {\r\n    console.log(data);\r\n  }\r\n  showCC() {\r\n    this.props.dispatch(showModal());\r\n  }\r\n  showBayar(data) {\r\n    this.setState({\r\n      bayar: true,\r\n      grand_total: data,\r\n    });\r\n  }\r\n  setBack() {\r\n    this.setState({\r\n      bayar: false,\r\n    });\r\n  }\r\n  handleSimpanCC(hasil) {\r\n    let data = {\r\n      no_ref: this.props.noFaktur,\r\n      no_card: `${hasil.no_card}`,\r\n      bayar_rp: hasil.grand_total,\r\n      fee_rp: hasil.fee_card,\r\n      no_ac: `${hasil.bank}`,\r\n      valid_until: hasil.expiry,\r\n      nama_pemilik: hasil.name,\r\n      no_ktp: hasil.no_ktp,\r\n      alamat_ktp: hasil.alamat_ktp,\r\n      kota_ktp: hasil.kota,\r\n      telepon_ktp: hasil.handphone,\r\n      jenis_trx: hasil.jenis_trx || \"DEBIT\",\r\n    };\r\n    let array = JSON.parse(localStorage.getItem(\"listPembayaran_temp\")) || [];\r\n    array.push(data);\r\n    localStorage.setItem(\"listPembayaran_temp\", JSON.stringify(array));\r\n    ToastSucces(\"Berhasil Menambahkan Data\");\r\n    this.props.dispatch(getListPembayaran());\r\n    localStorage.removeItem(\"noFaktur\");\r\n    this.props.dispatch(getFaktur());\r\n  }\r\n  sendData(hasil) {\r\n    let data = {\r\n      no_service_terima: localStorage.getItem(\"terima_service_luar_nomor\"),\r\n      tanggal: getToday(),\r\n      no_bon: this.props.no_bon_kirim,\r\n      margin_rp: hasil.margin,\r\n      total_bayar: this.props.grand_total,\r\n      cash_rp: hasil.bayar,\r\n      no_ref_cash: this.props.noFaktur,\r\n      status_masuk_piutang: hasil.piutang || false,\r\n      detail_non_tunai:\r\n        localStorage.getItem(\"listPembayaran_temp\") === \"[]\"\r\n          ? [\r\n              {\r\n                no_ref: \"-\",\r\n                no_ac: \"-\",\r\n                bayar_rp: 0,\r\n                fee_rp: 0,\r\n                no_card: \"-\",\r\n                valid_until: \"-\",\r\n                nama_pemilik: \"-\",\r\n                no_ktp: \"-\",\r\n                alamat_ktp: \"-\",\r\n                kota_ktp: \"-\",\r\n                telepon_ktp: \"-\",\r\n                jenis_trx: \"-\",\r\n              },\r\n            ]\r\n          : localStorage.getItem(\"listPembayaran_temp\") !== null\r\n          ? JSON.parse(localStorage.getItem(\"listPembayaran_temp\"))\r\n          : [\r\n              {\r\n                no_ref: \"-\",\r\n                no_ac: \"-\",\r\n                bayar_rp: 0,\r\n                fee_rp: 0,\r\n                no_card: \"-\",\r\n                valid_until: \"-\",\r\n                nama_pemilik: \"-\",\r\n                no_ktp: \"-\",\r\n                alamat_ktp: \"-\",\r\n                kota_ktp: \"-\",\r\n                telepon_ktp: \"-\",\r\n                jenis_trx: \"-\",\r\n              },\r\n            ],\r\n    };\r\n    console.log(JSON.stringify(data));\r\n    // return false;\r\n    AxiosMasterPost(\"terima-service-luar/post-transaksi\", data)\r\n      .then(() => NotifSucces(\"Terima Service Berhasil\"))\r\n      .then(() =>\r\n        multipleDeleteLocal([\r\n          \"noFaktur\",\r\n          \"listPembayaran_temp\",\r\n          \"terima_service_luar_nomor\",\r\n        ])\r\n      )\r\n      .then(() => this.props.dispatch(getListKirimServiceLuar()))\r\n      .then(() => this.props.dispatch(reset(\"HeadServiceLuar\")))\r\n      .then(() => this.props.dispatch(getFaktur()))\r\n      .then(() => this.setBack())\r\n      .then(() => this.props.dispatch(reset(\"ModalTerimaServiceLuar\")))\r\n      .catch((err) =>\r\n        ToastError(`Terima Service Gagal, Error : ${err.response.data}`)\r\n      );\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Transaksi</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Terima Service Luar</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Terima Service Luar </h1>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-12\">\r\n            <Panel>\r\n              <PanelHeader>Terima Service Luar</PanelHeader>\r\n              <PanelBody>\r\n                <br />\r\n                <div className=\"col-lg-12\">\r\n                  {!this.state.bayar ? (\r\n                    <HeadTerimaServiceLuar showBayar={() => this.showBayar()} />\r\n                  ) : (\r\n                    <ModalTerimaServiceLuar\r\n                      showCC={() => this.showCC()}\r\n                      setBack={() => this.setBack()}\r\n                      onSubmit={(data) => this.sendData(data)}\r\n                    />\r\n                  )}\r\n                </div>\r\n                <br />\r\n                <div className=\"col-lg-12\"></div>\r\n                {/* End Tambah Master Kategori  */}\r\n              </PanelBody>\r\n            </Panel>\r\n            <ModalGlobal\r\n              title=\"Simpan Data Harga\"\r\n              content={\r\n                <ModalCC onSubmit={(data) => this.handleSimpanCC(data)} />\r\n              }\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(maptostate, null)(ServiceLuar);\r\n","import React, { Component } from \"react\";\r\nimport Cards from \"react-credit-cards\";\r\nimport \"react-credit-cards/es/styles-compiled.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport { AxiosMasterGet } from \"../../../axios\";\r\nimport {\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../components/notification/notification\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  locale: \"id-ID\",\r\n});\r\nconst validate = (value) => {\r\n  const errors = {};\r\n  if (value.grand_total > value.sub_total) {\r\n    errors.grand_total = \"Pembayaran Tidak Boleh Lebih Dari Sub Total\";\r\n  }\r\n  return errors;\r\n};\r\nclass ModalCC extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      cvc: \"\",\r\n      expiry: \"\",\r\n      focus: \"\",\r\n      name: \"\",\r\n      no_card: \"\",\r\n      nav1: \"nav-item nav-link active\",\r\n      nav2: \"nav-item nav-link\",\r\n      nav3: \"nav-item nav-link\",\r\n      listBank: [],\r\n    };\r\n  }\r\n  handleInputFocus = (e) => {\r\n    this.setState({ focus: e.target.name });\r\n  };\r\n\r\n  handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    this.setState({ [name]: value });\r\n    this.props.change(name, value);\r\n  };\r\n\r\n  componentDidMount() {\r\n    AxiosMasterGet(\"bank/get/all\").then((res) =>\r\n      this.setState({\r\n        listBank:\r\n          res &&\r\n          res.data.map((list) => {\r\n            let data = {\r\n              value: list.no_ac,\r\n              name: `${list.atas_nama} / ${list.nama_bank}`,\r\n            };\r\n            return data;\r\n          }),\r\n      })\r\n    );\r\n  }\r\n\r\n  setTotal() {\r\n    this.props.change(\"fee_card\", this.props.fee_card);\r\n    this.props.change(\"total_card\", this.props.total);\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"col-lg-12\">\r\n        <Cards\r\n          cvc={this.state.cvc}\r\n          expiry={this.state.expiry}\r\n          focused={this.state.focus}\r\n          name={this.state.name}\r\n          number={this.state.no_card}\r\n        />\r\n        <form onSubmit={this.props.handleSubmit} className=\"mt-3\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-12\">\r\n              <nav className=\"nav nav-pills nav-fill\">\r\n                <button\r\n                  type=\"button\"\r\n                  className={this.state.nav1}\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      nav1: \"nav-item nav-link active\",\r\n                      nav2: \"nav-item nav-link\",\r\n                      nav3: \"nav-item nav-link\",\r\n                    });\r\n                    this.props.change(\"jenis_trx\", \"DEBIT\");\r\n                  }}\r\n                >\r\n                  DEBIT\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className={this.state.nav2}\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      nav1: \"nav-item nav-link \",\r\n                      nav2: \"nav-item nav-link active\",\r\n                      nav3: \"nav-item nav-link\",\r\n                    });\r\n                    this.props.change(\"jenis_trx\", \"CARD\");\r\n                  }}\r\n                >\r\n                  CREDIT\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className={this.state.nav3}\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      nav1: \"nav-item nav-link \",\r\n                      nav2: \"nav-item nav-link\",\r\n                      nav3: \"nav-item nav-link active\",\r\n                    });\r\n                    this.props.change(\"jenis_trx\", \"TRANSFER\");\r\n                  }}\r\n                >\r\n                  TRANSFER\r\n                </button>\r\n              </nav>\r\n            </div>\r\n            <div className=\"col-lg-12 mb-2 mt-2\">\r\n              <h4>Data Kartu</h4>\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"\">No.Card</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  className=\"form-control\"\r\n                  name=\"no_card\"\r\n                  placeholder=\"Card Number\"\r\n                  onChange={this.handleInputChange}\r\n                  onFocus={this.handleInputFocus}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-3 d-none\">\r\n              <Field\r\n                name=\"no_card\"\r\n                component={ReanderField}\r\n                type=\"telp\"\r\n                label=\"No.Card\"\r\n                placeholder=\"Masukan No.Card\"\r\n                onChange={this.handleInputChange}\r\n                onFocus={this.handleInputFocus}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"\">Valid Until</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  className=\"form-control\"\r\n                  name=\"expiry\"\r\n                  placeholder=\"MM/YY\"\r\n                  onChange={this.handleInputChange}\r\n                  onFocus={this.handleInputFocus}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-3 d-none\">\r\n              <Field\r\n                name=\"expiry\"\r\n                component={ReanderField}\r\n                type=\"telp\"\r\n                label=\"Valid until ( MM/YY )\"\r\n                placeholder=\"Masukan Valid until ( MM/YY )\"\r\n                onChange={this.handleInputChange}\r\n                onFocus={this.handleInputFocus}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"\">Nama Pemilik</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  className=\"form-control\"\r\n                  name=\"name\"\r\n                  placeholder=\"Nama Pemilik\"\r\n                  onChange={this.handleInputChange}\r\n                  onFocus={this.handleInputFocus}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-3 d-none\">\r\n              <Field\r\n                name=\"name\"\r\n                component={ReanderField}\r\n                type=\"text\"\r\n                label=\"Nama Pemilik\"\r\n                placeholder=\"Masukan Nama Pemilik\"\r\n                onChange={this.handleInputChange}\r\n                onFocus={this.handleInputFocus}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"\">CVC / CVV</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  className=\"form-control\"\r\n                  name=\"cvc\"\r\n                  placeholder=\"Nama Pemilik\"\r\n                  onChange={this.handleInputChange}\r\n                  onFocus={this.handleInputFocus}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-3 d-none\">\r\n              <Field\r\n                name=\"cvc\"\r\n                component={ReanderField}\r\n                type=\"text\"\r\n                label=\"Nama Pemilik\"\r\n                placeholder=\"Masukan Nama Pemilik\"\r\n                onChange={this.handleInputChange}\r\n                onFocus={this.handleInputFocus}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-12 mb-2\">\r\n              <h4>Data Pemilik</h4>\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <Field\r\n                name=\"no_ktp\"\r\n                component={ReanderField}\r\n                type=\"number\"\r\n                label=\"Nomor KTP\"\r\n                placeholder=\"Masukan Nomor KTP\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <Field\r\n                name=\"alamat_ktp\"\r\n                component={ReanderField}\r\n                type=\"text\"\r\n                label=\"Alamat KTP\"\r\n                placeholder=\"Masukan Alamat KTP\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3 d-none\">\r\n              <Field\r\n                name=\"jenis_trx\"\r\n                component={ReanderField}\r\n                type=\"text\"\r\n                label=\"Jenis Transaksi\"\r\n                placeholder=\"Masukan Jenis Transaksi\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <Field\r\n                name=\"kota\"\r\n                component={ReanderField}\r\n                type=\"text\"\r\n                label=\"Kota\"\r\n                placeholder=\"Masukan Kota\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <Field\r\n                name=\"handphone\"\r\n                component={ReanderField}\r\n                type=\"telp\"\r\n                label=\"Handphone\"\r\n                placeholder=\"Masukan Handphone\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-12 mb-2\">\r\n              <h4>Data Harga</h4>\r\n            </div>\r\n            <div className=\"col-lg-2\">\r\n              <Field\r\n                name=\"bank\"\r\n                component={ReanderSelect}\r\n                options={this.state.listBank}\r\n                label=\"Bank\"\r\n                placeholder=\"Masukan Bank\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-2\">\r\n              <Field\r\n                name=\"sub_total\"\r\n                component={ReanderField}\r\n                type=\"text\"\r\n                label=\"Sub Total\"\r\n                placeholder=\"Masukan Sub Total\"\r\n                readOnly\r\n                {...currencyMask}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-2\">\r\n              <Field\r\n                name=\"grand_total\"\r\n                component={ReanderField}\r\n                type=\"telp\"\r\n                label=\"Grand Total\"\r\n                placeholder=\"Masukan Grand Total\"\r\n                {...currencyMask}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-1\">\r\n              <Field\r\n                name=\"fee_card_percent\"\r\n                component={ReanderField}\r\n                type=\"number\"\r\n                label=\"% Card\"\r\n                placeholder=\"0\"\r\n                onChange={this.setTotal()}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-2\">\r\n              <Field\r\n                name=\"fee_card\"\r\n                component={ReanderField}\r\n                type=\"telp\"\r\n                label=\"Fee Card\"\r\n                placeholder=\"0\"\r\n                {...currencyMask}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <Field\r\n                name=\"total_card\"\r\n                component={ReanderField}\r\n                type=\"telp\"\r\n                label=\"Card + Fee\"\r\n                placeholder=\"Masukan Card + Fee\"\r\n                {...currencyMask}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-12\">\r\n              <div className=\"text-right\">\r\n                <button className=\"btn btn-primary\">\r\n                  Simpan <i className=\"fa fa-paper-plane\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModalCC = reduxForm({\r\n  form: \"ModalCC\",\r\n  enableReinitialize: true,\r\n  validate: validate,\r\n})(ModalCC);\r\nconst selector = formValueSelector(\"ModalCC\");\r\nexport default connect((state) => {\r\n  const { grand_total, fee_card_percent } = selector(\r\n    state,\r\n    \"grand_total\",\r\n    \"fee_card_percent\"\r\n  );\r\n  return {\r\n    fee_card:\r\n      parseFloat(grand_total || 0) * (parseFloat(fee_card_percent || 0) / 100),\r\n    total:\r\n      parseFloat(grand_total || 0) +\r\n      parseFloat(grand_total || 0) * (parseFloat(fee_card_percent || 0) / 100),\r\n    sub_total: state.transaksi.sub_total,\r\n    initialValues: {\r\n      sub_total:\r\n        state.transaksi.total_bayar - (state.transaksi.totalTukar || 0),\r\n    },\r\n  };\r\n})(ModalCC);\r\n"],"sourceRoot":""}